<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>6-内置结构-字典  &middot; dahl&#39;s blog</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="" />

<meta name="keywords" content="">


<meta property="og:title" content="6-内置结构-字典  &middot; dahl&#39;s blog ">
<meta property="og:site_name" content="dahl&#39;s blog"/>
<meta property="og:url" content="https://dachenzi.github.io/1/01/01/6-%E5%86%85%E7%BD%AE%E7%BB%93%E6%9E%84-%E5%AD%97%E5%85%B8/" />
<meta property="og:locale" content="en-EN">


<meta property="og:type" content="article" />
<meta property="og:description" content=""/>
<meta property="og:article:published_time" content="0001-01-01T00:00:00Z" />
<meta property="og:article:modified_time" content="0001-01-01T00:00:00Z" />

  
    
  

  

<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "6-内置结构-字典",
    "author": {
      "@type": "Person",
      "name": "daxin.li"
    },
    "datePublished": "0001-01-01",
    "description": "",
    "wordCount":  763 
  }
</script>



<link rel="canonical" href="https://dachenzi.github.io/1/01/01/6-%E5%86%85%E7%BD%AE%E7%BB%93%E6%9E%84-%E5%AD%97%E5%85%B8/" />

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://dachenzi.github.io/touch-icon-144-precomposed.png">
<link href="https://dachenzi.github.io/favicon.png" rel="icon">

<meta name="generator" content="Hugo 0.75.1" />

  <!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link href='https://fonts.googleapis.com/css?family=Merriweather:300%7CRaleway%7COpen+Sans' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/highlight/default.css">

  
  
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'Your Google Analytics tracking code', 'auto');
	  ga('send', 'pageview');

	</script>

</head>
<body>
  <main id="main-wrapper" class="container main_wrapper has-sidebar">
    <header id="main-header" class="container main_header">
  <div class="container brand">
  <div class="container title h1-like">
  <a class="baselink" href="https://dachenzi.github.io">
  foobar

</a>

</div>

  
<div class="container topline">
  
  few words about your site


</div>


</div>

  <nav class="container nav primary no-print">
  

<a class="homelink" href="https://dachenzi.github.io">home</a>


  

</nav>

<div class="container nav secondary no-print">
  
<a id="contact-link-email" class="contact_link" rel="me" aria-label="Email" href="mailto:dahlhin.li@gmail.com">
  <span class="fa fa-envelope-square"></span></a>



<a id="contact-link-github" class="contact_link" rel="me" aria-label="Github" href="https://github.com/enten/hugo-boilerplate">
  <span class="fa fa-github-square"></span></a>




 


















</div>


  

</header>


<article id="main-content" class="container main_content single">
  <header class="container hat">
  <h1>6-内置结构-字典
</h1>

  <div class="metas">
<time datetime="0001-01-01">1 Jan, 0001</time>


  
  &middot; Read in about 4 min
  &middot; (763 Words)
  <br>
  


</div>

</header>

  <div class="container content">
  <p>{% raw %}</p>
<p><!-- raw HTML omitted --><strong>文章目录</strong><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<ul>
<li><a href="#1-%E5%AD%97%E5%85%B8%E4%BB%8B%E7%BB%8D">1 字典介绍</a></li>
<li><a href="#2-%E5%AD%97%E5%85%B8%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C">2 字典的基本操作</a>
<ul>
<li><a href="#21-%E5%AD%97%E5%85%B8%E7%9A%84%E5%AE%9A%E4%B9%89">2.1 字典的定义</a></li>
<li><a href="#22-%E5%AD%97%E5%85%B8%E5%85%83%E7%B4%A0%E7%9A%84%E8%AE%BF%E9%97%AE">2.2 字典元素的访问</a></li>
<li><a href="#23-%E5%AD%97%E5%85%B8%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9">2.3 字典的增删改</a></li>
</ul>
</li>
<li><a href="#3-%E5%AD%97%E5%85%B8%E9%81%8D%E5%8E%86">3 字典遍历</a>
<ul>
<li><a href="#31-%E9%81%8D%E5%8E%86%E5%AD%97%E5%85%B8%E7%9A%84key">3.1 遍历字典的key</a></li>
<li><a href="#32-%E9%81%8D%E5%8E%86%E5%AD%97%E5%85%B8%E7%9A%84value">3.2 遍历字典的value</a></li>
<li><a href="#33-%E5%8F%98%E9%87%8F%E5%AD%97%E5%85%B8%E7%9A%84%E9%94%AE%E5%80%BC%E5%AF%B9">3.3 变量字典的键值对</a></li>
<li><a href="#34-%E5%AD%97%E5%85%B8%E9%81%8D%E5%8E%86%E5%B0%8F%E7%BB%93">3.4 字典遍历小结</a></li>
</ul>
</li>
<li><a href="#4-defaultdict%E9%BB%98%E8%AE%A4%E5%80%BC%E5%AD%97%E5%85%B8">4 defaultdict默认值字典</a></li>
<li><a href="#5-orderedict%E6%9C%89%E5%BA%8F%E5%AD%97%E5%85%B8">5 OrdereDict有序字典</a></li>
</ul>
<!-- raw HTML omitted -->
<h1 id="1-字典介绍">1 字典介绍</h1>
<p>        在Python中字典属于一种映射类型，它和set相同，同样属于非线性结构存储，Python官方对dict有如下解释</p>
<ul>
<li>一个映射对象映射一个可hash的值到任意一个对象上去。</li>
<li>映射是可变的对象。</li>
<li>dict是当前唯一一个标准的映射类型。</li>
<li>字典的键几乎可以任意的值。</li>
<li>字典的值可以不必可hash，也就是说值可以是列表，字典，或者其他任意可变的对象</li>
<li>如果key相同，那么后面的value将会覆盖先前的value</li>
<li>不建议使用float类型作为字典的key</li>
</ul>
<p>简单来说：字典是由key:value键值对组成的数据的集合，它的主要特点是 <strong><code>可变的</code></strong>、<strong><code>无序的</code></strong>、<strong><code>不重复的</code></strong>。</p>
<blockquote>
<p>字典的key必须是可hash对象，之所以快，因为其本质上使用空间换了时间。</p>
</blockquote>
<h1 id="2-字典的基本操作">2 字典的基本操作</h1>
<p>        字典是除set集合以外另一种可变的非线性容器模型，在Python中非常强大，适合各种结构数据的存储、嵌套等。</p>
<h2 id="21-字典的定义">2.1 字典的定义</h2>
<p>        字典的每个key到value的键值对用冒号(:)分割，每对之间用逗号(,)分割，整个字典包括在花括号({})中。例：<code>{'a':1, 'b':2}</code>，Python提供了多种创建字典的方式，如下：</p>
<ul>
<li>基本格式：<code>d = dict()</code> 或者 <code>d = {}</code></li>
<li><code>dict(**kwargs)</code>: 使用name=value对，来初始化一个字典</li>
<li><code>dict(iterable, **kwargs)</code>：使用可迭代对象和name=value构造字典，<strong><code>注意可迭代对象必须是一个二元结构</code></strong></li>
<li><code>dict(mapping, **kwargs)</code>: 使用一个字典构造另一个字典</li>
<li><code>dic = {'a':1, 'b':2, 'c':3, 'd':[1,2,3]}</code></li>
<li><code>dic = dict.fromkeys(iterable, value)</code>: 使用可迭代对象的值作为key生成字典,value默认为0，否则用指定的value对字典进行初始化。</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">114</span>]: d1<span style="color:#f92672">=</span>dict()
In [<span style="color:#ae81ff">115</span>]: d2<span style="color:#f92672">=</span>{}    
In [<span style="color:#ae81ff">118</span>]: d3 <span style="color:#f92672">=</span> dict(a<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>,b<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)                                                                               
In [<span style="color:#ae81ff">120</span>]: d3       
Out[<span style="color:#ae81ff">120</span>]: {<span style="color:#e6db74">&#39;a&#39;</span>: <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>: <span style="color:#ae81ff">2</span>}
In [<span style="color:#ae81ff">124</span>]: d4 <span style="color:#f92672">=</span> dict([(<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#ae81ff">1</span>),(<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#ae81ff">2</span>)], c<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>, d<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>)                                                           
In [<span style="color:#ae81ff">125</span>]: d5 <span style="color:#f92672">=</span> dict(d4,e<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>,f<span style="color:#f92672">=</span><span style="color:#ae81ff">6</span>)                                                                            
In [<span style="color:#ae81ff">126</span>]: d7 <span style="color:#f92672">=</span> dict<span style="color:#f92672">.</span>fromkeys(range(<span style="color:#ae81ff">5</span>))                                                                     
In [<span style="color:#ae81ff">127</span>]: d8 <span style="color:#f92672">=</span> dict<span style="color:#f92672">.</span>fromkeys(range(<span style="color:#ae81ff">5</span>),<span style="color:#ae81ff">100</span>)                                                                
In [<span style="color:#ae81ff">128</span>]: d7       
Out[<span style="color:#ae81ff">128</span>]: {<span style="color:#ae81ff">0</span>: None, <span style="color:#ae81ff">1</span>: None, <span style="color:#ae81ff">2</span>: None, <span style="color:#ae81ff">3</span>: None, <span style="color:#ae81ff">4</span>: None}                                                         
In [<span style="color:#ae81ff">131</span>]: d8       
Out[<span style="color:#ae81ff">131</span>]: {<span style="color:#ae81ff">0</span>: <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">1</span>: <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">2</span>: <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">3</span>: <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">4</span>: <span style="color:#ae81ff">100</span>} 
</code></pre></div><h2 id="22-字典元素的访问">2.2 字典元素的访问</h2>
<p>有如下三种方式访问字典的键值对：</p>
<ul>
<li><code>d[key]</code>: 返回key对应的value，key不存在抛出KeyError异常</li>
<li><code>dict.get(key[, default])</code>: 返回key对应的value，key不存在返回缺省值，如果没有设置缺省值赶回None</li>
<li><code>dict.setdefault(key[, default])</code>: 返回key对应的值value，key不存在，添加key:value键值对(value设置为default)，并返回value，如果default没有设置缺省为None</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">32</span>]: dic <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;c&#39;</span>:<span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;d&#39;</span>:<span style="color:#ae81ff">4</span>}    
In [<span style="color:#ae81ff">33</span>]: dic[<span style="color:#e6db74">&#39;a&#39;</span>]                              
Out[<span style="color:#ae81ff">33</span>]: <span style="color:#ae81ff">1</span>
In [<span style="color:#ae81ff">34</span>]: dic[<span style="color:#e6db74">&#39;e&#39;</span>]          <span style="color:#75715e"># 不存在&#39;e&#39;这个key，所以直接访问会出现异常                       </span>
<span style="color:#f92672">---------------------------------------------------------------------------</span>
<span style="color:#a6e22e">KeyError</span>                                  Traceback (most recent call last)
<span style="color:#f92672">&lt;</span>ipython<span style="color:#f92672">-</span>input<span style="color:#f92672">-</span><span style="color:#ae81ff">34</span><span style="color:#f92672">-</span><span style="color:#ae81ff">87</span>d22c709971<span style="color:#f92672">&gt;</span> <span style="color:#f92672">in</span> <span style="color:#f92672">&lt;</span>module<span style="color:#f92672">&gt;</span>
<span style="color:#f92672">----&gt;</span> <span style="color:#ae81ff">1</span> dic[<span style="color:#e6db74">&#39;e&#39;</span>]

<span style="color:#a6e22e">KeyError</span>: <span style="color:#e6db74">&#39;e&#39;</span>
In [<span style="color:#ae81ff">35</span>]: dic<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;a&#39;</span>)     <span style="color:#75715e"># key存在，则返回对应的值                        </span>
Out[<span style="color:#ae81ff">35</span>]: <span style="color:#ae81ff">1</span>
In [<span style="color:#ae81ff">36</span>]: dic<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;e&#39;</span>)     <span style="color:#75715e"># 不存在，默认会返回None，ipython优化了None的输出，所以这里无显示                     </span>
In [<span style="color:#ae81ff">37</span>]: dic<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;e&#39;</span>,<span style="color:#e6db74">&#39;not exist&#39;</span>)     <span style="color:#75715e"># 不存在时，由指定的default进行返回         </span>
Out[<span style="color:#ae81ff">37</span>]: <span style="color:#e6db74">&#39;not exist&#39;</span>
In [<span style="color:#ae81ff">38</span>]: dic<span style="color:#f92672">.</span>setdefault(<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;ok?&#39;</span>)   <span style="color:#75715e"># 设置a的值为ok?,a存在，所以返回a对应的值1         </span>
Out[<span style="color:#ae81ff">38</span>]: <span style="color:#ae81ff">1</span>
In [<span style="color:#ae81ff">39</span>]: dic<span style="color:#f92672">.</span>setdefault(<span style="color:#e6db74">&#39;e&#39;</span>, <span style="color:#e6db74">&#39;ok?&#39;</span>)   <span style="color:#75715e"># 设置e的值为ok?，e不存在，所以设置并放回value(key不存在时等同于设置并访问了)         </span>
Out[<span style="color:#ae81ff">39</span>]: <span style="color:#e6db74">&#39;ok?&#39;</span>
In [<span style="color:#ae81ff">40</span>]: dic                                   
Out[<span style="color:#ae81ff">40</span>]: {<span style="color:#e6db74">&#39;a&#39;</span>: <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>: <span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;c&#39;</span>: <span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;d&#39;</span>: <span style="color:#ae81ff">4</span>, <span style="color:#e6db74">&#39;e&#39;</span>: <span style="color:#e6db74">&#39;ok?&#39;</span>}
</code></pre></div><blockquote>
<p><strong>当然字典也可以被迭代访问,后面介绍</strong></p>
</blockquote>
<h2 id="23-字典的增删改">2.3 字典的增删改</h2>
<p>        由于字典可变、非线性、无序的特性，而且字典的key必须是可hash的对象，查找某个key也是直接hash()，然后找到对应的房间的，所以我们对它某个key的修改可以理解为是<code>O(1)</code>的操作，效率很高，主要有以下几种方法。</p>
<ul>
<li><code>d[key] = value</code>: 将key对应的值修改为value，key不存在添加新的key:value对。</li>
<li><code>dic.update([other]) --&gt; None</code>: 使用另一个字典的k,v对更新本字典，key不存在时添加，存在时则覆盖，所以不会返回新的字典，属于原地修改。</li>
<li><code>dic.pop(key[, default])</code>: key存在，移除它，并返回它的value，key不存在返回指定的default，如果default未指定，那么会返回KeyError异常。</li>
<li><code>dic.popitem()</code>: 移除并返回一个任意的键值对，字典为empty时，抛出KeyError异常。</li>
<li><code>dic.clear()</code>: 清空字典。</li>
<li><code>del dic['a']</code>: 通用的删除变量方法。</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">41</span>]: dic                                   
Out[<span style="color:#ae81ff">41</span>]: {<span style="color:#e6db74">&#39;a&#39;</span>: <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>: <span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;c&#39;</span>: <span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;d&#39;</span>: <span style="color:#ae81ff">4</span>, <span style="color:#e6db74">&#39;e&#39;</span>: <span style="color:#e6db74">&#39;ok?&#39;</span>}

In [<span style="color:#ae81ff">42</span>]: dic[<span style="color:#e6db74">&#39;a&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1000</span>                       
In [<span style="color:#ae81ff">43</span>]: dic                                   
Out[<span style="color:#ae81ff">43</span>]: {<span style="color:#e6db74">&#39;a&#39;</span>: <span style="color:#ae81ff">1000</span>, <span style="color:#e6db74">&#39;b&#39;</span>: <span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;c&#39;</span>: <span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;d&#39;</span>: <span style="color:#ae81ff">4</span>, <span style="color:#e6db74">&#39;e&#39;</span>: <span style="color:#e6db74">&#39;ok?&#39;</span>}

In [<span style="color:#ae81ff">44</span>]: dic2 <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">200</span>,<span style="color:#e6db74">&#39;f&#39;</span>:<span style="color:#ae81ff">50</span>}               
In [<span style="color:#ae81ff">45</span>]: dic<span style="color:#f92672">.</span>update(dic2)                      
In [<span style="color:#ae81ff">46</span>]: dic                                   
Out[<span style="color:#ae81ff">46</span>]: {<span style="color:#e6db74">&#39;a&#39;</span>: <span style="color:#ae81ff">200</span>, <span style="color:#e6db74">&#39;b&#39;</span>: <span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;c&#39;</span>: <span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;d&#39;</span>: <span style="color:#ae81ff">4</span>, <span style="color:#e6db74">&#39;e&#39;</span>: <span style="color:#e6db74">&#39;ok?&#39;</span>, <span style="color:#e6db74">&#39;f&#39;</span>: <span style="color:#ae81ff">50</span>}

In [<span style="color:#ae81ff">48</span>]: dic<span style="color:#f92672">.</span>pop(<span style="color:#e6db74">&#39;a&#39;</span>)             <span style="color:#75715e"># 弹出一个key&#39;a&#39;，key存在返回key对应的value           </span>
Out[<span style="color:#ae81ff">48</span>]: <span style="color:#ae81ff">200</span>

In [<span style="color:#ae81ff">49</span>]: dic<span style="color:#f92672">.</span>pop(<span style="color:#e6db74">&#39;g&#39;</span>)              <span style="color:#75715e"># 弹出一个key&#39;g&#39;，key不存在，又没有指定default，则会报KeyError异常                </span>
<span style="color:#f92672">---------------------------------------------------------------------------</span>
<span style="color:#a6e22e">KeyError</span>                                  Traceback (most recent call last)
<span style="color:#f92672">&lt;</span>ipython<span style="color:#f92672">-</span>input<span style="color:#f92672">-</span><span style="color:#ae81ff">49</span><span style="color:#f92672">-</span><span style="color:#ae81ff">311</span>c3ba80251<span style="color:#f92672">&gt;</span> <span style="color:#f92672">in</span> <span style="color:#f92672">&lt;</span>module<span style="color:#f92672">&gt;</span>
<span style="color:#f92672">----&gt;</span> <span style="color:#ae81ff">1</span> dic<span style="color:#f92672">.</span>pop(<span style="color:#e6db74">&#39;g&#39;</span>)

<span style="color:#a6e22e">KeyError</span>: <span style="color:#e6db74">&#39;g&#39;</span>

In [<span style="color:#ae81ff">50</span>]: dic<span style="color:#f92672">.</span>pop(<span style="color:#e6db74">&#39;g&#39;</span>,<span style="color:#e6db74">&#39;not exist&#39;</span>)       <span style="color:#75715e"># 指定了default，当key不存在时，会返回指定的default值       </span>
Out[<span style="color:#ae81ff">50</span>]: <span style="color:#e6db74">&#39;not exist&#39;</span>

In [<span style="color:#ae81ff">51</span>]: dic<span style="color:#f92672">.</span>popitem()          <span style="color:#75715e"># 弹出一个key:valyue键值对，返回对象是元组形式               </span>
Out[<span style="color:#ae81ff">51</span>]: (<span style="color:#e6db74">&#39;d&#39;</span>, <span style="color:#ae81ff">4</span>)
In [<span style="color:#ae81ff">52</span>]: dic                                   
Out[<span style="color:#ae81ff">52</span>]: {<span style="color:#e6db74">&#39;b&#39;</span>: <span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;c&#39;</span>: <span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;e&#39;</span>: <span style="color:#e6db74">&#39;ok?&#39;</span>, <span style="color:#e6db74">&#39;f&#39;</span>: <span style="color:#ae81ff">50</span>}

In [<span style="color:#ae81ff">53</span>]: <span style="color:#66d9ef">del</span> dic[<span style="color:#e6db74">&#39;e&#39;</span>]                          
In [<span style="color:#ae81ff">54</span>]: dic                                   
Out[<span style="color:#ae81ff">54</span>]: {<span style="color:#e6db74">&#39;b&#39;</span>: <span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;c&#39;</span>: <span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;f&#39;</span>: <span style="color:#ae81ff">50</span>}

In [<span style="color:#ae81ff">55</span>]: dic<span style="color:#f92672">.</span>clear()                           
In [<span style="color:#ae81ff">56</span>]: dic                                   
Out[<span style="color:#ae81ff">56</span>]: {}
</code></pre></div><blockquote>
<p>当我们以字典的某个对象比如keys,values,items等为条件对字典进行遍历时，我们不能在遍历的同时删除字典的元素，字典在运行时不允许长度改变，但是在list中这种操作是可以的，但是会得到意想不到的结果，建议对容器进行遍历的同时不要修改它的长度。</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">7</span>]: s   
Out[<span style="color:#ae81ff">7</span>]: {<span style="color:#e6db74">&#39;a&#39;</span>: <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>: <span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;c&#39;</span>: <span style="color:#ae81ff">4</span>, <span style="color:#e6db74">&#39;d&#39;</span>: <span style="color:#ae81ff">5</span>, <span style="color:#e6db74">&#39;e&#39;</span>: <span style="color:#ae81ff">7</span>, <span style="color:#e6db74">&#39;j&#39;</span>: <span style="color:#ae81ff">10</span>}
In [<span style="color:#ae81ff">8</span>]: len(s)                                                                                      
Out[<span style="color:#ae81ff">8</span>]: <span style="color:#ae81ff">6</span>
In [<span style="color:#ae81ff">10</span>]: <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">6</span>): 
    <span style="color:#f92672">...</span>:     s<span style="color:#f92672">.</span>popitem() 
    <span style="color:#f92672">...</span>:    

In [<span style="color:#ae81ff">11</span>]: s  
Out[<span style="color:#ae81ff">11</span>]: {}

<span style="color:#75715e"># 下面这种方式是错的，也是觉得不可以的。</span>
<span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> s<span style="color:#f92672">.</span>keys():
    s<span style="color:#f92672">.</span>pop(i)
</code></pre></div><h1 id="3-字典遍历">3 字典遍历</h1>
<p>        在Python中，我们所说的基本数据结构：字符串、元组、列表，集合，包括字典，都可以认为是一个容器箱子，只要是容器，我们就可以进行遍历(是否有序和是否可以遍历没有必然关系，只不过有序的话是顺序拿出，而无序则是随机拿出)，我们可以使用多种方式对字典进行迭代遍历，但是有些地方和其他类型不同。</p>
<h2 id="31-遍历字典的key">3.1 遍历字典的key</h2>
<p>        <code>dic.keys()</code>: &ndash;&gt; <code>dict_keys</code> &ndash;&gt; 返回字典dic的所有key组成的一个dict_keys视图集合(<strong><code>类set结构，不会生成新的内存空间</code></strong>)。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">64</span>]: dic <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;c&#39;</span>:<span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;d&#39;</span>:<span style="color:#ae81ff">4</span>}    

In [<span style="color:#ae81ff">65</span>]: <span style="color:#66d9ef">for</span> key <span style="color:#f92672">in</span> dic: 
    <span style="color:#f92672">...</span>:     <span style="color:#66d9ef">print</span>(key)                              
a
d
c
b

In [<span style="color:#ae81ff">66</span>]: <span style="color:#66d9ef">for</span> key <span style="color:#f92672">in</span> dic<span style="color:#f92672">.</span>keys(): 
    <span style="color:#f92672">...</span>:     <span style="color:#66d9ef">print</span>(key)                                    
a
d
c
b

In [<span style="color:#ae81ff">67</span>]: dic<span style="color:#f92672">.</span>keys()                            
Out[<span style="color:#ae81ff">67</span>]: dict_keys([<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;d&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>])
</code></pre></div><blockquote>
<p>迭代字典就是在迭代字典的key，所以直接迭代字典和使用字典的keys()方法返回一个keys的视图然后再迭代，是一样的效果。</p>
</blockquote>
<h2 id="32-遍历字典的value">3.2 遍历字典的value</h2>
<p>        <code>dic.values()</code>: &ndash;&gt; <code>dict_values</code> &ndash;&gt; 返回字典dic的所有values组成的一个dict_values视图集合(<strong><code>类set结构，不会生成新的内存空间</code></strong>)。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">69</span>]: <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> dic: 
    <span style="color:#f92672">...</span>:     <span style="color:#66d9ef">print</span>(dic[i])                                   
<span style="color:#ae81ff">1</span>
<span style="color:#ae81ff">4</span>
<span style="color:#ae81ff">3</span>
<span style="color:#ae81ff">2</span>

In [<span style="color:#ae81ff">70</span>]: <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> dic<span style="color:#f92672">.</span>values(): 
    <span style="color:#f92672">...</span>:     <span style="color:#66d9ef">print</span>(i)                                   
<span style="color:#ae81ff">1</span>
<span style="color:#ae81ff">4</span>
<span style="color:#ae81ff">3</span>
<span style="color:#ae81ff">2</span>

In [<span style="color:#ae81ff">71</span>]: dic<span style="color:#f92672">.</span>values()                          
Out[<span style="color:#ae81ff">71</span>]: dict_values([<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>])
</code></pre></div><blockquote>
<p>可以首先遍历字典的key，然后再通过key来访问对应的value，也可以通过values()直接访问values。</p>
</blockquote>
<h2 id="33-变量字典的键值对">3.3 变量字典的键值对</h2>
<p>        <code>dic.items()</code>: &ndash;&gt; <code>dict_items</code> &ndash;&gt; 返回字典dic的所有的key和value(每个key和value的键值对由元组表示)组成的一个dict_items视图集合(<strong><code>类set结构，不会生成新的内存空间</code></strong>)。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">75</span>]: <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> dic<span style="color:#f92672">.</span>items(): 
    <span style="color:#f92672">...</span>:     <span style="color:#66d9ef">print</span>(i) 
    <span style="color:#f92672">...</span>:                                       
(<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#ae81ff">1</span>)
(<span style="color:#e6db74">&#39;d&#39;</span>, <span style="color:#ae81ff">4</span>)
(<span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#ae81ff">3</span>)
(<span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#ae81ff">2</span>)

In [<span style="color:#ae81ff">77</span>]: <span style="color:#66d9ef">for</span> key,value <span style="color:#f92672">in</span> dic<span style="color:#f92672">.</span>items(): 
    <span style="color:#f92672">...</span>:     <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;key:{} value:{}&#39;</span><span style="color:#f92672">.</span>format(key,value)) 
    <span style="color:#f92672">...</span>:                                       
key:a value:<span style="color:#ae81ff">1</span>
key:d value:<span style="color:#ae81ff">4</span>
key:c value:<span style="color:#ae81ff">3</span>
key:b value:<span style="color:#ae81ff">2</span>

In [<span style="color:#ae81ff">78</span>]: 
</code></pre></div><blockquote>
<p>由于返回的每个键值对为元组格式，那么利用我们前面学的封装与结构，可以很方便的获取key和它对应的value</p>
</blockquote>
<h2 id="34-字典遍历小结">3.4 字典遍历小结</h2>
<p>        在Python3中，keys、values、items方法返回一个类似一个生成器的可迭代对象，不会把函数的返回结果复制到内存空间中。</p>
<ul>
<li>Dictionary view对象，可以使用len()、iter()、in
操作</li>
<li>字典的entry的动态视图，字典变化，视图将反映出这些变化</li>
<li>keys返回一个类似set的对象，也可以看作是一个set集合，如果values可hash的话，那么items也可以看作是类set对象<br>
        Python 2中，keys、values、items方法会返回一个新的列表，占据新的内存空间，所以Python 2建议使用iterkeys、itervalues、iteritems，返回一个迭代器，而不是返回一个copy</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">[<span style="color:#ae81ff">11</span>:<span style="color:#ae81ff">20</span>:<span style="color:#ae81ff">32</span> python<span style="color:#a6e22e">@centos7</span> <span style="color:#f92672">~</span>]<span style="color:#960050;background-color:#1e0010">$</span>python
Python <span style="color:#ae81ff">2.7</span><span style="color:#f92672">.</span><span style="color:#ae81ff">5</span> (default, Oct <span style="color:#ae81ff">30</span> <span style="color:#ae81ff">2018</span>, <span style="color:#ae81ff">23</span>:<span style="color:#ae81ff">45</span>:<span style="color:#ae81ff">53</span>) 
[GCC <span style="color:#ae81ff">4.8</span><span style="color:#f92672">.</span><span style="color:#ae81ff">5</span> <span style="color:#ae81ff">20150623</span> (Red Hat <span style="color:#ae81ff">4.8</span><span style="color:#f92672">.</span><span style="color:#ae81ff">5</span><span style="color:#f92672">-</span><span style="color:#ae81ff">36</span>)] on linux2
Type <span style="color:#e6db74">&#34;help&#34;</span>, <span style="color:#e6db74">&#34;copyright&#34;</span>, <span style="color:#e6db74">&#34;credits&#34;</span> <span style="color:#f92672">or</span> <span style="color:#e6db74">&#34;license&#34;</span> <span style="color:#66d9ef">for</span> more information<span style="color:#f92672">.</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> s <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>}
<span style="color:#f92672">&gt;&gt;&gt;</span> s<span style="color:#f92672">.</span>keys()    <span style="color:#75715e"># 直接生成一个keys的列表</span>
[<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>]
<span style="color:#f92672">&gt;&gt;&gt;</span> s<span style="color:#f92672">.</span>iterkeys()   <span style="color:#75715e"># 对象，迭代可以获取数据</span>
<span style="color:#f92672">&lt;</span>dictionary<span style="color:#f92672">-</span>keyiterator object at <span style="color:#ae81ff">0x7f271c5fa520</span><span style="color:#f92672">&gt;</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> 

</code></pre></div><h1 id="4-defaultdict默认值字典">4 defaultdict默认值字典</h1>
<p>        defaultdit object是dict的子类，我们称它为默认值字典，即在创建字典时给所有的value指定一个默认值，它存放在collections模块中，使用前需要先进行导入。为什么有默认值字典这种类型呢？那么请看如下代码：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">dic <span style="color:#f92672">=</span> {}
<span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> <span style="color:#e6db74">&#39;abacdabeddfef&#39;</span>:
    <span style="color:#66d9ef">if</span> i <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> dic:     <span style="color:#75715e"># 这句其实也可以优化为 dic[i] = dic.get(i, 0) + 1</span>
        dic[i] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
    dic[i] <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
<span style="color:#66d9ef">print</span>(dic)
</code></pre></div><p>        我们在计算一个字符串或者一个列表中的元素重复的次数时，通常会用到字典对齐进行计数，如果元素不存在字典中，那么就需要初始化元素，当我们使用默认值字典时，就可以优化的更简洁。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> collections <span style="color:#f92672">import</span> defaultdict
dic <span style="color:#f92672">=</span> defaultdict(int)   <span style="color:#75715e"># defaultdict(lambda :0)  这种方法也可以设置默认为0</span>
<span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> <span style="color:#e6db74">&#39;abacdabeddfef&#39;</span>:
    dic[i] <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>    <span style="color:#75715e"># 默认是int型，可以直接加减</span>
<span style="color:#66d9ef">print</span>(dic)
</code></pre></div><h1 id="5-orderedict有序字典">5 OrdereDict有序字典</h1>
<p>        Ordered dictionaries像一个有序字典，但是它记住的是插入元素的顺序。当我们迭代有序字典时，它会按照这些键值对插入的顺序返回。它同样存在于collections模块中，需要使用是请首先导入。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">1</span>]: <span style="color:#f92672">from</span> collections <span style="color:#f92672">import</span> OrderedDict          
In [<span style="color:#ae81ff">2</span>]: dic <span style="color:#f92672">=</span> OrderedDict()                          
In [<span style="color:#ae81ff">5</span>]: dic <span style="color:#f92672">=</span> dic<span style="color:#f92672">.</span>fromkeys(<span style="color:#e6db74">&#39;abc&#39;</span>,<span style="color:#ae81ff">1</span>)                  
In [<span style="color:#ae81ff">6</span>]: dic                                          
Out[<span style="color:#ae81ff">6</span>]: OrderedDict([(<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#ae81ff">1</span>), (<span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#ae81ff">1</span>), (<span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#ae81ff">1</span>)])
In [<span style="color:#ae81ff">8</span>]: <span style="color:#66d9ef">for</span> k,v <span style="color:#f92672">in</span> dic<span style="color:#f92672">.</span>items():     <span style="color:#75715e"># 按照插入的顺序</span>
   <span style="color:#f92672">...</span>:     <span style="color:#66d9ef">print</span>(k,v) 
   <span style="color:#f92672">...</span>:                                              
a <span style="color:#ae81ff">1</span>
b <span style="color:#ae81ff">1</span>
c <span style="color:#ae81ff">1</span>
In [<span style="color:#ae81ff">10</span>]: dic <span style="color:#f92672">=</span> dict([(<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#ae81ff">1</span>), (<span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#ae81ff">1</span>), (<span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#ae81ff">1</span>)])  

In [<span style="color:#ae81ff">11</span>]: <span style="color:#66d9ef">for</span> k,v <span style="color:#f92672">in</span> dic<span style="color:#f92672">.</span>items():    <span style="color:#75715e"># 无序的</span>
    <span style="color:#f92672">...</span>:     <span style="color:#66d9ef">print</span>(k,v) 
    <span style="color:#f92672">...</span>:                                             
a <span style="color:#ae81ff">1</span>
c <span style="color:#ae81ff">1</span>
b <span style="color:#ae81ff">1</span>

In [<span style="color:#ae81ff">12</span>]:       
</code></pre></div><blockquote>
<p>注意：在3.6的版本的python在python/ipython解释器中，直接迭代或者打印时，是有序的(OrderedDict)，但是在3.5版本以前都是随机的，千万不要以为字典是有序的！
{% endraw %}</p>
</blockquote>

</div>


  <footer class="container">
  <div class="container navigation no-print">
  <h2>Navigation</h2>
  
  

    
    <a class="prev" href="https://dachenzi.github.io/1/01/01/6-%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BBadmin%E7%AE%A1%E7%90%86%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/" title="6-自定义类admin管理增删改查">
      Previous
    </a>
    

    
    <a class="next" href="https://dachenzi.github.io/1/01/01/6-subprocess%E6%A8%A1%E5%9D%97-tempfile%E6%A8%A1%E5%9D%97/" title="6-subprocess模块-tempfile模块">
      Next
    </a>
    

  


</div>

  
<div class="container comments">
  <h2>Comments</h2>
  
<div id="disqus_thread"></div>
<script type="text/javascript">
  (function() {
    
    
    if (window.location.hostname == "localhost")
      return;

    var dsq = document.createElement('script'); dsq.async = true; dsq.type = 'text/javascript';
    dsq.src = '//your_disqus_shortname.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


</div>


</footer>

</article>
      <footer id="main-footer" class="container main_footer">
  

  <div class="container nav foot no-print">
  

  <a class="toplink" href="#">back to top</a>

</div>

  <div class="container credits">
  
<div class="container footline">
  
  code with <!-- raw HTML omitted --><!-- raw HTML omitted -->


</div>


  
<div class="container copyright">
  
  (c) 2015 Lee xin.


</div>


</div>

</footer>

    </main>
    
<script type="text/javascript">
  (function() {
    
    
    if (window.location.hostname == "localhost")
      return;
    var dsq = document.createElement('script'); dsq.async = true; dsq.type = 'text/javascript';
    dsq.src = '//your_disqus_shortname.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>



<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>



    
  </body>
</html>

