<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>LinuxRegExp  &middot; dahl&#39;s blog</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="" />

<meta name="keywords" content="">


<meta property="og:title" content="LinuxRegExp  &middot; dahl&#39;s blog ">
<meta property="og:site_name" content="dahl&#39;s blog"/>
<meta property="og:url" content="https://dachenzi.github.io/1/01/01/linuxregexp/" />
<meta property="og:locale" content="en-EN">


<meta property="og:type" content="article" />
<meta property="og:description" content=""/>
<meta property="og:article:published_time" content="0001-01-01T00:00:00Z" />
<meta property="og:article:modified_time" content="0001-01-01T00:00:00Z" />

  
    
  

  

<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "LinuxRegExp",
    "author": {
      "@type": "Person",
      "name": "daxin.li"
    },
    "datePublished": "0001-01-01",
    "description": "",
    "wordCount":  1660 
  }
</script>



<link rel="canonical" href="https://dachenzi.github.io/1/01/01/linuxregexp/" />

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://dachenzi.github.io/touch-icon-144-precomposed.png">
<link href="https://dachenzi.github.io/favicon.png" rel="icon">

<meta name="generator" content="Hugo 0.75.1" />

  <!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link href='https://fonts.googleapis.com/css?family=Merriweather:300%7CRaleway%7COpen+Sans' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/highlight/default.css">

  
  
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'Your Google Analytics tracking code', 'auto');
	  ga('send', 'pageview');

	</script>

</head>
<body>
  <main id="main-wrapper" class="container main_wrapper has-sidebar">
    <header id="main-header" class="container main_header">
  <div class="container brand">
  <div class="container title h1-like">
  <a class="baselink" href="https://dachenzi.github.io">
  foobar

</a>

</div>

  
<div class="container topline">
  
  few words about your site


</div>


</div>

  <nav class="container nav primary no-print">
  

<a class="homelink" href="https://dachenzi.github.io">home</a>


  

</nav>

<div class="container nav secondary no-print">
  
<a id="contact-link-email" class="contact_link" rel="me" aria-label="Email" href="mailto:dahlhin.li@gmail.com">
  <span class="fa fa-envelope-square"></span></a>



<a id="contact-link-github" class="contact_link" rel="me" aria-label="Github" href="https://github.com/enten/hugo-boilerplate">
  <span class="fa fa-github-square"></span></a>




 


















</div>


  

</header>


<article id="main-content" class="container main_content single">
  <header class="container hat">
  <h1>LinuxRegExp
</h1>

  <div class="metas">
<time datetime="0001-01-01">1 Jan, 0001</time>


  
  &middot; Read in about 8 min
  &middot; (1660 Words)
  <br>
  


</div>

</header>

  <div class="container content">
  <p>{% raw %}</p>
<h1 id="1-什么是正则表达式">1 什么是正则表达式</h1>
<p>        正则表达式RE（Regular Expression）是由一串字符和元字符构成的字符串。主要功能是文本查询和字符串操作，它可以匹配文本的一个字符或字符集合。实际上正则表达式完成了数据的过滤，将不满足正则表达式定义的数据拒绝掉，剩下与正则表达式匹配的数据。<br>
        <strong>简单的说，正则表达式就是为处理大量的字符串而定义的一套规则和方法。</strong></p>
<h2 id="11---正则表达式特点">1.1   正则表达式特点</h2>
<p>        正则表达式应用非常广泛，存在于各种语言中，例如：php、python、java等。Linux系统运维工作中的正则表达式，叫做Liunx正则表达式，它与其他语言中的正则表达式有一些不同，在Linux中最常应用正则表达式的是grep（egrep），sed，awk。<br>
        <strong>正则表达式和我们常用的通配符特殊字符是有本质区别的。注意设置字符集 LC_ALL=C其作用是为了去除所有本地化的设置，让命令能正确执行。</strong></p>
<h1 id="2--什么是通配符">2  什么是通配符</h1>
<p>        通配符是一种特殊语句，主要有星号(*)和问号(?)，用来模糊搜索文件。当查找文件夹时，可以使用它来代替一个或多个真正字符。当不知道真正字符或者懒得输入完整名字时，常常使用通配符代替一个或多个真正的字符。</p>
<h2 id="21---通配符和正则表达式的区别">2.1   通配符和正则表达式的区别</h2>
<p>        通配符一般用于命令行bash环境，用于匹配文件的名称而linux正则表达式一般用于awk、grep（egrep）、sed环境用于匹配字符串。</p>
<h1 id="3--通配符的含义">3  通配符的含义</h1>
<h2 id="31---号">3.1   *号</h2>
<p>表示任意位任意字符，通常用来匹配任意文件名</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># ls</span>
<span style="color:#ae81ff">1</span>   123.txt      1.txt  <span style="color:#ae81ff">4</span>           persion.txt
<span style="color:#ae81ff">12</span>  123.txt.bak  <span style="color:#ae81ff">3</span>      daxin.txt  sshd_config
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># ls *.txt</span>
123.txt  1.txt  daxin.txt  persion.txt
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
</code></pre></div><h2 id="32---号">3.2   ?号</h2>
<p>？号表示任意一个字符，多个？号可以叠加连用</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># ls ?.txt       # ？代表一个字符</span>
1.txt  2.txt  3.txt  4.txt  5.txt
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># ls ??.txt     # ？？代表两个字符</span>
10.txt  11.txt  12.txt  13.txt  14.txt  15.txt
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
</code></pre></div><h2 id="33---号">3.3   {}号</h2>
<p>{}表示一个命令的区块组合。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># ls {1,2}.txt  # 表示ls 1.txt 和2.txt的组合</span>
1.txt  2.txt
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># ls {1..5}.txt   # 两个点表示1到5</span>
1.txt  2.txt  3.txt  4.txt  5.txt
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
</code></pre></div><h2 id="34---特殊符号">3.4   特殊符号</h2>
<p><strong>；号表示两个命令的分隔。</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># ls 1.txt</span>
1.txt
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># ls 2.txt</span>
2.txt
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># ls 1.txt;ls 2.txt</span>
1.txt
2.txt
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>

<span style="color:#75715e">#号表示注释，常用在配置文件中注释掉一些内容，比如一些提示信息。</span>
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># head -5 /etc/inittab</span>
<span style="color:#75715e"># inittab is only used by upstart for the default runlevel.</span>
<span style="color:#75715e">#</span>
<span style="color:#75715e"># ADDING OTHER CONFIGURATION HERE WILL HAVE NO EFFECT ON YOUR SYSTEM.</span>
<span style="color:#75715e">#</span>
<span style="color:#75715e"># System initialization is started by /etc/init/rcS.conf</span>
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
</code></pre></div><p><strong>|管道符，用于把管道符前面的数据传递给管道符后面的命令。</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># ls -l</span>
-rw-r--r-- <span style="color:#ae81ff">1</span> root root    <span style="color:#ae81ff">0</span> Mar <span style="color:#ae81ff">21</span> 12:57 10.txt
-rw-r--r-- <span style="color:#ae81ff">1</span> root root    <span style="color:#ae81ff">0</span> Mar <span style="color:#ae81ff">21</span> 12:57 11.txt
-rw-r--r-- <span style="color:#ae81ff">1</span> root root    <span style="color:#ae81ff">0</span> Mar <span style="color:#ae81ff">21</span> 12:57 12.txt
-rw-r--r-- <span style="color:#ae81ff">1</span> root root    <span style="color:#ae81ff">0</span> Mar <span style="color:#ae81ff">21</span> 12:56 3.txt
-rw-r--r-- <span style="color:#ae81ff">1</span> root root    <span style="color:#ae81ff">0</span> Mar <span style="color:#ae81ff">21</span> 12:56 4.txt
-rw-r--r-- <span style="color:#ae81ff">1</span> root root    <span style="color:#ae81ff">0</span> Mar <span style="color:#ae81ff">21</span> 12:56 5.txt
drwxr-xr-x <span style="color:#ae81ff">2</span> root root <span style="color:#ae81ff">4096</span> Mar <span style="color:#ae81ff">21</span> 13:08 lixin
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># ls -l | grep &#39;^d&#39;</span>
drwxr-xr-x <span style="color:#ae81ff">2</span> root root <span style="color:#ae81ff">4096</span> Mar <span style="color:#ae81ff">21</span> 13:08 lixin
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
</code></pre></div><p><strong>~号表示当前用户的家目录，不管在在任何路径下使用cd ~都可以回到用户的家目录（cd后面什么也不加默认就是回到用户的家目录），同时也可以指定进入某个用户的家目录下。</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin sysconfig<span style="color:#f92672">]</span><span style="color:#75715e"># pwd</span>
/etc/sysconfig
<span style="color:#f92672">[</span>root@lixin sysconfig<span style="color:#f92672">]</span><span style="color:#75715e"># cd     # 回到用户家目录</span>
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># pwd</span>
/root
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># ls /home</span>
admins  lixin  daxin  dachenzi  tmpdir  tmpdir1
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># cd ~daxin     #进入到daxin用户的家目录下</span>
<span style="color:#f92672">[</span>root@lixin daxin<span style="color:#f92672">]</span><span style="color:#75715e"># pwd</span>
/home/daxin
<span style="color:#f92672">[</span>root@lixin daxin<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
</code></pre></div><p><strong>-号表示上一次切换前的路径，同时由OLDPWD这个变量记录。</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin daxin<span style="color:#f92672">]</span><span style="color:#75715e"># pwd</span>
/home/daxin
<span style="color:#f92672">[</span>root@lixin daxin<span style="color:#f92672">]</span><span style="color:#75715e"># cd /etc/sysconfig</span>
<span style="color:#f92672">[</span>root@lixin sysconfig<span style="color:#f92672">]</span><span style="color:#75715e"># pwd</span>
/etc/sysconfig
<span style="color:#f92672">[</span>root@lixin sysconfig<span style="color:#f92672">]</span><span style="color:#75715e"># cd -</span>
/home/daxin
<span style="color:#f92672">[</span>root@lixin daxin<span style="color:#f92672">]</span><span style="color:#75715e"># echo $OLDPWD    # -调用的就是OLDPWD变量的值</span>
/etc/sysconfig
<span style="color:#f92672">[</span>root@lixin daxin<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
</code></pre></div><p><strong>$号，表示引用一个变量的值。</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin daxin<span style="color:#f92672">]</span><span style="color:#75715e"># echo $OLDPWD    # 记录上一次切换目录的变量</span>
/etc/sysconfig
<span style="color:#f92672">[</span>root@lixin daxin<span style="color:#f92672">]</span><span style="color:#75715e"># echo $LANG             # 记录字符集的变量</span>
en_US.UTF-8
<span style="color:#f92672">[</span>root@lixin daxin<span style="color:#f92672">]</span><span style="color:#75715e">#     </span>
</code></pre></div><p><strong>/号，路径的分隔符，同时也表示根目录</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin daxin<span style="color:#f92672">]</span><span style="color:#75715e"># cd /etc/sysconfig</span>
<span style="color:#f92672">[</span>root@lixin sysconfig<span style="color:#f92672">]</span><span style="color:#75715e"># ls -l /</span>
total <span style="color:#ae81ff">110</span>
drwxr-xr-x   <span style="color:#ae81ff">3</span> root root  <span style="color:#ae81ff">4096</span> Mar <span style="color:#ae81ff">15</span> 12:32 app
dr-xr-xr-x.  <span style="color:#ae81ff">2</span> root root  <span style="color:#ae81ff">4096</span> Mar <span style="color:#ae81ff">13</span> 01:51 bin
dr-xr-xr-x.  <span style="color:#ae81ff">5</span> root root  <span style="color:#ae81ff">1024</span> Mar  <span style="color:#ae81ff">3</span> 23:29 boot
drwxr-xr-x  <span style="color:#ae81ff">17</span> root root  <span style="color:#ae81ff">3640</span> Mar <span style="color:#ae81ff">21</span> 11:58 dev
drwxr-xr-x. <span style="color:#ae81ff">91</span> root root  <span style="color:#ae81ff">4096</span> Mar <span style="color:#ae81ff">21</span> 11:58 etc
drwxr-xr-x   <span style="color:#ae81ff">2</span> root root  <span style="color:#ae81ff">4096</span> Mar <span style="color:#ae81ff">19</span> 01:57 etiantian
drwxr-xr-x.  <span style="color:#ae81ff">8</span> root root  <span style="color:#ae81ff">4096</span> Mar <span style="color:#ae81ff">19</span> 20:02 home
dr-xr-xr-x. <span style="color:#ae81ff">12</span> root root  <span style="color:#ae81ff">4096</span> Mar  <span style="color:#ae81ff">4</span> 17:17 lib
dr-xr-xr-x.  <span style="color:#ae81ff">9</span> root root <span style="color:#ae81ff">12288</span> Mar  <span style="color:#ae81ff">4</span> 17:17 lib64
……
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
</code></pre></div><p><strong>&gt;号表示输出重定向，在重定向到文件中的时候会覆盖文件的内容</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># cat 1.txt</span>
I am studying Linux
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># echo I love you &gt; 1.txt</span>
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># cat 1.txt</span>
I love you                                      <span style="color:#75715e"># 已经覆盖</span>
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
</code></pre></div><p><strong>&gt;&gt;号表示追加输出重定向，在重定向到文件中的时候不会覆盖文件的内容，只会在末尾追加。</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># cat 1.txt</span>
I love you
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># echo I am studying Linux &gt;&gt; 1.txt</span>
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># cat 1.txt</span>
I love you
I am studying Linux                    <span style="color:#75715e"># 没有覆盖</span>
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
</code></pre></div><p><strong>&lt;号表示输入重定向，将原本应该由键盘输入的数据经由文件读入。</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># cat &lt; 1.txt</span>
I love you
I am studying Linux
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
</code></pre></div><p><strong>&laquo;号表示追加输入重定向。</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># cat &gt;&gt; 2.txt &lt;&lt; EOF   //</span>
&gt; I am a good boy
&gt; EOF
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># cat 2.txt</span>
I am a good boy
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
</code></pre></div><p><strong>&lsquo;&lsquo;号（单引号）表示不解释引号中的内容，所见即所得。</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># echo &#39;$PATH&#39;</span>
$PATH
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># echo $PATH</span>
/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
</code></pre></div><p><strong>&ldquo;&ldquo;号（双引号）表示如果引号中有变量则解释变量的内容。</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># echo &#39;$PATH&#39;</span>
$PATH
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># echo &#34;$PATH&#34;</span>
/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
</code></pre></div><p><strong>··号（反引号）一般用来解释引号中的命令的。</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># touch xiaoming_`date +%F`.txt # 表示引用date +%F的值，可以用$()表示引用</span>
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># ls</span>
xiaoming_2016-03-21.txt
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
<span style="color:#e6db74">``</span>
__！号表示逻辑上的“非“。__
<span style="color:#e6db74">```</span>bash
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># find . -type f               </span>
./.lesshst
./.tcshrc
./4.txt
./.bash_profile
./.cshrc
./.bash_history
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># find . -type f ! -name &#39;.*&#39;</span>
./1.txt
./5.txt
./3.txt
./2.txt
./4.txt
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#         # 显示出文件名是非.开头的目录</span>
<span style="color:#75715e"># &amp;&amp; 号表示并且的意思，两边条件同时满足，当前一个命令执行成功时，执行后一个命令。（类似于and）</span>
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># mkdir lixin &amp;&amp; touch lixin/xiaoming</span>
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># ls -l lixin/xiaoming</span>
-rw-r--r-- <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">0</span> Mar <span style="color:#ae81ff">21</span> 13:39 lixin/xiaoming
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#         # 表示lixin这个目录创建成功，我才会去新建一个xiaoming文件</span>
</code></pre></div><p><strong>||号表示或者的意思，当前一个命令执行失败时，执行后一个命令。类似于（or）</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># ls</span>
1.txt  2.txt
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># ls 1.txt || ls 2.txt</span>
1.txt
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># rm 1.txt</span>
rm: remove regular empty file <span style="color:#e6db74">`</span>1.txt<span style="color:#e6db74">`</span>? y
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># ls 1.txt || ls 2.txt</span>
ls: cannot access 1.txt: No such file or directory
2.txt
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#     # 表示目录下有1.txt则查看，若没有1.txt则执行ls 2.txt</span>
</code></pre></div><p><strong>.号表示当前目录，..号表示上一级目录。</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># pwd</span>
/root
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># cd .</span>
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># pwd</span>
/root
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># cd ..</span>
<span style="color:#f92672">[</span>root@lixin /<span style="color:#f92672">]</span><span style="color:#75715e"># pwd</span>
/
<span style="color:#f92672">[</span>root@lixin /<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
</code></pre></div><h1 id="4--正则表达式含义">4  正则表达式含义</h1>
<p>        Linux中正则表达式分为基础正则表达式（Basic Regular Expression）和扩展正则表达式(Extended Regular Experssion)。</p>
<h2 id="41基础正则表达式bre">4.1基础正则表达式（BRE）</h2>
<p>下面以grep为实例，使用grep的—color=auto参数把匹配到的字符以红色显示便于观察。
测试文本为：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">I</span> <span style="color:#a6e22e">am</span> <span style="color:#a6e22e">daxin</span> <span style="color:#a6e22e">teacher</span><span style="color:#f92672">!</span>
<span style="color:#a6e22e">I</span> <span style="color:#a6e22e">teach</span> <span style="color:#a6e22e">linux</span>.

<span style="color:#a6e22e">I</span> <span style="color:#a6e22e">like</span> <span style="color:#a6e22e">badminton</span> <span style="color:#a6e22e">ball</span> ,<span style="color:#a6e22e">billiard</span> <span style="color:#a6e22e">ball</span> <span style="color:#a6e22e">and</span> <span style="color:#a6e22e">chinese</span> <span style="color:#a6e22e">chess</span><span style="color:#f92672">!</span>
<span style="color:#a6e22e">my</span> <span style="color:#a6e22e">blog</span> <span style="color:#a6e22e">is</span> <span style="color:#a6e22e">http</span><span style="color:#f92672">:</span><span style="color:#75715e">//daxin.blog.51cto.com
</span><span style="color:#75715e"></span><span style="color:#a6e22e">our</span> <span style="color:#a6e22e">site</span> <span style="color:#a6e22e">is</span> <span style="color:#a6e22e">http</span><span style="color:#f92672">:</span><span style="color:#75715e">//www.etiantian.org
</span><span style="color:#75715e"></span><span style="color:#a6e22e">my</span> <span style="color:#a6e22e">qq</span> <span style="color:#a6e22e">num</span> <span style="color:#a6e22e">is</span> <span style="color:#ae81ff">49000448.</span>

<span style="color:#a6e22e">not</span> <span style="color:#ae81ff">4900000448.</span>
<span style="color:#a6e22e">my</span> <span style="color:#a6e22e">god</span> ,<span style="color:#a6e22e">i</span> <span style="color:#a6e22e">am</span> <span style="color:#a6e22e">not</span> <span style="color:#a6e22e">dachenzi</span>,<span style="color:#a6e22e">but</span> <span style="color:#a6e22e">daxin</span><span style="color:#f92672">!</span>
<span style="color:#a6e22e">gd</span>
<span style="color:#a6e22e">good</span>
<span style="color:#a6e22e">gooood</span>
</code></pre></div><h3 id="411-word">4.1.1 ^word</h3>
<p>匹配以word开头的内容。vi/vim 里面^代表一行的开头。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># grep -i &#39;^i&#39; daxin.txt </span>
I am daxin teacher!
I teach linux.
I like badminton ball ,billiard ball and chinese chess!
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#                   # grep –I 表示忽略大小写</span>
</code></pre></div><h3 id="412--word">4.1.2  word$</h3>
<p>word$ 匹配以word结尾的内容，vim/vi里面$代表一行的末尾。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># grep -i &#39;m$&#39; daxin.txt</span>
my blog is http://daxin.blog.51cto.com
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
</code></pre></div><h3 id="413--">4.1.3  ^$</h3>
<p>^$表示以结尾为开头，以开头为结尾，表示空行。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># grep -n &#39;^$&#39; daxin.txt</span>
3:
8:
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#         # -n表示匹配到的行添加行号，为了显示去匹配到了空行</span>
</code></pre></div><h3 id="414--">4.1.4  .</h3>
<p>.表示代表任意一个字符。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># grep &#39;o.d&#39; daxin.txt</span>
I am daxin teacher!
my blog is http://daxin.blog.51cto.com
my god ,i am not dachenzi,but daxin!
good
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
</code></pre></div><h3 id="415-">4.1.5 \</h3>
<p>\表示转意符号，在正则里面加入我们真的要使用.这个符号，由于它有特别的意义，需要使用\号，让它脱掉马甲，还原真意。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># grep &#39;.$&#39; daxin.txt </span>
I am daxin teacher!
I teach linux.
I like badminton ball ,billiard ball and chinese chess!
my blog is http://daxin.blog.51cto.com
our site is http://www.etiantian.org
my qq num is 49000448.
not 4900000448.
my god ,i am not dachenzi,but daxin!
gd
good                  //不转意的话，由于.表示任意字符，所以都能匹配到
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># grep &#39;\.$&#39; daxin.txt</span>
I teach linux.
my qq num is 49000448.
not 4900000448.
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#  //转意之后只能匹配.结尾</span>
</code></pre></div><h3 id="416-">4.1.6 *</h3>
<p>*号，表示前面的字符0次或多次出现。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># grep &#39;go*d&#39; daxin.txt</span>
my god ,i am not dachenzi,but daxin!
gd
good
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#  //可以匹配到0次o，或者多次o</span>
</code></pre></div><h3 id="417-">4.1.7 .*</h3>
<p>.*号，为组合符号，.表示匹配任意字符，*表示前面的字符0次或多次出现，加在一起一般会匹配所有，Linux中一般成它们的组合为贪婪匹配。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># grep -n &#39;.*&#39; daxin.txt</span>
1:I am daxin teacher!
2:I teach linux.
3:
4:I like badminton ball ,billiard ball and chinese chess!
5:my blog is http://daxin.blog.51cto.com
6:our site is http://www.etiantian.org
7:my qq num is 49000448.
8:
9:not 4900000448.
10:my god ,i am not dachenzi,but daxin!
11:gd
12:good
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#         //贪婪匹配，所以连空行也能匹配到</span>
</code></pre></div><h3 id="418-abc">4.1.8 [abc]</h3>
<p>[abc]表示匹配括号内任意的一个内容，也可以写为[0-9]，表示任意的数字。[a-z]表示任意的小写字母，[A-Z]表示任意的大写字母。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># grep &#39;[abc]&#39; daxin.txt</span>
I am daxin teacher!
I teach linux.
I like badminton ball ,billiard ball and chinese chess!
my blog is http://daxin.blog.51cto.com
our site is http://www.etiantian.org
my god ,i am not dachenzi,but daxin!            <span style="color:#75715e"># 仅仅匹配到了abc</span>
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># grep &#39;[0-9]&#39; daxin.txt     </span>
my blog is http://daxin.blog.51cto.com
my qq num is 49000448.
not 4900000448.                        <span style="color:#75715e"># 匹配到了数字</span>
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># grep &#39;[a-z]&#39; daxin.txt   </span>
I am daxin teacher!
I teach linux.
I like badminton ball ,billiard ball and chinese chess!
my blog is http://daxin.blog.51cto.com
our site is http://www.etiantian.org
my qq num is 49000448.
not 4900000448.
my god ,i am not dachenzi,but daxin!
gd
good                                    <span style="color:#75715e"># 匹配到所有小写字母</span>
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
</code></pre></div><h3 id="419--abc">4.1.9  [^abc]</h3>
<p>[^abc]表示匹配非abc的字符，^放在[]里面表示非。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># grep &#39;[^0-9]&#39; daxin.txt</span>
I am daxin teacher!
I teach linux.
I like badminton ball ,billiard ball and chinese chess!
my blog is http://daxin.blog.51cto.com
our site is http://www.etiantian.org
my qq num is 49000448.
not 4900000448.
gd
good
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
</code></pre></div><h3 id="4110--anm">4.1.10  a{n,m}</h3>
<p>a{n,m}表示括号外的a重复至少n次，最多m次，因为使用了扩展正则表达式的{}的符号，所以要用转意符号。如果是grep的话可以使用grep –E（egrep）来支持扩展正则表达式。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># grep &#39;b\{1,2\}&#39; daxin.txt </span>
I am daxin teacher!
I like badminton ball ,billiard ball and chinese chess!
my blog is http://daxin.blog.51cto.com
my god ,i am not dachenzi,but daxin!
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># grep -E &#39;b{1,2}&#39; daxin.txt</span>
I am daxin teacher!
I like badminton ball ,billiard ball and chinese chess!
my blog is http://daxin.blog.51cto.com
my god ,i am not dachenzi,but daxin!
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#    # grep –E==egrep，表示b匹配最少出现1次，最多出现2次。</span>
</code></pre></div><h3 id="4111--an">4.1.11  a{n,}</h3>
<p>a{n,}表示括号外的内容最少出现n次。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># grep -E &#39;o{2,}&#39; daxin.txt </span>
good
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
</code></pre></div><p>4.1.12  a{n}
a{n}表示重复前面的字符a等于n次。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># grep -E &#39;o{1}&#39; daxin.txt</span>
I am daxin teacher!
I like badminton ball ,billiard ball and chinese chess!
my blog is http://daxin.blog.51cto.com
our site is http://www.etiantian.org
not 4900000448.
my god ,i am not dachenzi,but daxin!
good  //匹配了两次，不是一次匹配了2个。
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
</code></pre></div><h3 id="4113--am">4.1.13  a{,m}</h3>
<p>a{,m}表示匹配前面的字符a最多m次。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># grep -E &#39;0{,3}&#39; daxin.txt  </span>
I am daxin teacher!
I teach linux.

I like badminton ball ,billiard ball and chinese chess!
my blog is http://daxin.blog.51cto.com
our site is http://www.etiantian.org
my qq num is 49000448.

not 4900000448.
my god ,i am not dachenzi,but daxin!
gd
good
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
</code></pre></div><h2 id="42-扩展正则表达式ere">4.2 扩展正则表达式（ERE）</h2>
<h3 id="421-">4.2.1 +</h3>
<p>+号，表示前面的字符1次或多次出现，注意和*区分开，*表示的是0次或多次出现。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># grep -E &#39;go+d&#39; daxin.txt</span>
my god ,i am not dachenzi,but daxin!
good
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#     //表示g和d之前的后出现1次以上</span>
</code></pre></div><h3 id="422-">4.2.2 ？</h3>
<p>?表示重复前面的字符0次或1次。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># grep -E &#39;go?d&#39; daxin.txt </span>
my god ,i am not dachenzi,but daxin!
gd
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#  //表示g和d之间的o出现o次或1次</span>
</code></pre></div><h3 id="423-">4.2.3 |</h3>
<p>|表示或，用于同时查找多个字符。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># grep -E &#39;daxin|dachenzi&#39; daxin.txt</span>
I am daxin teacher!
my blog is http://daxin.blog.51cto.com
my god ,i am not dachenzi,but daxin!
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#         //表示匹配daxin或dachenzi的列</span>
</code></pre></div><h3 id="424-">4.2.4 ()</h3>
<p>()表示用户组，括号中的内用以组的形式出现。但是在sed中一般用来表示后巷引用。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># grep -E &#39;g(oo)d&#39; daxin.txt</span>
good       
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#                 //只匹配g和d之间是oo的列</span>
</code></pre></div><h1 id="5-扩展实例">5 扩展实例</h1>
<h2 id="51取出ip地址信息">5.1取出IP地址信息</h2>
<p>        思路：一般用^.<em>表示目标项前面的部分，^表示开头，后面写上目标项前面的字母。目标项后面的字符用.</em>$表示，$表示结尾，前面写上目标项后面的字母即可。使用grep、awk、sed命令或搭配其他命令取出。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># ifconfig eth0</span>
eth0      Link encap:Ethernet  HWaddr 00:0C:29:E4:83:06 
   inet addr:10.0.0.8  Bcast:10.0.0.255  Mask:255.255.255.0
   inet6 addr: fe80::20c:29ff:fee4:8306/64 Scope:Link
   UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
   RX packets:1993 errors:0 dropped:0 overruns:0 frame:0
   TX packets:960 errors:0 dropped:0 overruns:0 carrier:0
   collisions:0 txqueuelen:1000
   RX bytes:172487 <span style="color:#f92672">(</span>168.4 KiB<span style="color:#f92672">)</span>  TX bytes:107575 <span style="color:#f92672">(</span>105.0 KiB<span style="color:#f92672">)</span>
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#                   //测试文本</span>

<span style="color:#75715e"># 方法一：使用sed后项引用方式，先把IP用（）匹配到，然后再引用</span>
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># ifconfig eth0 | sed -nr &#39;2s#^.*r:(.*).?B.*$#\1#gp&#39;</span>
10.0.0.8 
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>

<span style="color:#75715e"># 方法二：利用awk多分隔符的方式，最好取目标项左右两边的字符为分隔符 (最佳)</span>
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># ifconfig eth0 | awk -F &#34;[ :]+&#34; &#39;NR==2 {print $4}&#39;</span>
10.0.0.8
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>

<span style="color:#75715e"># 方法三：利用grep过滤出目标行，使用cut数字符（比较low的方法）</span>
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># ifconfig eth0 | grep &#39;inet addr&#39; | cut -c 21-28</span>
10.0.0.8
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>

<span style="color:#75715e"># 方法四：由于cut只能识别一个分隔符，所以我们利用tr把多分隔符转换成一个进行分割</span>
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># ifconfig eth0 | sed -n 2p | tr &#39;:&#39; &#39; &#39;|cut -d &#34; &#34; -f13</span>
10.0.0.8                
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>

<span style="color:#75715e"># 方法五：利用awk过滤关键行，利用sed把目标项之前的项，替换成空</span>
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># ifconfig eth0 | awk &#39;/inet addr/&#39;&#39;{print $2}&#39; | sed &#39;s#^a.*:##g&#39;</span>
10.0.0.8
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>

<span style="color:#75715e"># 方法六：使用ip命令查看网卡IP地址，然后awk多分隔符取出IP地址</span>
ip addr show eth0| awk -F <span style="color:#e6db74">&#39;[ /]+&#39;</span> <span style="color:#e6db74">&#39;NR==3{print $3}&#39;</span>
</code></pre></div><h3 id="52取出文件或目录的权限">5.2取出文件或目录的权限</h3>
<p>        当命令结果包含我们需要的内容的时候，我们要想到命令的参数是否有具有的参数能够一步达到我们需要的结果呢？通常在manual中会记录，这时可以使用man command查寻。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># stat daxin.txt      </span>
File: <span style="color:#e6db74">`</span>daxin.txt<span style="color:#e6db74">&#39;
</span><span style="color:#e6db74">Size: 261             Blocks: 8          IO Block: 4096   regular file
</span><span style="color:#e6db74">Device: 803h/2051d      Inode: 25401       Links: 1
</span><span style="color:#e6db74">Access: (0644/-rw-r--r--)  Uid: (    0/    root)   Gid: (    0/    root)
</span><span style="color:#e6db74">Access: 2016-03-21 14:47:16.710194978 +0800
</span><span style="color:#e6db74">Modify: 2016-03-21 14:47:15.268186883 +0800
</span><span style="color:#e6db74">Change: 2016-03-21 14:47:15.281186631 +0800
</span><span style="color:#e6db74">[root@lixin ~]#                   //测试文本
</span><span style="color:#e6db74">
</span><span style="color:#e6db74"># 方法一：使用stat内置参数-c，配合%a来用数字显示文件的权限信息（最佳）
</span><span style="color:#e6db74">[root@lixin ~]# stat -c %a daxin.txt
</span><span style="color:#e6db74">644
</span><span style="color:#e6db74">[root@lixin ~]#
</span><span style="color:#e6db74">
</span><span style="color:#e6db74"># 方法二：利用awk指定多分隔符，去目标项左右两边的字符为分隔符
</span><span style="color:#e6db74">[root@lixin ~]# stat daxin.txt | awk -F &#39;</span><span style="color:#f92672">[</span>0/<span style="color:#f92672">]</span><span style="color:#e6db74">&#39; &#39;</span>NR<span style="color:#f92672">==</span><span style="color:#ae81ff">4</span> <span style="color:#f92672">{</span>print $2<span style="color:#f92672">}</span><span style="color:#e6db74">&#39;
</span><span style="color:#e6db74">644
</span><span style="color:#e6db74">[root@lixin ~]#
</span><span style="color:#e6db74">
</span><span style="color:#e6db74"># 方法三：利用sed的后向引用
</span><span style="color:#e6db74">[root@lixin ~]# stat daxin.txt | sed -nr &#39;</span>4s#^A.*<span style="color:#ae81ff">\(</span>0<span style="color:#f92672">(</span>.*<span style="color:#f92672">)</span>/-.*$#<span style="color:#ae81ff">\1</span><span style="color:#75715e">#gp&#39;</span>
<span style="color:#ae81ff">644</span>
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>

<span style="color:#75715e"># 方法四：使用ls –l列出字母方式权限，替换成数字，相加完成（比较low，但思路特别）</span>
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e"># ls -l daxin.txt | awk &#39;{print $1}&#39;|cut -c 2- | tr &#34;rwx-&#34; &#34;4210&#34; | awk -F &#34;&#34; &#39;{print $1+$2+$3$4+$5+$6$7+$8+$9}&#39;</span>
<span style="color:#ae81ff">644</span>
<span style="color:#f92672">[</span>root@lixin ~<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
</code></pre></div><p>{% endraw %}</p>

</div>


  <footer class="container">
  <div class="container navigation no-print">
  <h2>Navigation</h2>
  
  

    
    <a class="prev" href="https://dachenzi.github.io/1/01/01/linuxsed/" title="Linuxsed">
      Previous
    </a>
    

    
    <a class="next" href="https://dachenzi.github.io/1/01/01/linuxpermisson/" title="LinuxPermisson">
      Next
    </a>
    

  


</div>

  
<div class="container comments">
  <h2>Comments</h2>
  
<div id="disqus_thread"></div>
<script type="text/javascript">
  (function() {
    
    
    if (window.location.hostname == "localhost")
      return;

    var dsq = document.createElement('script'); dsq.async = true; dsq.type = 'text/javascript';
    dsq.src = '//your_disqus_shortname.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


</div>


</footer>

</article>
      <footer id="main-footer" class="container main_footer">
  

  <div class="container nav foot no-print">
  

  <a class="toplink" href="#">back to top</a>

</div>

  <div class="container credits">
  
<div class="container footline">
  
  code with <!-- raw HTML omitted --><!-- raw HTML omitted -->


</div>


  
<div class="container copyright">
  
  (c) 2015 Lee xin.


</div>


</div>

</footer>

    </main>
    
<script type="text/javascript">
  (function() {
    
    
    if (window.location.hostname == "localhost")
      return;
    var dsq = document.createElement('script'); dsq.async = true; dsq.type = 'text/javascript';
    dsq.src = '//your_disqus_shortname.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>



<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>



    
  </body>
</html>

