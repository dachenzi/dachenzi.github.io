<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>7-列表解析式-生成器  &middot; dahl&#39;s blog</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="" />

<meta name="keywords" content="">


<meta property="og:title" content="7-列表解析式-生成器  &middot; dahl&#39;s blog ">
<meta property="og:site_name" content="dahl&#39;s blog"/>
<meta property="og:url" content="https://dachenzi.github.io/1/01/01/7-%E5%88%97%E8%A1%A8%E8%A7%A3%E6%9E%90%E5%BC%8F-%E7%94%9F%E6%88%90%E5%99%A8/" />
<meta property="og:locale" content="en-EN">


<meta property="og:type" content="article" />
<meta property="og:description" content=""/>
<meta property="og:article:published_time" content="0001-01-01T00:00:00Z" />
<meta property="og:article:modified_time" content="0001-01-01T00:00:00Z" />

  
    
  

  

<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "7-列表解析式-生成器",
    "author": {
      "@type": "Person",
      "name": "daxin.li"
    },
    "datePublished": "0001-01-01",
    "description": "",
    "wordCount":  470 
  }
</script>



<link rel="canonical" href="https://dachenzi.github.io/1/01/01/7-%E5%88%97%E8%A1%A8%E8%A7%A3%E6%9E%90%E5%BC%8F-%E7%94%9F%E6%88%90%E5%99%A8/" />

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://dachenzi.github.io/touch-icon-144-precomposed.png">
<link href="https://dachenzi.github.io/favicon.png" rel="icon">

<meta name="generator" content="Hugo 0.75.1" />

  <!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link href='https://fonts.googleapis.com/css?family=Merriweather:300%7CRaleway%7COpen+Sans' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/highlight/default.css">

  
  
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'Your Google Analytics tracking code', 'auto');
	  ga('send', 'pageview');

	</script>

</head>
<body>
  <main id="main-wrapper" class="container main_wrapper has-sidebar">
    <header id="main-header" class="container main_header">
  <div class="container brand">
  <div class="container title h1-like">
  <a class="baselink" href="https://dachenzi.github.io">
  foobar

</a>

</div>

  
<div class="container topline">
  
  few words about your site


</div>


</div>

  <nav class="container nav primary no-print">
  

<a class="homelink" href="https://dachenzi.github.io">home</a>


  
<a href="https://dachenzi.github.io/about">About</a>

<a href="https://dachenzi.github.io/post" title="Show list of posts">Posts</a>

<a href="https://dachenzi.github.io/tags" title="Show list of tags">Tags</a>


</nav>

<div class="container nav secondary no-print">
  
<a id="contact-link-email" class="contact_link" rel="me" aria-label="Email" href="mailto:dahlhin.li@gmail.com">
  <span class="fa fa-envelope-square"></span></a>



<a id="contact-link-github" class="contact_link" rel="me" aria-label="Github" href="https://github.com/enten/hugo-boilerplate">
  <span class="fa fa-github-square"></span></a>




 


















</div>


  

</header>


<article id="main-content" class="container main_content single">
  <header class="container hat">
  <h1>7-列表解析式-生成器
</h1>

  <div class="metas">
<time datetime="0001-01-01">1 Jan, 0001</time>


  
  &middot; Read in about 3 min
  &middot; (470 Words)
  <br>
  


</div>

</header>

  <div class="container content">
  <p>{% raw %}</p>
<p><!-- raw HTML omitted --><strong>文章目录</strong><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<ul>
<li><a href="#1-%E8%A7%A3%E6%9E%90%E5%BC%8F">1 解析式</a></li>
<li><a href="#2-%E5%88%97%E8%A1%A8%E8%A7%A3%E6%9E%90%E5%BC%8F">2 列表解析式</a>
<ul>
<li><a href="#21-%E5%88%97%E8%A1%A8%E8%A7%A3%E6%9E%90%E5%BC%8F%E8%BF%9B%E9%98%B6">2.1 列表解析式进阶</a></li>
</ul>
</li>
<li><a href="#3-%E5%85%B6%E4%BB%96%E8%A7%A3%E6%9E%90%E5%BC%8F">3 其他解析式</a>
<ul>
<li><a href="#31-%E9%9B%86%E5%90%88%E8%A1%A8%E8%BE%BE%E5%BC%8F">3.1 集合表达式</a></li>
<li><a href="#32-%E5%AD%97%E5%85%B8%E8%A7%A3%E6%9E%90%E5%BC%8F">3.2 字典解析式</a></li>
</ul>
</li>
<li><a href="#4-%E7%94%9F%E6%88%90%E5%99%A8%E8%A1%A8%E8%BE%BE%E5%BC%8F">4 生成器表达式</a>
<ul>
<li><a href="#41-%E7%89%B9%E7%82%B9">4.1 特点</a></li>
<li><a href="#42-next%E5%87%BD%E6%95%B0">4.2 next函数</a></li>
</ul>
</li>
<li><a href="#5-%E6%80%BB%E7%BB%93">5 总结</a></li>
</ul>
<!-- raw HTML omitted -->
<h1 id="1-解析式">1 解析式</h1>
<p>        从一个问题来看解析式，现有如下需求：生成一个列表，元素0-9，对每一个元素自增1后求平方返回新列表。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">lst <span style="color:#f92672">=</span> list(range(<span style="color:#ae81ff">10</span>))
lst2 <span style="color:#f92672">=</span> []
<span style="color:#66d9ef">for</span> value <span style="color:#f92672">in</span> lst:
    lst2<span style="color:#f92672">.</span>append((value <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">**</span> <span style="color:#ae81ff">2</span>)
<span style="color:#66d9ef">print</span>(lst2)
</code></pre></div><p>        看起来很容易理解，但是这种需求竟然用了5行代码！下面来看一下列表解析式的写法。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">[ (x<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span> <span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>)]
</code></pre></div><blockquote>
<p>看起来非常简洁，属于Python的风格！哈哈</p>
</blockquote>
<p>        再来看一下，什么是列表解析式？在Python中列表解析式是一种语法糖，虽然对看似复杂的代码进行了简写，但是编译器会进行优化，不会因为简写而影响效率，反而因为优化提高了效率。另外还介绍了代码量，减少了出错的机会，还简化了代码，增加了代码可读性。</p>
<h1 id="2-列表解析式">2 列表解析式</h1>
<p>        列表解析式的基本语法是如下</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">[ <span style="color:#960050;background-color:#1e0010">返回值</span> <span style="color:#66d9ef">for</span> <span style="color:#960050;background-color:#1e0010">元素</span> <span style="color:#f92672">in</span> <span style="color:#960050;background-color:#1e0010">可迭代对象</span> <span style="color:#66d9ef">if</span> <span style="color:#960050;background-color:#1e0010">条件</span>]
</code></pre></div><ul>
<li>使用<code>中括号</code>将表达式(推导式)括起来</li>
<li>内部是for循环，if条件可选，可以是多个但是不支持<code>elif语句</code></li>
<li>返回一个新的列表</li>
</ul>
<p>有这样的赋值语句 <code>newlist = [ print(i) for i in range(10) ] </code>，请问newlist打印出来是什么？</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">6</span>]: newlist <span style="color:#f92672">=</span> [ <span style="color:#66d9ef">print</span>(i) <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>) ]           
<span style="color:#ae81ff">0</span>
<span style="color:#ae81ff">1</span>
<span style="color:#ae81ff">2</span>
<span style="color:#ae81ff">3</span>
<span style="color:#ae81ff">4</span>
<span style="color:#ae81ff">5</span>
<span style="color:#ae81ff">6</span>
<span style="color:#ae81ff">7</span>
<span style="color:#ae81ff">8</span>
<span style="color:#ae81ff">9</span>

In [<span style="color:#ae81ff">7</span>]: newlist 
Out[<span style="color:#ae81ff">7</span>]: [None, None, None, None, None, None, None, None, None, None]
</code></pre></div><blockquote>
<p>为什么是None？因为表达式只会将函数的返回值作为结果，进行添加，所以当返回值是一个函数操作的对象时，一定要注意函数的返回值！</p>
</blockquote>
<h2 id="21-列表解析式进阶">2.1 列表解析式进阶</h2>
<p>        有的时候我们的代码需要进行两个或多个循环，列表解析式进阶版本可以满足这种需求哦。它的语法是：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">[ <span style="color:#960050;background-color:#1e0010">返回值</span> <span style="color:#66d9ef">for</span> <span style="color:#960050;background-color:#1e0010">元素</span> <span style="color:#f92672">in</span> <span style="color:#960050;background-color:#1e0010">可迭代对象</span> <span style="color:#66d9ef">if</span> <span style="color:#960050;background-color:#1e0010">条件表达式</span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">if</span> <span style="color:#960050;background-color:#1e0010">条件表达式</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">...</span> ]
<span style="color:#960050;background-color:#1e0010">等同于</span>:
<span style="color:#66d9ef">for</span> <span style="color:#960050;background-color:#1e0010">元素</span> <span style="color:#f92672">in</span> <span style="color:#960050;background-color:#1e0010">可迭代对象</span>:
    <span style="color:#66d9ef">if</span> <span style="color:#960050;background-color:#1e0010">条件表达式</span><span style="color:#ae81ff">1</span><span style="color:#960050;background-color:#1e0010">：</span>
        <span style="color:#66d9ef">if</span> <span style="color:#960050;background-color:#1e0010">条件表达式</span><span style="color:#ae81ff">2</span><span style="color:#960050;background-color:#1e0010">：</span>
<span style="color:#960050;background-color:#1e0010">返回值</span>

[ <span style="color:#960050;background-color:#1e0010">返回值</span> <span style="color:#66d9ef">for</span> <span style="color:#960050;background-color:#1e0010">元素</span> <span style="color:#f92672">in</span> <span style="color:#960050;background-color:#1e0010">可迭代对象</span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">for</span> <span style="color:#960050;background-color:#1e0010">元素</span> <span style="color:#f92672">in</span> <span style="color:#960050;background-color:#1e0010">可迭代对象</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">...</span> ]
<span style="color:#960050;background-color:#1e0010">等同于：</span>
<span style="color:#66d9ef">for</span> <span style="color:#960050;background-color:#1e0010">元素</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">in</span> <span style="color:#960050;background-color:#1e0010">可迭代对象</span><span style="color:#ae81ff">1</span><span style="color:#960050;background-color:#1e0010">：</span>
    <span style="color:#66d9ef">for</span> <span style="color:#960050;background-color:#1e0010">元素</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">in</span> <span style="color:#960050;background-color:#1e0010">可迭代对象</span><span style="color:#ae81ff">2</span><span style="color:#960050;background-color:#1e0010">：</span>
        <span style="color:#75715e"># if 也可以加条件判断</span>
        <span style="color:#960050;background-color:#1e0010">返回值</span>[<span style="color:#ae81ff">1</span><span style="color:#960050;background-color:#1e0010">个或多个</span>]
</code></pre></div><ul>
<li>条件表达式可以是多个，但是不能是elif，多个if是并且的关系</li>
<li>多个循环条件等同于循环嵌套，时间复杂度是O(n*内层循环个数)</li>
</ul>
<p>例子：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#ae81ff">20</span><span style="color:#960050;background-color:#1e0010">以内，既能被</span><span style="color:#ae81ff">2</span><span style="color:#960050;background-color:#1e0010">整除，又能被</span><span style="color:#ae81ff">3</span><span style="color:#960050;background-color:#1e0010">整除的列表</span>
[ i <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">20</span>) <span style="color:#66d9ef">if</span> i <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">if</span> i <span style="color:#f92672">%</span> <span style="color:#ae81ff">3</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>]


[(i,j) <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>) <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">20</span>) <span style="color:#66d9ef">if</span> i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3</span> <span style="color:#66d9ef">if</span> j <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">18</span>]
<span style="color:#960050;background-color:#1e0010">表示当</span>i小于3时<span style="color:#960050;background-color:#1e0010">，</span>j大于18时<span style="color:#960050;background-color:#1e0010">，组成一个元素返回</span>
</code></pre></div><h1 id="3-其他解析式">3 其他解析式</h1>
<p>        除了列表解析式以外，Python中还存在<code>集合解析式</code>、<code>字典解析式</code>、<code>'元组解析式'</code>。</p>
<blockquote>
<p>可不是什么元组解析式，这行小字你看不到，可不怪我哦。</p>
</blockquote>
<h2 id="31-集合表达式">3.1 集合表达式</h2>
<ul>
<li>语法：<code>{ 返回值 for 元素 in 可迭代对象 if 条件 }</code></li>
<li>列表解析式的中括号换成大括号<code>{}</code>即可</li>
<li>同样是立即返回一个集合</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#ae81ff">20</span><span style="color:#960050;background-color:#1e0010">以内，既能被</span><span style="color:#ae81ff">2</span><span style="color:#960050;background-color:#1e0010">整除，又能被</span><span style="color:#ae81ff">3</span><span style="color:#960050;background-color:#1e0010">整除的集合</span>
{ i <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">20</span>) <span style="color:#66d9ef">if</span> i <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">if</span> i <span style="color:#f92672">%</span> <span style="color:#ae81ff">3</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>}
</code></pre></div><blockquote>
<p>注意集合的特性，如果生成了不可hash的元素比如list，那么是不能生成集合的哦，如果元素重复，集合会去重的哦</p>
</blockquote>
<h2 id="32-字典解析式">3.2 字典解析式</h2>
<ul>
<li>语法：<code>{ 返回值(key:value) for 元素 in 可迭代对象 if 条件 }</code></li>
<li>列表解析式的中括号换成大括号<code>{}</code>即可</li>
<li>请使用key：value格式</li>
<li>立即返回一个字典</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#960050;background-color:#1e0010">生成一个</span>key为abcded的字典
{x:y <span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> <span style="color:#e6db74">&#39;abcdef&#39;</span> <span style="color:#66d9ef">for</span> y <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>)} 
</code></pre></div><blockquote>
<p>注意字典的key相同时，后面的赋值会把之前的值覆盖哦，所以结果是<code>{'a': 9, 'b': 9, 'c': 9, 'd': 9, 'e': 9, 'f': 9}</code></p>
</blockquote>
<h1 id="4-生成器表达式">4 生成器表达式</h1>
<p>        如果你是从上倒下看的，那么你可能会奇怪，说好的元组表达式呢？如果你是直接跳转过来的，那么请忽略前面这句话。那什么是生成器表达式呢？<br>
        生成器表达式是按需计算(或者惰性求值、延迟计算)的，只有需要的时候才计算值，而列表解析式是直接返回一个新的列表，生成器是一个<code>可迭代对象</code>，<code>迭代器</code>。在使用type命令判断对象类型时，<code>generator</code> 就表示一个生成器对象</p>
<ul>
<li>语法：( 返回值 for 元素 in 可迭代对象 if 条件表达式 )</li>
<li>列表解析式的中括号换成大括号<code>()</code>即可</li>
<li><strong><code>延迟计算(惰性计算)</code></strong></li>
<li><strong><code>只能迭代一次，不能回头</code></strong></li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">g <span style="color:#f92672">=</span> ((i,j) <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>) <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">20</span>) <span style="color:#66d9ef">if</span> i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3</span> <span style="color:#66d9ef">if</span> j <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">18</span>)
<span style="color:#66d9ef">print</span>(g)  <span style="color:#75715e"># &lt;generator object &lt;genexpr&gt; at 0x7fca2552b258&gt;</span>
<span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> g:
    <span style="color:#66d9ef">print</span>(i) <span style="color:#75715e"># 只能迭代一次，迭代完毕生成器就为空了哦，</span>
</code></pre></div><h2 id="41-特点">4.1 特点</h2>
<p>        没错，用括号括起来的并不是元组表达式，而变成了<code>生成器表达式</code>，它本身由于惰性计算的特性和其他解析式有很多不同的特性</p>
<ol>
<li><code>计算方式</code><br>
        生成器表达式延迟计算(惰性计算)，只有你去向它要，它才会给你计算，而列表解析式在你执行后，会直接给你生成一个新的列表。</li>
<li><code>内存占用</code><br>
        生成器没有数据，内存占用极少，它是使用时一个一个返回数据，如果将这些返回的数据合起来占用的空间也和列表解析式差不多，但是它不是立即需要这么多空间</li>
<li><code>计算速度</code><br>
        单看计算时间来看，生成器表达式耗时非常短，列表解析式时长，因为生成器本身并没有任何返回值，只是返回了一个生成器对象，列表解析式构造并返回了一个新的列表，所以看起来更耗时了</li>
<li><code>遍历</code><br>
        当我们需要对数据进行遍历时，由于生成器是遍历一次计算一个返给你，而列表解析式执行完毕后直接返回一个新的列表不需要计算，所以性能要优于生成器表达式。</li>
</ol>
<h2 id="42-next函数">4.2 next函数</h2>
<blockquote>
<p>除了遍历我们还可以通过<code>next方法</code>来一次一次的获取生成器的数据</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">8</span>]: g <span style="color:#f92672">=</span> ((i,j) <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>) <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">20</span>) <span style="color:#66d9ef">if</span> i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3</span> <span style="color:#66d9ef">if</span> j <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">18</span>)
In [<span style="color:#ae81ff">9</span>]: next(g) 
Out[<span style="color:#ae81ff">9</span>]: (<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">19</span>)
In [<span style="color:#ae81ff">10</span>]: next(g)
Out[<span style="color:#ae81ff">10</span>]: (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">19</span>)
In [<span style="color:#ae81ff">11</span>]: next(g)
Out[<span style="color:#ae81ff">11</span>]: (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">19</span>)
In [<span style="color:#ae81ff">12</span>]: next(g)   
<span style="color:#f92672">---------------------------------------------------------------------------</span>
<span style="color:#a6e22e">StopIteration</span>     Traceback (most recent call last)
<span style="color:#f92672">&lt;</span>ipython<span style="color:#f92672">-</span>input<span style="color:#f92672">-</span><span style="color:#ae81ff">12</span><span style="color:#f92672">-</span>e734f8aca5ac<span style="color:#f92672">&gt;</span> <span style="color:#f92672">in</span> <span style="color:#f92672">&lt;</span>module<span style="color:#f92672">&gt;</span>
<span style="color:#f92672">----&gt;</span> <span style="color:#ae81ff">1</span> next(g)

<span style="color:#a6e22e">StopIteration</span>: 
In [<span style="color:#ae81ff">13</span>]:
</code></pre></div><blockquote>
<p>next()可以理解为向生成器要一次数据(拨一下生成器)，当生成器为空时，就会提示<code>StopIteration</code>异常，for循环帮我们对StopIteration异常做了处理，还没有学习异常处理的我们，该怎么办呢？其实next方法为我们提供了<code>默认值参数</code>，即从生成器中拿不到数据，就返回指定的默认: <code>next(g[, default])</code>。</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">13</span>]: g <span style="color:#f92672">=</span> ((i,j) <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>) <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">20</span>) <span style="color:#66d9ef">if</span> i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3</span> <span style="color:#66d9ef">if</span> j <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">18</span>)           
In [<span style="color:#ae81ff">14</span>]: next(g, <span style="color:#e6db74">&#39;None&#39;</span>)    
Out[<span style="color:#ae81ff">14</span>]: (<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">19</span>)
In [<span style="color:#ae81ff">15</span>]: next(g, <span style="color:#e6db74">&#39;None&#39;</span>)    
Out[<span style="color:#ae81ff">15</span>]: (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">19</span>)
In [<span style="color:#ae81ff">16</span>]: next(g, <span style="color:#e6db74">&#39;None&#39;</span>)    
Out[<span style="color:#ae81ff">16</span>]: (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">19</span>)
In [<span style="color:#ae81ff">17</span>]: next(g, <span style="color:#e6db74">&#39;None&#39;</span>)     <span style="color:#75715e"># 生成器空了，就返回default指定的默认值 </span>
Out[<span style="color:#ae81ff">17</span>]: <span style="color:#e6db74">&#39;None&#39;</span>
In [<span style="color:#ae81ff">18</span>]: next(g, <span style="color:#e6db74">&#39;None&#39;</span>)    
Out[<span style="color:#ae81ff">18</span>]: <span style="color:#e6db74">&#39;None&#39;</span>
</code></pre></div><h1 id="5-总结">5 总结</h1>
<p>        Python2 引入列表解析式,Python2.4引入生成器表达式,Python3 引入集合、字典解析式，并迁移到了Python 2.7，一般来说，应该多用解析式，简短、高效不过还需要注意的是：</p>
<ul>
<li>如果一个解析式非常复杂，难以读懂，可以考虑拆成for循环，没必要非要网列表解析式上靠</li>
<li>生成器和迭代器是不同的对象，但都是可迭代对象</li>
<li>可迭代对象范围更大，都可以使用for循环遍历</li>
</ul>
<p>从是否可迭代来看生成器、迭代器、可迭代对象的关系是如下<br>
<img src="photo/g.png" alt="生成器">
{% endraw %}</p>

</div>


  <footer class="container">
  <div class="container navigation no-print">
  <h2>Navigation</h2>
  
  

    
    <a class="prev" href="https://dachenzi.github.io/1/01/01/7-%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BBadmin%E7%AE%A1%E7%90%86%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/" title="7-自定义类admin管理增删改查">
      Previous
    </a>
    

    
    <a class="next" href="https://dachenzi.github.io/1/01/01/6-%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BBadmin%E7%AE%A1%E7%90%86%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/" title="6-自定义类admin管理增删改查">
      Next
    </a>
    

  


</div>

  
<div class="container comments">
  <h2>Comments</h2>
  
<div id="disqus_thread"></div>
<script type="text/javascript">
  (function() {
    
    
    if (window.location.hostname == "localhost")
      return;

    var dsq = document.createElement('script'); dsq.async = true; dsq.type = 'text/javascript';
    dsq.src = '//your_disqus_shortname.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


</div>


</footer>

</article>
      <footer id="main-footer" class="container main_footer">
  

  <div class="container nav foot no-print">
  
<a href="https://dachenzi.github.io/license">license</a>


  <a class="toplink" href="#">back to top</a>

</div>

  <div class="container credits">
  
<div class="container footline">
  
  code with <!-- raw HTML omitted --><!-- raw HTML omitted -->


</div>


  
<div class="container copyright">
  
  (c) 2015 Lee xin.


</div>


</div>

</footer>

    </main>
    
<script type="text/javascript">
  (function() {
    
    
    if (window.location.hostname == "localhost")
      return;
    var dsq = document.createElement('script'); dsq.async = true; dsq.type = 'text/javascript';
    dsq.src = '//your_disqus_shortname.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>



<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>



    
  </body>
</html>

