<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>17-路径操作-shutil模块 - daxin.li&#39;s blog</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="daxin.li" />
  <meta name="description" content="文章目录 1 路径操作 1.1 os.path模块 1.2 pathlib模块 1.2.1 目录操作 初始化(一个路径对象) 路径拼接和分解 获取路径 父目录 目录的组成部分 全局方法" />

  <meta name="keywords" content="Hugo, theme, jane" />






<meta name="generator" content="Hugo 0.75.1" />


<link rel="canonical" href="https://dachenzi.github.io/post/17-%E8%B7%AF%E5%BE%84%E6%93%8D%E4%BD%9C-shutil%E6%A8%A1%E5%9D%97/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.b3a8813c06e6d785beba22bf8264e174fa2cb3a396b22f9ba24e2c00c18aaf7f.css" integrity="sha256-s6iBPAbm14W&#43;uiK/gmThdPoss6OWsi&#43;bok4sAMGKr38=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="17-路径操作-shutil模块" />
<meta property="og:description" content="文章目录 1 路径操作 1.1 os.path模块 1.2 pathlib模块 1.2.1 目录操作 初始化(一个路径对象) 路径拼接和分解 获取路径 父目录 目录的组成部分 全局方法" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://dachenzi.github.io/post/17-%E8%B7%AF%E5%BE%84%E6%93%8D%E4%BD%9C-shutil%E6%A8%A1%E5%9D%97/" />

<meta itemprop="name" content="17-路径操作-shutil模块">
<meta itemprop="description" content="文章目录 1 路径操作 1.1 os.path模块 1.2 pathlib模块 1.2.1 目录操作 初始化(一个路径对象) 路径拼接和分解 获取路径 父目录 目录的组成部分 全局方法">

<meta itemprop="wordCount" content="5697">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="17-路径操作-shutil模块"/>
<meta name="twitter:description" content="文章目录 1 路径操作 1.1 os.path模块 1.2 pathlib模块 1.2.1 目录操作 初始化(一个路径对象) 路径拼接和分解 获取路径 父目录 目录的组成部分 全局方法"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">daxin.li's blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://dachenzi.github.io/">home</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://dachenzi.github.io/post/">Archives</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://dachenzi.github.io/tags/">Tags</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://dachenzi.github.io/categories/">Categories</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://gohugo.io" rel="noopener" target="_blank">
              About
              
              <i class="iconfont">
                <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M623.36 272.96 473.216 423.04C467.2 429.056 467.072 438.656 472.896 444.416c0 0-6.72-6.656 1.6 1.6C496.064 467.648 528.64 500.224 528.64 500.224 534.464 506.048 544 505.856 550.016 499.904l150.08-150.144 67.328 66.432c9.024 8.96 27.456 4.544 30.4-8.96 19.968-92.608 46.656-227.52 46.656-227.52 6.848-34.496-16.192-56.704-49.92-49.92 0 0-134.656 26.816-227.328 46.784C560.32 178.048 556.352 182.272 554.752 187.136c-3.2 6.208-3.008 14.208 3.776 20.992L623.36 272.96z"></path>
  <path d="M841.152 457.152c-30.528 0-54.784 24.512-54.784 54.656l0 274.752L237.696 786.56 237.696 237.696l206.016 0c6.656 0 10.752 0 13.248 0C487.68 237.696 512 213.184 512 182.848 512 152.32 487.36 128 456.96 128L183.04 128C153.216 128 128 152.576 128 182.848c0 3.136 0.256 6.272 0.768 9.28C128.256 195.136 128 198.272 128 201.408l0 639.488c0 0.064 0 0.192 0 0.256 0 0.128 0 0.192 0 0.32 0 30.528 24.512 54.784 54.784 54.784l646.976 0c6.592 0 9.728 0 11.712 0 28.736 0 52.928-22.976 54.464-51.968C896 843.264 896 842.304 896 841.344l0-20.352L896 561.408 896 512.128C896 481.792 871.424 457.152 841.152 457.152z"></path>
</svg>

              </i>
            </a>
          
        
      </li>
    

    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      daxin.li's blog
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://dachenzi.github.io/">home</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://dachenzi.github.io/post/">Archives</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://dachenzi.github.io/tags/">Tags</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://dachenzi.github.io/categories/">Categories</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://gohugo.io" rel="noopener" target="_blank">
              About
              
              <i class="iconfont">
                <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M623.36 272.96 473.216 423.04C467.2 429.056 467.072 438.656 472.896 444.416c0 0-6.72-6.656 1.6 1.6C496.064 467.648 528.64 500.224 528.64 500.224 534.464 506.048 544 505.856 550.016 499.904l150.08-150.144 67.328 66.432c9.024 8.96 27.456 4.544 30.4-8.96 19.968-92.608 46.656-227.52 46.656-227.52 6.848-34.496-16.192-56.704-49.92-49.92 0 0-134.656 26.816-227.328 46.784C560.32 178.048 556.352 182.272 554.752 187.136c-3.2 6.208-3.008 14.208 3.776 20.992L623.36 272.96z"></path>
  <path d="M841.152 457.152c-30.528 0-54.784 24.512-54.784 54.656l0 274.752L237.696 786.56 237.696 237.696l206.016 0c6.656 0 10.752 0 13.248 0C487.68 237.696 512 213.184 512 182.848 512 152.32 487.36 128 456.96 128L183.04 128C153.216 128 128 152.576 128 182.848c0 3.136 0.256 6.272 0.768 9.28C128.256 195.136 128 198.272 128 201.408l0 639.488c0 0.064 0 0.192 0 0.256 0 0.128 0 0.192 0 0.32 0 30.528 24.512 54.784 54.784 54.784l646.976 0c6.592 0 9.728 0 11.712 0 28.736 0 52.928-22.976 54.464-51.968C896 843.264 896 842.304 896 841.344l0-20.352L896 561.408 896 512.128C896 481.792 871.424 457.152 841.152 457.152z"></path>
</svg>

              </i>
            </a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">17-路径操作-shutil模块</h1>
      
      <div class="post-meta">
        <time datetime="0001-01-01" class="post-time">
          0001-01-01
        </time>
        
        <span class="more-meta"> 5697 words </span>
          <span class="more-meta"> 12 min read </span>

        
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#11-ospath模块">1.1 os.path模块</a></li>
    <li><a href="#12-pathlib模块">1.2 pathlib模块</a>
      <ul>
        <li><a href="#121-目录操作">1.2.1 目录操作</a></li>
        <li><a href="#122-文件操作">1.2.2 文件操作</a></li>
      </ul>
    </li>
    <li><a href="#13-os-模块">1.3 os 模块</a></li>
  </ul>

  <ul>
    <li><a href="#21-copy复制">2.1 copy复制</a></li>
    <li><a href="#22-rm删除">2.2 rm删除</a></li>
    <li><a href="#23-move移动">2.3 move移动</a></li>
    <li><a href="#24-打包">2.4 打包</a></li>
  </ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      <p><font size=5 face='微软雅黑'><strong>文章目录</strong></font></p>
<!-- TOC -->
<ul>
<li><a href="#1-%E8%B7%AF%E5%BE%84%E6%93%8D%E4%BD%9C">1 路径操作</a>
<ul>
<li><a href="#11-ospath%E6%A8%A1%E5%9D%97">1.1 os.path模块</a></li>
<li><a href="#12-pathlib%E6%A8%A1%E5%9D%97">1.2 pathlib模块</a>
<ul>
<li><a href="#121-%E7%9B%AE%E5%BD%95%E6%93%8D%E4%BD%9C">1.2.1 目录操作</a>
<ul>
<li><a href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E4%B8%80%E4%B8%AA%E8%B7%AF%E5%BE%84%E5%AF%B9%E8%B1%A1">初始化(一个路径对象)</a></li>
<li><a href="#%E8%B7%AF%E5%BE%84%E6%8B%BC%E6%8E%A5%E5%92%8C%E5%88%86%E8%A7%A3">路径拼接和分解</a></li>
<li><a href="#%E8%8E%B7%E5%8F%96%E8%B7%AF%E5%BE%84">获取路径</a></li>
<li><a href="#%E7%88%B6%E7%9B%AE%E5%BD%95">父目录</a></li>
<li><a href="#%E7%9B%AE%E5%BD%95%E7%9A%84%E7%BB%84%E6%88%90%E9%83%A8%E5%88%86">目录的组成部分</a></li>
<li><a href="#%E5%85%A8%E5%B1%80%E6%96%B9%E6%B3%95%E5%8F%8A%E5%88%A4%E6%96%AD%E6%96%B9%E6%B3%95">全局方法及判断方法</a></li>
<li><a href="#%E9%80%9A%E9%85%8D%E7%AC%A6">通配符</a></li>
<li><a href="#%E7%9B%AE%E5%BD%95%E5%B1%9E%E6%80%A7">目录属性</a></li>
</ul>
</li>
<li><a href="#122-%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C">1.2.2 文件操作</a></li>
</ul>
</li>
<li><a href="#13-os-%E6%A8%A1%E5%9D%97">1.3 os 模块</a></li>
</ul>
</li>
<li><a href="#2-shutil%E6%A8%A1%E5%9D%97">2 shutil模块</a>
<ul>
<li><a href="#21-copy%E5%A4%8D%E5%88%B6">2.1 copy复制</a></li>
<li><a href="#22-rm%E5%88%A0%E9%99%A4">2.2 rm删除</a></li>
<li><a href="#23-move%E7%A7%BB%E5%8A%A8">2.3 move移动</a></li>
<li><a href="#24-%E6%89%93%E5%8C%85">2.4 打包</a></li>
</ul>
</li>
</ul>
<!-- /TOC -->
<h1 id="1-路径操作">1 路径操作</h1>
<p>        使用Python操作文件系统时,少不了会对路径进行切换,对目录的遍历,以及获取文件的绝对路径的一系列的操作,Python内置了相关的模块完成对应的功能,其中:</p>
<ul>
<li>3.4 以前使用os.path模块</li>
<li>3.4 开始使用pathlib模块</li>
</ul>
<h2 id="11-ospath模块">1.1 os.path模块</h2>
<p>        os.path是os模块中的一个比较重要的用来拼接、判断路径的主要方法，它主要有如下方法：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s1">&#39;dir/file&#39;</span><span class="p">)</span>    <span class="err">获取</span><span class="nb">dir</span><span class="o">/</span><span class="n">file的绝对路径</span>
<span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>          <span class="err">把路径分割为目录和文件名组成的元组格式，不管</span><span class="n">path是否存在</span>
<span class="n">os</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>             <span class="err">获取文件的父目录名称，不管</span><span class="n">path是否存在</span>
<span class="n">os</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>            <span class="err">获取文件的名称，不管</span><span class="n">path是否存在</span>
<span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>         <span class="err">判断</span><span class="n">path是否存在</span><span class="p">,</span><span class="k">return</span> <span class="nb">bool</span>
<span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isabs</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>          <span class="err">判断</span><span class="n">path是否是从根开始</span><span class="p">,</span><span class="k">return</span> <span class="nb">bool</span>
<span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>         <span class="err">判断</span><span class="n">path是否是一个文件</span>
<span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>          <span class="err">判断</span><span class="n">path是否是一个目录</span>
<span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;path1&#39;</span><span class="p">,</span><span class="s1">&#39;path2&#39;</span><span class="p">,</span><span class="s1">&#39;path3&#39;</span><span class="p">)</span><span class="err">：把</span><span class="n">path1和path2及path3进行组合</span><span class="err">，但如果</span><span class="n">path2中包含了根路径</span><span class="err">，那么就会舍弃</span><span class="n">path1</span><span class="p">,</span><span class="err">从</span><span class="n">path2开始组合</span>
<span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">getatime</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>       <span class="err">获取文件的</span><span class="n">atime时间</span><span class="err">，返回时间戳</span>
<span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">getmtime</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>       <span class="err">获取文件的</span><span class="n">mtime时间</span><span class="err">，返回时间戳</span>
<span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">getsize</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>      <span class="err">获取文件的大小，单位是字节</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>Linux下：从/开始,Windows下从C,D,E盘开始</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="kn">import</span> <span class="nn">os</span>                                                            

<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;/etc&#39;</span><span class="p">,</span><span class="s1">&#39;sysconfig&#39;</span><span class="p">,</span><span class="s1">&#39;network-scripts&#39;</span><span class="p">)</span>                   
<span class="n">Out</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="s1">&#39;/etc/sysconfig/network-scripts&#39;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;/etc&#39;</span><span class="p">,</span><span class="s1">&#39;/sysconfig&#39;</span><span class="p">,</span><span class="s1">&#39;network-scripts&#39;</span><span class="p">)</span>                  
<span class="n">Out</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="s1">&#39;/sysconfig/network-scripts&#39;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">8</span><span class="p">]:</span> <span class="n">p</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;/etc&#39;</span><span class="p">,</span><span class="s1">&#39;sysconfig&#39;</span><span class="p">,</span><span class="s1">&#39;network-scripts&#39;</span><span class="p">)</span>               

<span class="n">In</span> <span class="p">[</span><span class="mi">9</span><span class="p">]:</span> <span class="n">p</span>                                                                    
<span class="n">Out</span><span class="p">[</span><span class="mi">9</span><span class="p">]:</span> <span class="s1">&#39;/etc/sysconfig/network-scripts&#39;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">10</span><span class="p">]:</span> <span class="nb">type</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>                                                             
<span class="n">Out</span><span class="p">[</span><span class="mi">10</span><span class="p">]:</span> <span class="nb">str</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">12</span><span class="p">]:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>                                                   
<span class="n">Out</span><span class="p">[</span><span class="mi">12</span><span class="p">]:</span> <span class="bp">True</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">13</span><span class="p">]:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>                                                    
<span class="n">Out</span><span class="p">[</span><span class="mi">13</span><span class="p">]:</span> <span class="p">(</span><span class="s1">&#39;/etc/sysconfig&#39;</span><span class="p">,</span> <span class="s1">&#39;network-scripts&#39;</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">14</span><span class="p">]:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>                                                
<span class="n">Out</span><span class="p">[</span><span class="mi">14</span><span class="p">]:</span> <span class="s1">&#39;/home/python/py368&#39;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">16</span><span class="p">]:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>                                                  
<span class="n">Out</span><span class="p">[</span><span class="mi">16</span><span class="p">]:</span> <span class="s1">&#39;/etc/sysconfig&#39;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">17</span><span class="p">]:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>                                                 
<span class="n">Out</span><span class="p">[</span><span class="mi">17</span><span class="p">]:</span> <span class="s1">&#39;network-scripts&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitdrive</span><span class="p">(</span><span class="s1">&#39;c:/etc/sysconfig/network-script&#39;</span><span class="p">)</span>   <span class="c1"># windows </span>
<span class="p">(</span><span class="s1">&#39;c:&#39;</span><span class="p">,</span> <span class="s1">&#39;/etc/sysconfig/network-script&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>__file__：变量比较特殊，存放的是当前的Python文件的名称，我们可以使用os.path.abspath(<strong>file</strong>)来获取当前python文件的绝对路径，然后进行打包或者进行相对调用。</p>
</blockquote>
<h2 id="12-pathlib模块">1.2 pathlib模块</h2>
<p>        3.4以后建议使用pathlib模块，它提供Path对象来对路径进行操作，还包括了目录和文件。</p>
<blockquote>
<p>在使用时需要实现导入： from pathlib import Path</p>
</blockquote>
<h3 id="121-目录操作">1.2.1 目录操作</h3>
<p>下面来说一下日常的目录相关操作</p>
<h4 id="初始化一个路径对象">初始化(一个路径对象)</h4>
<p>通过构建一个Path对象来对路径进行初始化</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python">
<span class="n">In</span> <span class="p">[</span><span class="mi">19</span><span class="p">]:</span> <span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>                                            
<span class="n">In</span> <span class="p">[</span><span class="mi">20</span><span class="p">]:</span> <span class="n">p</span> <span class="o">=</span> <span class="n">Path</span><span class="p">()</span>  <span class="c1"># 当前目录                                              </span>
<span class="n">In</span> <span class="p">[</span><span class="mi">21</span><span class="p">]:</span> <span class="n">p1</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>   <span class="c1"># 当前目录下的a/b/c                                            </span>
<span class="n">In</span> <span class="p">[</span><span class="mi">22</span><span class="p">]:</span> <span class="n">p2</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;/etc&#39;</span><span class="p">,</span><span class="s1">&#39;sysconfig&#39;</span><span class="p">,</span><span class="s1">&#39;network-scripts&#39;</span><span class="p">)</span>  <span class="c1"># /etc/sysconfig/network-scripts</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">23</span><span class="p">]:</span> <span class="n">p</span>                                                                   
<span class="n">Out</span><span class="p">[</span><span class="mi">23</span><span class="p">]:</span> <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">24</span><span class="p">]:</span> <span class="n">p1</span>                                                                  
<span class="n">Out</span><span class="p">[</span><span class="mi">24</span><span class="p">]:</span> <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;a/b/c&#39;</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">25</span><span class="p">]:</span> <span class="n">p2</span>                                                                  
<span class="n">Out</span><span class="p">[</span><span class="mi">25</span><span class="p">]:</span> <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc/sysconfig/network-scripts&#39;</span><span class="p">)</span>

</code></pre></td></tr></table>
</div>
</div><h4 id="路径拼接和分解">路径拼接和分解</h4>
<p><code>/</code>: Path对象支持使用<code>/</code>来进行路径的拼接，拼接规则应遵循：</p>
<ul>
<li>Path对象 / Path对象</li>
<li>Path对象 / 字符串 或者 字符串 / Path对象</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">In</span> <span class="p">[</span><span class="mi">30</span><span class="p">]:</span> <span class="n">p2</span> <span class="o">/</span> <span class="s1">&#39;ifcfg-eth0&#39;</span>                                                   
<span class="n">Out</span><span class="p">[</span><span class="mi">30</span><span class="p">]:</span> <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc/sysconfig/network-scripts/ifcfg-eth0&#39;</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">35</span><span class="p">]:</span> <span class="n">p2</span> <span class="o">/</span> <span class="n">p1</span>                                                             
<span class="n">Out</span><span class="p">[</span><span class="mi">35</span><span class="p">]:</span> <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc/sysconfig/network-scripts/a/b/c&#39;</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">37</span><span class="p">]:</span> <span class="s1">&#39;/root&#39;</span> <span class="o">/</span> <span class="n">p2</span>                                                        
<span class="n">Out</span><span class="p">[</span><span class="mi">37</span><span class="p">]:</span> <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc/sysconfig/network-scripts&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>需要注意的是：</p>
<ol>
<li>拼接的顺序和路径的顺序是一致的</li>
<li>p1 是相对路径，而p2是从根开始，如果p1/p2 那么返回的将会是p2</li>
<li>如果当 字符串 / Path对象这种格式时，如果Path对象是一个绝对路径，那么将无法进行拼接</li>
</ol>
<p><code>parts属性</code>: 将Path对象按照当前操作系统的分隔符进行分割返回一个元组</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">In</span> <span class="p">[</span><span class="mi">39</span><span class="p">]:</span> <span class="n">p2</span><span class="o">.</span><span class="n">parts</span>                                                            
<span class="n">Out</span><span class="p">[</span><span class="mi">39</span><span class="p">]:</span> <span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="s1">&#39;etc&#39;</span><span class="p">,</span> <span class="s1">&#39;sysconfig&#39;</span><span class="p">,</span> <span class="s1">&#39;network-scripts&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p><code>joinpath(*other)</code>: 在Path对象中使用当前操作系统的路径分隔符分割并追加多个字符串。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">In</span> <span class="p">[</span><span class="mi">43</span><span class="p">]:</span> <span class="n">p2</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s1">&#39;/etc&#39;</span><span class="p">)</span>                                                 
<span class="n">Out</span><span class="p">[</span><span class="mi">43</span><span class="p">]:</span> <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc&#39;</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">44</span><span class="p">]:</span> <span class="n">p2</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s1">&#39;etc&#39;</span><span class="p">)</span>                                                  
<span class="n">Out</span><span class="p">[</span><span class="mi">44</span><span class="p">]:</span> <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc/sysconfig/network-scripts/etc&#39;</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">50</span><span class="p">]:</span> <span class="n">p2</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s1">&#39;/etc&#39;</span><span class="p">,</span><span class="s1">&#39;/proc&#39;</span><span class="p">)</span>                                        
<span class="n">Out</span><span class="p">[</span><span class="mi">50</span><span class="p">]:</span> <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/proc&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>需要注意的是：</p>
<ol>
<li>如果添加的的路径都为/开始，那么最后添加的路径将会覆盖前面所有添加的路径字符串</li>
</ol>
<h4 id="获取路径">获取路径</h4>
<p>        Path返回的是一个路径对象，那么如何才可以只打印路径的字符串格式呢，我们可以通过<code>str(Path对象)</code>进行转换，当需要bytes格式时，也可以使用<code>bytes(Path对象)</code>转换。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">In</span> <span class="p">[</span><span class="mi">51</span><span class="p">]:</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">p2</span><span class="p">)</span>                                                           
<span class="n">Out</span><span class="p">[</span><span class="mi">51</span><span class="p">]:</span> <span class="sa">b</span><span class="s1">&#39;/etc/sysconfig/network-scripts&#39;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">52</span><span class="p">]:</span> <span class="nb">str</span><span class="p">(</span><span class="n">p2</span><span class="p">)</span>                                                             
<span class="n">Out</span><span class="p">[</span><span class="mi">52</span><span class="p">]:</span> <span class="s1">&#39;/etc/sysconfig/network-scripts&#39;</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="父目录">父目录</h4>
<p><code>parent</code>: 当前目录的逻辑父目录<br>
<code>parents</code>: 所以父目录的序列，索引0时为当前目录的父目录，依次类推</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">In</span> <span class="p">[</span><span class="mi">53</span><span class="p">]:</span> <span class="n">p2</span><span class="o">.</span><span class="n">parent</span>                                                           
<span class="n">Out</span><span class="p">[</span><span class="mi">53</span><span class="p">]:</span> <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc/sysconfig&#39;</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">54</span><span class="p">]:</span> <span class="n">p2</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span>                                                    
<span class="n">Out</span><span class="p">[</span><span class="mi">54</span><span class="p">]:</span> <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc&#39;</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">55</span><span class="p">]:</span> <span class="n">p2</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span>    <span class="c1"># 链式操作                                         </span>
<span class="n">Out</span><span class="p">[</span><span class="mi">55</span><span class="p">]:</span> <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">57</span><span class="p">]:</span> <span class="n">p2</span><span class="o">.</span><span class="n">parents</span>                                                          
<span class="n">Out</span><span class="p">[</span><span class="mi">57</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">PosixPath</span><span class="o">.</span><span class="n">parents</span><span class="o">&gt;</span>   <span class="c1"># 可迭代对象</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">58</span><span class="p">]:</span> <span class="nb">list</span><span class="p">(</span><span class="n">p2</span><span class="o">.</span><span class="n">parents</span><span class="p">)</span>                                                    
<span class="n">Out</span><span class="p">[</span><span class="mi">58</span><span class="p">]:</span> <span class="p">[</span><span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc/sysconfig&#39;</span><span class="p">),</span> <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc&#39;</span><span class="p">),</span> <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)]</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">59</span><span class="p">]:</span>     
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>parent属性，看似支持类js的链式操作，主要还是因为每次使用parent属性时，返回的还是一个Path对象，所以才可以一直parent下去。</p>
</blockquote>
<h4 id="目录的组成部分">目录的组成部分</h4>
<p>        在一个目录的绝对路径中我们可能会单独使用目录的名称、目录的后缀名等等，Path对象提供了专门的属性及方法便于获取或者对它们进行修改。</p>
<ul>
<li><code>name</code>: 目录的最后一个部分</li>
<li><code>suffix</code>：目录中最后一个部分的扩展名</li>
<li><code>stem</code>：目录中最后一个部分，不包含后缀名</li>
<li><code>suffixes</code>: 多个后缀名形成的列表</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>                                             

<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">p</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;/tmp/mysql.tar.gz&#39;</span><span class="p">)</span>                                        

<span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">p</span><span class="o">.</span><span class="n">name</span>                                                               
<span class="n">Out</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="s1">&#39;mysql.tar.gz&#39;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="n">p</span><span class="o">.</span><span class="n">suffix</span>                                                             
<span class="n">Out</span><span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="s1">&#39;.gz&#39;</span>  

<span class="n">In</span> <span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="n">p</span><span class="o">.</span><span class="n">stem</span>                                                               
<span class="n">Out</span><span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="s1">&#39;mysql.tar&#39;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">6</span><span class="p">]:</span> <span class="n">p</span><span class="o">.</span><span class="n">suffixes</span>                                                           
<span class="n">Out</span><span class="p">[</span><span class="mi">6</span><span class="p">]:</span> <span class="p">[</span><span class="s1">&#39;.tar&#39;</span><span class="p">,</span> <span class="s1">&#39;.gz&#39;</span><span class="p">]</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li><code>with_suffix(suffix)</code>: 有扩展名则替换，无则补充扩展名(注意后缀名要加点)</li>
<li><code>with_name(name)</code>：替换目录最后一个部分并返回一个新的路径</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">In</span> <span class="p">[</span><span class="mi">9</span><span class="p">]:</span> <span class="n">p</span>                                                                    
<span class="n">Out</span><span class="p">[</span><span class="mi">9</span><span class="p">]:</span> <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/tmp/mysql.tar.gz&#39;</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">10</span><span class="p">]:</span> <span class="n">p</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s1">&#39;.abc&#39;</span><span class="p">)</span>                                               
<span class="n">Out</span><span class="p">[</span><span class="mi">10</span><span class="p">]:</span> <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/tmp/mysql.tar.abc&#39;</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">11</span><span class="p">]:</span> <span class="n">p1</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;/tmp/nginx&#39;</span><span class="p">)</span>                                             

<span class="n">In</span> <span class="p">[</span><span class="mi">12</span><span class="p">]:</span> <span class="n">p1</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s1">&#39;.abc&#39;</span><span class="p">)</span>                                              
<span class="n">Out</span><span class="p">[</span><span class="mi">12</span><span class="p">]:</span> <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/tmp/nginx.abc&#39;</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">15</span><span class="p">]:</span> <span class="n">p</span>                                                                   
<span class="n">Out</span><span class="p">[</span><span class="mi">15</span><span class="p">]:</span> <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/tmp/mysql.tar.gz&#39;</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">16</span><span class="p">]:</span> <span class="n">p</span><span class="o">.</span><span class="n">with_name</span><span class="p">(</span><span class="s1">&#39;nginx.tar.gz&#39;</span><span class="p">)</span>                                         
<span class="n">Out</span><span class="p">[</span><span class="mi">16</span><span class="p">]:</span> <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/tmp/nginx.tar.gz&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="全局方法及判断方法">全局方法及判断方法</h4>
<ul>
<li><code>cwd()</code>: 返回当前工作目录</li>
<li><code>home()</code>: 返回当前家目录</li>
<li><code>is_dir()</code>: 是否是目录，是目录且存在，则返回True</li>
<li><code>is_file()</code>: 是否是普通文件，是文件且存在，则返回True</li>
<li><code>is_symlink()</code>: 是否是阮链接</li>
<li><code>is_socket()</code>: 是否是socket文件</li>
<li><code>is_block_device()</code>: 是否是块设备</li>
<li><code>is_char_device()</code>: 是否是字符设备</li>
<li><code>is_absolute()</code>: 是否是绝对路径</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">In</span> <span class="p">[</span><span class="mi">34</span><span class="p">]:</span> <span class="n">p</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;/etc&#39;</span><span class="p">,</span><span class="s1">&#39;sysconfig&#39;</span><span class="p">)</span>                                            

<span class="n">In</span> <span class="p">[</span><span class="mi">35</span><span class="p">]:</span> <span class="n">p2</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;/etc&#39;</span><span class="p">,</span><span class="s1">&#39;hosts&#39;</span><span class="p">)</span>                                               

<span class="n">In</span> <span class="p">[</span><span class="mi">36</span><span class="p">]:</span> <span class="n">p3</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;/etc&#39;</span><span class="p">,</span><span class="s1">&#39;rc.d&#39;</span><span class="p">,</span><span class="s1">&#39;rc3.d&#39;</span><span class="p">,</span><span class="s1">&#39;S10network&#39;</span><span class="p">)</span>                           

<span class="n">In</span> <span class="p">[</span><span class="mi">37</span><span class="p">]:</span> <span class="n">p</span><span class="o">.</span><span class="n">is_dir</span><span class="p">()</span>                                                              
<span class="n">Out</span><span class="p">[</span><span class="mi">37</span><span class="p">]:</span> <span class="bp">True</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">38</span><span class="p">]:</span> <span class="n">p1</span><span class="o">.</span><span class="n">is_file</span><span class="p">()</span>                                                            
<span class="n">Out</span><span class="p">[</span><span class="mi">38</span><span class="p">]:</span> <span class="bp">False</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">39</span><span class="p">]:</span> <span class="n">p2</span><span class="o">.</span><span class="n">is_file</span><span class="p">()</span>                                                            
<span class="n">Out</span><span class="p">[</span><span class="mi">39</span><span class="p">]:</span> <span class="bp">True</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">44</span><span class="p">]:</span> <span class="n">p3</span><span class="o">.</span><span class="n">is_symlink</span><span class="p">()</span>                                                         
<span class="n">Out</span><span class="p">[</span><span class="mi">44</span><span class="p">]:</span> <span class="bp">True</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">45</span><span class="p">]:</span> <span class="n">p</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">()</span>                                                         
<span class="n">Out</span><span class="p">[</span><span class="mi">45</span><span class="p">]:</span> <span class="bp">True</span> 
</code></pre></td></tr></table>
</div>
</div><ul>
<li><code>resolve()</code>: 返回当前Path对象的绝对路径。如果是软连接，则直接被解析</li>
<li><code>absolute()</code>: 获取Path对象的绝对路径</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">In</span> <span class="p">[</span><span class="mi">28</span><span class="p">]:</span> <span class="n">p3</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;hosts&#39;</span><span class="p">)</span>                                                      

<span class="n">In</span> <span class="p">[</span><span class="mi">29</span><span class="p">]:</span> <span class="n">p3</span>                                                                      
<span class="n">Out</span><span class="p">[</span><span class="mi">29</span><span class="p">]:</span> <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;hosts&#39;</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">30</span><span class="p">]:</span> <span class="n">p3</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>          <span class="c1"># 软链接的真正路径                                                    </span>
<span class="n">Out</span><span class="p">[</span><span class="mi">30</span><span class="p">]:</span> <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc/hosts&#39;</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">31</span><span class="p">]:</span> <span class="n">p3</span><span class="o">.</span><span class="n">absolute</span><span class="p">()</span>         <span class="c1"># 软链接的绝对路径                                                 </span>
<span class="n">Out</span><span class="p">[</span><span class="mi">31</span><span class="p">]:</span> <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/home/python/py368/hosts&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li><code>exists()</code>: 文件或者目录是否存在</li>
<li><code>rmdir()</code>: 删除空目录(没有提供目录为空的方法)</li>
<li><code>touch(mode=0o666，exist_ok=False)</code>: 创建一个文件
<ul>
<li><code>mode</code>: 文件的属性，默认为666</li>
<li><code>exist_ok</code>: 在3.5版本加入，False时，路径存在，抛出FileExistsError;True时，异常将被忽略</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">In</span> <span class="p">[</span><span class="mi">47</span><span class="p">]:</span> <span class="n">p</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;/tmp&#39;</span><span class="p">,</span><span class="s1">&#39;hello.py&#39;</span><span class="p">)</span>                                                                                                         
<span class="n">In</span> <span class="p">[</span><span class="mi">49</span><span class="p">]:</span> <span class="n">p</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span>                                                              
<span class="n">Out</span><span class="p">[</span><span class="mi">49</span><span class="p">]:</span> <span class="bp">False</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">50</span><span class="p">]:</span> <span class="n">p</span><span class="o">.</span><span class="n">touch</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="mi">0</span><span class="n">o666</span><span class="p">,</span><span class="n">exist_ok</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>                                      

<span class="n">In</span> <span class="p">[</span><span class="mi">51</span><span class="p">]:</span> <span class="n">p</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span>                                                              
<span class="n">Out</span><span class="p">[</span><span class="mi">51</span><span class="p">]:</span> <span class="bp">True</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">52</span><span class="p">]:</span> <span class="n">p</span><span class="o">.</span><span class="n">touch</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="mi">0</span><span class="n">o666</span><span class="p">,</span><span class="n">exist_ok</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>                                      
<span class="o">---------------------------------------------------------------------------</span>
<span class="n">FileExistsError</span>                           <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>
<span class="o">...</span>
<span class="n">FileExistsError</span><span class="p">:</span> <span class="p">[</span><span class="n">Errno</span> <span class="mi">17</span><span class="p">]</span> <span class="n">File</span> <span class="n">exists</span><span class="p">:</span> <span class="s1">&#39;/tmp/hello.py&#39;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">53</span><span class="p">]:</span>  
</code></pre></td></tr></table>
</div>
</div><ul>
<li>as_uri(): 将路径返回成URI</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">In</span> <span class="p">[</span><span class="mi">56</span><span class="p">]:</span> <span class="n">p2</span><span class="o">.</span><span class="n">as_uri</span><span class="p">()</span>                                                             
<span class="n">Out</span><span class="p">[</span><span class="mi">56</span><span class="p">]:</span> <span class="s1">&#39;file:///etc/hosts&#39;</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li><code>mkdir(mode=0o777,parents=False,exist_ok=False)</code>: 创建一个目录
<ul>
<li><code>parents</code>：是否创建父目录，True等同于<code>mkdir -p</code>, False时，父目录不存在曝出FileNotFoundError</li>
<li><code>exist_ok</code>: 在3.5版本加入，False时，路径存在，抛出FileExistsError;True时，异常将被忽略</li>
</ul>
</li>
<li><code>iterdir()</code>: 迭代当前目录，不递归。</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">In</span> <span class="p">[</span><span class="mi">74</span><span class="p">]:</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">p4</span><span class="o">.</span><span class="n">parents</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">iterdir</span><span class="p">():</span> 
    <span class="o">...</span><span class="p">:</span>     <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span> 
    <span class="o">...</span><span class="p">:</span>         <span class="n">flag</span> <span class="o">=</span> <span class="bp">False</span> 
    <span class="o">...</span><span class="p">:</span>         <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">iterdir</span><span class="p">():</span> 
    <span class="o">...</span><span class="p">:</span>             <span class="n">flag</span> <span class="o">=</span> <span class="bp">True</span> 
    <span class="o">...</span><span class="p">:</span>             <span class="k">break</span> 
    <span class="o">...</span><span class="p">:</span>         <span class="k">print</span><span class="p">(</span><span class="s1">&#39;dir: {} , is {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="s1">&#39;not empty &#39;</span> <span class="k">if</span> <span class="n">flag</span> <span class="k">else</span> <span class="s1">&#39;empt</span>
    <span class="o">...</span><span class="p">:</span> <span class="n">y</span><span class="s1">&#39; )) </span>
    <span class="o">...</span><span class="p">:</span>     <span class="k">elif</span> <span class="n">x</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span> 
    <span class="o">...</span><span class="p">:</span>         <span class="k">print</span><span class="p">(</span><span class="s1">&#39;{} is a file&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">))</span> 
    <span class="o">...</span><span class="p">:</span>     <span class="k">else</span><span class="p">:</span> 
    <span class="o">...</span><span class="p">:</span>         <span class="k">print</span><span class="p">(</span><span class="s1">&#39;other file&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>判断文件类型，当文件为目录时，判断其是否为空目录。</p>
</blockquote>
<h4 id="通配符">通配符</h4>
<ul>
<li><code>glob(partten)</code>: 在<code>目录下</code>通配给定的格式</li>
<li><code>rglob(partten)</code>: 在<code>目录下</code>递归通配给定的格式(递归目录)</li>
<li><code>match(partten)</code>: 模式匹配(对当前Path对象进行匹配)，成功返回True
支持的通配符与Linux下相同：</li>
<li>？ 表示一个字符</li>
<li>* 表示任意个字符</li>
<li>[abc]或[a-z] 表示区间内的任意一个字符</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">In</span> <span class="p">[</span><span class="mi">84</span><span class="p">]:</span> <span class="n">p4</span>                                                                      
<span class="n">Out</span><span class="p">[</span><span class="mi">84</span><span class="p">]:</span> <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc/sysconfig/network-scripts&#39;</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">85</span><span class="p">]:</span> <span class="nb">list</span><span class="p">(</span><span class="n">p4</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;ifu?-*&#39;</span><span class="p">))</span>                                                 
<span class="n">Out</span><span class="p">[</span><span class="mi">85</span><span class="p">]:</span> 
<span class="p">[</span><span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc/sysconfig/network-scripts/ifup-aliases&#39;</span><span class="p">),</span>
 <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc/sysconfig/network-scripts/ifup-bnep&#39;</span><span class="p">),</span>
 <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc/sysconfig/network-scripts/ifup-eth&#39;</span><span class="p">),</span>
 <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc/sysconfig/network-scripts/ifup-ippp&#39;</span><span class="p">),</span>
 <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc/sysconfig/network-scripts/ifup-ipv6&#39;</span><span class="p">),</span>
 <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc/sysconfig/network-scripts/ifup-isdn&#39;</span><span class="p">),</span>
 <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc/sysconfig/network-scripts/ifup-plip&#39;</span><span class="p">),</span>
 <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc/sysconfig/network-scripts/ifup-plusb&#39;</span><span class="p">),</span>
 <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc/sysconfig/network-scripts/ifup-post&#39;</span><span class="p">),</span>
 <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc/sysconfig/network-scripts/ifup-ppp&#39;</span><span class="p">),</span>
 <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc/sysconfig/network-scripts/ifup-routes&#39;</span><span class="p">),</span>
 <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc/sysconfig/network-scripts/ifup-sit&#39;</span><span class="p">),</span>
 <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc/sysconfig/network-scripts/ifup-tunnel&#39;</span><span class="p">),</span>
 <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc/sysconfig/network-scripts/ifup-wireless&#39;</span><span class="p">),</span>
 <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc/sysconfig/network-scripts/ifup-ib&#39;</span><span class="p">),</span>
 <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc/sysconfig/network-scripts/ifup-Team&#39;</span><span class="p">),</span>
 <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/etc/sysconfig/network-scripts/ifup-TeamPort&#39;</span><span class="p">)]</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">87</span><span class="p">]:</span> <span class="n">p4</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;/etc/*/network-script?&#39;</span><span class="p">)</span>                                      
<span class="n">Out</span><span class="p">[</span><span class="mi">87</span><span class="p">]:</span> <span class="bp">True</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="目录属性">目录属性</h4>
<ul>
<li><code>stat()</code>: 查看目录的详细信息，相当于stat命令</li>
<li><code>lstat()</code>: 如果是符号链接，则显示符号链接本身的文件信息</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">In</span> <span class="p">[</span><span class="mi">88</span><span class="p">]:</span> <span class="n">p4</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span>                                                               
<span class="n">Out</span><span class="p">[</span><span class="mi">88</span><span class="p">]:</span> <span class="n">os</span><span class="o">.</span><span class="n">stat_result</span><span class="p">(</span><span class="n">st_mode</span><span class="o">=</span><span class="mi">16877</span><span class="p">,</span> <span class="n">st_ino</span><span class="o">=</span><span class="mi">67533402</span><span class="p">,</span> <span class="n">st_dev</span><span class="o">=</span><span class="mi">2050</span><span class="p">,</span> <span class="n">st_nlink</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">st_uid</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">st_gid</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">st_size</span><span class="o">=</span><span class="mi">4096</span><span class="p">,</span> <span class="n">st_atime</span><span class="o">=</span><span class="mi">1550229289</span><span class="p">,</span> <span class="n">st_mtime</span><span class="o">=</span><span class="mi">1545830238</span><span class="p">,</span> <span class="n">st_ctime</span><span class="o">=</span><span class="mi">1545830238</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="122-文件操作">1.2.2 文件操作</h3>
<p>        Path对象同样提供了打开文件的函数，功能类似于内建函数open。返回一个文件对象。当我们创建一个Path对象时，这个文件已经被打开，当我们写入数据时，文件不存在会新建，重名或者是目录，会有相应的异常提示，它的语法是</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">Path</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="n">buffering</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span><span class="n">encoding</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">errors</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">newline</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">In</span> <span class="p">[</span><span class="mi">115</span><span class="p">]:</span> <span class="n">p5</span>                                                                     
<span class="n">Out</span><span class="p">[</span><span class="mi">115</span><span class="p">]:</span> <span class="n">PosixPath</span><span class="p">(</span><span class="s1">&#39;/tmp/123&#39;</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">116</span><span class="p">]:</span> <span class="n">p</span> <span class="o">=</span> <span class="n">p5</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>                                                  

<span class="n">In</span> <span class="p">[</span><span class="mi">117</span><span class="p">]:</span> <span class="n">p</span>                                                                      
<span class="n">Out</span><span class="p">[</span><span class="mi">117</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">_io</span><span class="o">.</span><span class="n">TextIOWrapper</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;/tmp/123&#39;</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;UTF-8&#39;</span><span class="o">&gt;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">118</span><span class="p">]:</span> <span class="n">p</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>                                                               
<span class="n">Out</span><span class="p">[</span><span class="mi">118</span><span class="p">]:</span> <span class="s1">&#39;123&#39;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">119</span><span class="p">]:</span> <span class="n">p5</span><span class="o">.</span><span class="n">read_text</span><span class="p">()</span>     <span class="c1"># 不存在时报异常，存在则直接打开并读取                                                      </span>
<span class="n">Out</span><span class="p">[</span><span class="mi">119</span><span class="p">]:</span> <span class="s1">&#39;123&#39;</span>

</code></pre></td></tr></table>
</div>
</div><p>3.5以后新增加的函数方法：</p>
<ul>
<li><code>Path.read_bytes()</code>: 以&rsquo;rb&rsquo;方式读取路径对应文件，并返回二进制流。</li>
<li><code>Path.read_text()</code>: 以&rsquo;rt&rsquo;方式读取路径文件， 并返回文件。<strong>无视指针</strong></li>
<li><code>Path.write_bytes()</code>: 以&rsquo;wb&rsquo;方式写入数据到路径对应文件中。</li>
<li><code>Path.write_text()</code>: 以&rsquo;wt&rsquo;方式写入数据到路径对应文件中。</li>
</ul>
<h2 id="13-os-模块">1.3 os 模块</h2>
<p>os模块的常用方法：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">():</span>        <span class="err">获取当前路径</span>
<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">()</span><span class="err">：</span>        <span class="err">切换当前目录，当路径中存在</span>\<span class="err">的时候，由于是转意的意思，那么就需要对</span>\<span class="err">进行转意，那么路径就是</span><span class="n">c</span><span class="p">:</span>\\<span class="n">User</span><span class="p">,</span><span class="err">或者在目录前面加</span><span class="n">r</span><span class="err">，表示后面的字符串不进行解释</span>
<span class="n">os</span><span class="o">.</span><span class="n">curdir</span><span class="p">():</span>        <span class="err">获取当前目录名</span>
<span class="n">os</span><span class="o">.</span><span class="n">pardir</span><span class="p">():</span>        <span class="err">获取上级目录名</span>
<span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="s1">&#39;dir&#39;</span><span class="p">):</span>    <span class="err">创建目录，注意只能创建一级目录</span>
<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="s1">&#39;dir_path&#39;</span><span class="p">):</span><span class="err">创建多级目录</span>
<span class="n">os</span><span class="o">.</span><span class="n">rmdir</span><span class="p">(</span><span class="s1">&#39;dir&#39;</span><span class="p">):</span>    <span class="err">删除一个目录</span>
<span class="n">os</span><span class="o">.</span><span class="n">removedir</span><span class="p">(</span><span class="s1">&#39;dir_path&#39;</span><span class="p">)</span><span class="err">：删除多级目录（目录为空的话）</span>
<span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s1">&#39;dir&#39;</span><span class="p">):</span>  <span class="err">显示目录下的所有文件</span><span class="p">,</span><span class="err">默认为当前目录</span><span class="p">,</span><span class="err">返回的结果为</span><span class="nb">list</span>
<span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;file&#39;</span><span class="p">):</span>  <span class="err">删除一个文件</span>
<span class="n">os</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;old_name&#39;</span><span class="p">,</span><span class="s1">&#39;new_name&#39;</span><span class="p">):</span><span class="err">修改文件名称</span>
<span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="s1">&#39;file/dir&#39;</span><span class="p">)</span><span class="err">：获取文件</span><span class="o">/</span><span class="err">目录的</span><span class="n">stat信息</span><span class="p">(</span><span class="err">调用的是系统的</span><span class="n">stat</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="p">:</span>             <span class="err">返回当前操作系统的路径分隔符</span><span class="p">(</span><span class="n">Windows下</span><span class="err">：</span>\\ <span class="p">,</span> <span class="n">Linux下</span><span class="p">:</span><span class="o">/</span><span class="err">）</span>
<span class="n">os</span><span class="o">.</span><span class="n">linesep</span><span class="p">:</span>         <span class="err">返回当前操作系统的换行符（</span><span class="n">Windows下</span><span class="p">:</span>\<span class="n">r</span>\<span class="n">n</span>  <span class="p">,</span><span class="n">Linux下</span><span class="p">:</span>\<span class="n">n</span><span class="err">）</span>
<span class="n">os</span><span class="o">.</span><span class="n">pathsep</span><span class="p">:</span>         <span class="err">返回当前操作系统环境变量分隔符（</span><span class="n">Windows下是</span><span class="p">;</span> <span class="p">,</span><span class="n">Linux下是</span><span class="p">:</span><span class="err">）</span>
<span class="n">os</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>            <span class="err">返回当前系统的类型（</span><span class="n">nt</span> <span class="err">表示</span><span class="n">Windows</span><span class="p">,</span>  <span class="n">posix表示Linux</span><span class="err">）</span>
<span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;Commmand&#39;</span><span class="p">):</span><span class="err">执行命令</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">:</span>         <span class="err">获取系统环境变量，使用字典存储</span>
<span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s1">&#39;dir/file&#39;</span><span class="p">):</span><span class="err">获取</span><span class="nb">dir</span><span class="o">/</span><span class="n">file的绝对路径</span>
<span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">):</span><span class="err">把路径分割为目录和文件名组成的元组格式，不管</span><span class="n">path是否存在</span>
<span class="n">os</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">)</span><span class="err">：获取文件的父目录名称，不管</span><span class="n">path是否存在</span>
<span class="n">os</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">):</span><span class="err">获取文件的名称，不管</span><span class="n">path是否存在</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>os.stat(follow_symlinks=True)，返回源文件本身信息，False时，显示链接文件的信息,对于软连接本身，还可以使用os.lstat方法</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">In</span> <span class="p">[</span><span class="mi">133</span><span class="p">]:</span> <span class="n">os</span><span class="o">.</span><span class="n">lstat</span><span class="p">(</span><span class="s1">&#39;hosts&#39;</span><span class="p">)</span>                                                      
<span class="n">Out</span><span class="p">[</span><span class="mi">133</span><span class="p">]:</span> <span class="n">os</span><span class="o">.</span><span class="n">stat_result</span><span class="p">(</span><span class="n">st_mode</span><span class="o">=</span><span class="mi">41471</span><span class="p">,</span> <span class="n">st_ino</span><span class="o">=</span><span class="mi">2083428</span><span class="p">,</span> <span class="n">st_dev</span><span class="o">=</span><span class="mi">2050</span><span class="p">,</span> <span class="n">st_nlink</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">st_uid</span><span class="o">=</span><span class="mi">1001</span><span class="p">,</span> <span class="n">st_gid</span><span class="o">=</span><span class="mi">1001</span><span class="p">,</span> <span class="n">st_size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">st_atime</span><span class="o">=</span><span class="mi">1550259162</span><span class="p">,</span> <span class="n">st_mtime</span><span class="o">=</span><span class="mi">1550259161</span><span class="p">,</span> <span class="n">st_ctime</span><span class="o">=</span><span class="mi">1550259161</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">134</span><span class="p">]:</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="s1">&#39;hosts&#39;</span><span class="p">)</span>                                                       
<span class="n">Out</span><span class="p">[</span><span class="mi">134</span><span class="p">]:</span> <span class="n">os</span><span class="o">.</span><span class="n">stat_result</span><span class="p">(</span><span class="n">st_mode</span><span class="o">=</span><span class="mi">33188</span><span class="p">,</span> <span class="n">st_ino</span><span class="o">=</span><span class="mi">67245317</span><span class="p">,</span> <span class="n">st_dev</span><span class="o">=</span><span class="mi">2050</span><span class="p">,</span> <span class="n">st_nlink</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">st_uid</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">st_gid</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">st_size</span><span class="o">=</span><span class="mi">158</span><span class="p">,</span> <span class="n">st_atime</span><span class="o">=</span><span class="mi">1550229294</span><span class="p">,</span> <span class="n">st_mtime</span><span class="o">=</span><span class="mi">1370615492</span><span class="p">,</span> <span class="n">st_ctime</span><span class="o">=</span><span class="mi">1545666279</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">136</span><span class="p">]:</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="s1">&#39;hosts&#39;</span><span class="p">,</span><span class="n">follow_symlinks</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>      <span class="c1"># 等同于os.lstat()                            </span>
<span class="n">Out</span><span class="p">[</span><span class="mi">136</span><span class="p">]:</span> <span class="n">os</span><span class="o">.</span><span class="n">stat_result</span><span class="p">(</span><span class="n">st_mode</span><span class="o">=</span><span class="mi">41471</span><span class="p">,</span> <span class="n">st_ino</span><span class="o">=</span><span class="mi">2083428</span><span class="p">,</span> <span class="n">st_dev</span><span class="o">=</span><span class="mi">2050</span><span class="p">,</span> <span class="n">st_nlink</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">st_uid</span><span class="o">=</span><span class="mi">1001</span><span class="p">,</span> <span class="n">st_gid</span><span class="o">=</span><span class="mi">1001</span><span class="p">,</span> <span class="n">st_size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">st_atime</span><span class="o">=</span><span class="mi">1550259162</span><span class="p">,</span> <span class="n">st_mtime</span><span class="o">=</span><span class="mi">1550259161</span><span class="p">,</span> <span class="n">st_ctime</span><span class="o">=</span><span class="mi">1550259161</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">137</span><span class="p">]:</span>    
</code></pre></td></tr></table>
</div>
</div><h1 id="2-shutil模块">2 shutil模块</h1>
<p>        根据前面所学的知识，我们如果想要进行文件拷贝，需要先打开两个文件对象对象，源文件读取内容，写入到目标文件中去。 这种方式虽然完成了文件的拷贝，但是却丢失了文件的属性信息，比如属组、权限等，因为我们根本没有进行复制。所以，python提供了一个用于高级文件操作的库，它的名字就叫做shutil。</p>
<h2 id="21-copy复制">2.1 copy复制</h2>
<ul>
<li><code>shutil.copyfileobj(fsrc,fdes,length)</code>: 将文件内容拷贝到另一个文件中，可以只拷贝部分内容，需要我们自行打开文件对象进行copy,length表示buffer的大小，需要注意的是fdes必须可写</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">os</span><span class="o">,</span><span class="nn">shutil</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;ls&#39;</span><span class="p">)</span>
<span class="mf">1.</span><span class="n">txt</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">shutil</span><span class="o">.</span><span class="n">copyfileobj</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;1.txt&#39;</span><span class="p">),</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;2.txt&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;ls&#39;</span><span class="p">)</span>
<span class="mf">1.</span><span class="n">txt</span>  <span class="mf">2.</span><span class="n">txt</span>
<span class="o">&gt;&gt;&gt;</span> 
</code></pre></td></tr></table>
</div>
</div><ul>
<li><code>shutil.copyfile(fsrc,fdes)</code>: 复制文件，我们只需要传入文件名称即可进行复制，不用自行预先打开，等于创建一个新的文件，把老文件写入到新文件中然后关闭，新创建的文件权限和属主等信息遵循操作系统规定(本质上还是调用copyfileobj)</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="n">shutil</span><span class="o">.</span><span class="n">copyfile</span><span class="p">(</span><span class="s1">&#39;1.txt&#39;</span><span class="p">,</span><span class="s1">&#39;3.txt&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;ls&#39;</span><span class="p">)</span>
<span class="mf">1.</span><span class="n">txt</span>  <span class="mf">2.</span><span class="n">txt</span>  <span class="mf">3.</span><span class="n">txt</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li><code>shutil.copymode(src,des)</code>: 复制文件权限，既把src文件的权限复制给 des文件，只改变权限，不改变其他比如属组，内容等(des文件必须存在)</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;ls -l&#39;</span><span class="p">)</span>
<span class="n">total</span> <span class="mi">12</span>
<span class="o">-</span><span class="n">rwxrwxrwx</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">6</span> <span class="n">Mar</span>  <span class="mi">9</span> <span class="mi">18</span><span class="p">:</span><span class="mi">35</span> <span class="mf">1.</span><span class="n">txt</span>
<span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">6</span> <span class="n">Mar</span>  <span class="mi">9</span> <span class="mi">18</span><span class="p">:</span><span class="mi">36</span> <span class="mf">2.</span><span class="n">txt</span>
<span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">6</span> <span class="n">Mar</span>  <span class="mi">9</span> <span class="mi">18</span><span class="p">:</span><span class="mi">38</span> <span class="mf">3.</span><span class="n">txt</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">shutil</span><span class="o">.</span><span class="n">copymode</span><span class="p">(</span><span class="s1">&#39;1.txt&#39;</span><span class="p">,</span><span class="s1">&#39;2.txt&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;ls -l&#39;</span><span class="p">)</span>
<span class="n">total</span> <span class="mi">12</span>
<span class="o">-</span><span class="n">rwxrwxrwx</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">6</span> <span class="n">Mar</span>  <span class="mi">9</span> <span class="mi">18</span><span class="p">:</span><span class="mi">35</span> <span class="mf">1.</span><span class="n">txt</span>
<span class="o">-</span><span class="n">rwxrwxrwx</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">6</span> <span class="n">Mar</span>  <span class="mi">9</span> <span class="mi">18</span><span class="p">:</span><span class="mi">36</span> <span class="mf">2.</span><span class="n">txt</span>
<span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span> <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">6</span> <span class="n">Mar</span>  <span class="mi">9</span> <span class="mi">18</span><span class="p">:</span><span class="mi">38</span> <span class="mf">3.</span><span class="n">txt</span>
<span class="o">&gt;&gt;&gt;</span> 
</code></pre></td></tr></table>
</div>
</div><ul>
<li><code>shutil.copystat(src,des)</code>: 复制文件的权限，还包括，atime，mtime，flags等信息，不改变文件内容（des需存在）</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;stat 1.txt&#39;</span><span class="p">)</span>
  <span class="n">File</span><span class="p">:</span> <span class="err">`</span><span class="mf">1.</span><span class="n">txt</span><span class="s1">&#39;</span>
  <span class="n">Size</span><span class="p">:</span> <span class="mi">6</span>             <span class="n">Blocks</span><span class="p">:</span> <span class="mi">8</span>          <span class="n">IO</span> <span class="n">Block</span><span class="p">:</span> <span class="mi">4096</span>   <span class="n">regular</span> <span class="nb">file</span>
<span class="n">Device</span><span class="p">:</span> <span class="n">fd00h</span><span class="o">/</span><span class="mi">64768</span><span class="n">d</span>    <span class="n">Inode</span><span class="p">:</span> <span class="mi">926326</span>      <span class="n">Links</span><span class="p">:</span> <span class="mi">1</span>
<span class="n">Access</span><span class="p">:</span> <span class="p">(</span><span class="mo">0777</span><span class="o">/-</span><span class="n">rwxrwxrwx</span><span class="p">)</span>  <span class="n">Uid</span><span class="p">:</span> <span class="p">(</span>    <span class="mi">0</span><span class="o">/</span>    <span class="n">root</span><span class="p">)</span>   <span class="n">Gid</span><span class="p">:</span> <span class="p">(</span>    <span class="mi">0</span><span class="o">/</span>    <span class="n">root</span><span class="p">)</span>
<span class="n">Access</span><span class="p">:</span> <span class="mi">2017</span><span class="o">-</span><span class="mo">03</span><span class="o">-</span><span class="mi">09</span> <span class="mi">18</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mf">59.223738919</span> <span class="o">+</span><span class="mi">0800</span>
<span class="n">Modify</span><span class="p">:</span> <span class="mi">2017</span><span class="o">-</span><span class="mo">03</span><span class="o">-</span><span class="mi">09</span> <span class="mi">18</span><span class="p">:</span><span class="mi">35</span><span class="p">:</span><span class="mf">23.148738381</span> <span class="o">+</span><span class="mi">0800</span>
<span class="n">Change</span><span class="p">:</span> <span class="mi">2017</span><span class="o">-</span><span class="mo">03</span><span class="o">-</span><span class="mi">09</span> <span class="mi">18</span><span class="p">:</span><span class="mi">39</span><span class="p">:</span><span class="mf">59.061738605</span> <span class="o">+</span><span class="mi">0800</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;stat 3.txt&#39;</span><span class="p">)</span>
  <span class="n">File</span><span class="p">:</span> <span class="err">`</span><span class="mf">3.</span><span class="n">txt</span><span class="s1">&#39;</span>
  <span class="n">Size</span><span class="p">:</span> <span class="mi">6</span>             <span class="n">Blocks</span><span class="p">:</span> <span class="mi">8</span>          <span class="n">IO</span> <span class="n">Block</span><span class="p">:</span> <span class="mi">4096</span>   <span class="n">regular</span> <span class="nb">file</span>
<span class="n">Device</span><span class="p">:</span> <span class="n">fd00h</span><span class="o">/</span><span class="mi">64768</span><span class="n">d</span>    <span class="n">Inode</span><span class="p">:</span> <span class="mi">940237</span>      <span class="n">Links</span><span class="p">:</span> <span class="mi">1</span>
<span class="n">Access</span><span class="p">:</span> <span class="p">(</span><span class="mo">0644</span><span class="o">/-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span><span class="p">)</span>  <span class="n">Uid</span><span class="p">:</span> <span class="p">(</span>    <span class="mi">0</span><span class="o">/</span>    <span class="n">root</span><span class="p">)</span>   <span class="n">Gid</span><span class="p">:</span> <span class="p">(</span>    <span class="mi">0</span><span class="o">/</span>    <span class="n">root</span><span class="p">)</span>
<span class="n">Access</span><span class="p">:</span> <span class="mi">2017</span><span class="o">-</span><span class="mo">03</span><span class="o">-</span><span class="mi">09</span> <span class="mi">18</span><span class="p">:</span><span class="mi">39</span><span class="p">:</span><span class="mf">42.214738376</span> <span class="o">+</span><span class="mi">0800</span>
<span class="n">Modify</span><span class="p">:</span> <span class="mi">2017</span><span class="o">-</span><span class="mo">03</span><span class="o">-</span><span class="mi">09</span> <span class="mi">18</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mf">13.862738316</span> <span class="o">+</span><span class="mi">0800</span>
<span class="n">Change</span><span class="p">:</span> <span class="mi">2017</span><span class="o">-</span><span class="mo">03</span><span class="o">-</span><span class="mi">09</span> <span class="mi">18</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mf">13.862738316</span> <span class="o">+</span><span class="mi">0800</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">shutil</span><span class="o">.</span><span class="n">copystat</span><span class="p">(</span><span class="s1">&#39;1.txt&#39;</span><span class="p">,</span><span class="s1">&#39;3.txt&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;stat 3.txt&#39;</span><span class="p">)</span>
  <span class="n">File</span><span class="p">:</span> <span class="err">`</span><span class="mf">3.</span><span class="n">txt</span><span class="s1">&#39;</span>
  <span class="n">Size</span><span class="p">:</span> <span class="mi">6</span>             <span class="n">Blocks</span><span class="p">:</span> <span class="mi">8</span>          <span class="n">IO</span> <span class="n">Block</span><span class="p">:</span> <span class="mi">4096</span>   <span class="n">regular</span> <span class="nb">file</span>
<span class="n">Device</span><span class="p">:</span> <span class="n">fd00h</span><span class="o">/</span><span class="mi">64768</span><span class="n">d</span>    <span class="n">Inode</span><span class="p">:</span> <span class="mi">940237</span>      <span class="n">Links</span><span class="p">:</span> <span class="mi">1</span>
<span class="n">Access</span><span class="p">:</span> <span class="p">(</span><span class="mo">0777</span><span class="o">/-</span><span class="n">rwxrwxrwx</span><span class="p">)</span>  <span class="n">Uid</span><span class="p">:</span> <span class="p">(</span>    <span class="mi">0</span><span class="o">/</span>    <span class="n">root</span><span class="p">)</span>   <span class="n">Gid</span><span class="p">:</span> <span class="p">(</span>    <span class="mi">0</span><span class="o">/</span>    <span class="n">root</span><span class="p">)</span>
<span class="n">Access</span><span class="p">:</span> <span class="mi">2017</span><span class="o">-</span><span class="mo">03</span><span class="o">-</span><span class="mi">09</span> <span class="mi">18</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mf">59.223738000</span> <span class="o">+</span><span class="mi">0800</span>
<span class="n">Modify</span><span class="p">:</span> <span class="mi">2017</span><span class="o">-</span><span class="mo">03</span><span class="o">-</span><span class="mi">09</span> <span class="mi">18</span><span class="p">:</span><span class="mi">35</span><span class="p">:</span><span class="mf">23.148738000</span> <span class="o">+</span><span class="mi">0800</span>
<span class="n">Change</span><span class="p">:</span> <span class="mi">2017</span><span class="o">-</span><span class="mo">03</span><span class="o">-</span><span class="mi">09</span> <span class="mi">18</span><span class="p">:</span><span class="mi">44</span><span class="p">:</span><span class="mf">33.286738354</span> <span class="o">+</span><span class="mi">0800</span>
<span class="o">&gt;&gt;&gt;</span> 
</code></pre></td></tr></table>
</div>
</div><ul>
<li><code>shutil.copy(src,des)</code>: 复制文件的同时复制权限信息,等同于执行了如下命令:
<ol>
<li><strong>shutil.copyfile(src,dest,follow_symlinks=True)</strong></li>
<li><strong>shutil.copymode(src,dest,follow_symlinks=True)</strong></li>
</ol>
</li>
<li><code>shutil.copy2(src,des)</code>: 比copy对了全部原数据，但需要平台支持,等同于执行了如下命令:
<ol>
<li><strong>shutil.copyfile(src,dest,follow_symlinks=True)</strong></li>
<li><strong>shutil.copystat(src,dest,follow_symlinks=True)</strong></li>
</ol>
</li>
<li><code>shutil.copytree(src,dest,symlinks=False,ignore=None,copy_function=copy2,ignore_dangling_symlinks=False)</code>: 递归复制文件，类似于copy -r，默认使用copy2
<ul>
<li>src必须存在，dest必须不存在。</li>
<li><code>ignore = func</code>, 提供一个callable(src,namnes) &ndash;&gt; ignoted_names。提供一个函数，它会被调用。src是原目录，names是原目录下的文件列表(os.listdir(src))，返回值是要被过滤的文件名的set类型数据</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">In</span> <span class="p">[</span><span class="mi">146</span><span class="p">]:</span> <span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">src</span><span class="p">,</span><span class="n">names</span><span class="p">):</span> 
     <span class="o">...</span><span class="p">:</span>     <span class="n">ig</span> <span class="o">=</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="ow">not</span> <span class="n">x</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;conf&#39;</span><span class="p">),</span><span class="n">names</span><span class="p">)</span> 
     <span class="o">...</span><span class="p">:</span>     <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="n">ig</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">164</span><span class="p">]:</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s1">&#39;old&#39;</span><span class="p">)</span>                                                      
<span class="n">Out</span><span class="p">[</span><span class="mi">164</span><span class="p">]:</span> 
<span class="p">[</span><span class="s1">&#39;123.txt&#39;</span><span class="p">,</span>
 <span class="s1">&#39;456.txt&#39;</span><span class="p">,</span>
 <span class="s1">&#39;asound.conf&#39;</span><span class="p">,</span>
 <span class="s1">&#39;brltty.conf&#39;</span><span class="p">,</span>
 <span class="s1">&#39;chrony.conf&#39;</span><span class="p">,</span>
 <span class="s1">&#39;dleyna-server-service.conf&#39;</span><span class="p">,</span>
 <span class="s1">&#39;dnsmasq.conf&#39;</span><span class="p">,</span>
 <span class="s1">&#39;dracut.conf&#39;</span><span class="p">,</span>
 <span class="s1">&#39;e2fsck.conf&#39;</span><span class="p">,</span>
 <span class="s1">&#39;fprintd.conf&#39;</span><span class="p">,</span>
 <span class="s1">&#39;fuse.conf&#39;</span><span class="p">,</span>
 <span class="s1">&#39;GeoIP.conf&#39;</span><span class="p">,</span>
 <span class="s1">&#39;host.conf&#39;</span><span class="p">]</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">161</span><span class="p">]:</span> <span class="n">shutil</span><span class="o">.</span><span class="n">copytree</span><span class="p">(</span><span class="s1">&#39;old&#39;</span><span class="p">,</span><span class="s1">&#39;new&#39;</span><span class="p">,</span><span class="n">ignore</span><span class="o">=</span><span class="n">func</span><span class="p">)</span>                               
<span class="n">Out</span><span class="p">[</span><span class="mi">161</span><span class="p">]:</span> <span class="s1">&#39;new&#39;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">163</span><span class="p">]:</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s1">&#39;new&#39;</span><span class="p">)</span>                                                      
<span class="n">Out</span><span class="p">[</span><span class="mi">163</span><span class="p">]:</span> <span class="p">[</span><span class="s1">&#39;123.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;456.txt&#39;</span><span class="p">]</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>shutil模块自己也实现了一个过滤某些特征的方法，<code>shutil.ignore_patterns('*py')</code>，表示过滤*py的文件。</p>
</blockquote>
<h2 id="22-rm删除">2.2 rm删除</h2>
<ul>
<li><code>shutil.rmtree(path, ignore_errors=False, onerror=None)</code>: 递归的删除文件，类似于rm -rf，需要注意的是它不是原子操作，如果删除错误，就会中断，已经删除的就删除了。
<ul>
<li>ignore_errors：为True时，忽略错误。 为omitted/False时，onerror生效</li>
<li>onerror为callabe，接受三个参数function、path和sys.exc_info。(不常用)</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;ls -l&#39;</span><span class="p">)</span>
<span class="n">total</span> <span class="mi">8</span>
<span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span> <span class="mi">2</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">4096</span> <span class="n">Mar</span>  <span class="mi">9</span> <span class="mi">18</span><span class="p">:</span><span class="mi">46</span> <span class="n">test</span>
<span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span> <span class="mi">2</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">4096</span> <span class="n">Mar</span>  <span class="mi">9</span> <span class="mi">18</span><span class="p">:</span><span class="mi">46</span> <span class="n">test1</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="s1">&#39;test1&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;ls -l&#39;</span><span class="p">)</span>
<span class="n">total</span> <span class="mi">4</span>
<span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span> <span class="mi">2</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">4096</span> <span class="n">Mar</span>  <span class="mi">9</span> <span class="mi">18</span><span class="p">:</span><span class="mi">46</span> <span class="n">test</span>
<span class="o">&gt;&gt;&gt;</span> 
</code></pre></td></tr></table>
</div>
</div><h2 id="23-move移动">2.3 move移动</h2>
<ul>
<li><code>shutil.move(src,des,copy_function=copy2)</code>: 递归移动文件、目录到目标、返回目标，类似于mv 命令，本身使用的是os.rename方法，如果不支持rename，如果是目录则copytree再删除原目录。</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="kn">import</span> <span class="nn">shutil</span>                                                                                                            
<span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="n">ls</span>                                                                                                                       
<span class="n">new</span><span class="o">/</span>  <span class="n">old</span><span class="o">/</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="s1">&#39;new&#39;</span><span class="p">,</span><span class="s1">&#39;/tmp/new&#39;</span><span class="p">)</span>                                                                                            
<span class="n">Out</span><span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="s1">&#39;/tmp/new&#39;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">6</span><span class="p">]:</span> <span class="n">ls</span>                                                                                                                       
<span class="n">old</span><span class="o">/</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">7</span><span class="p">]:</span> <span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="s1">&#39;old&#39;</span><span class="p">,</span><span class="s1">&#39;new_old&#39;</span><span class="p">)</span>                                                                                             
<span class="n">Out</span><span class="p">[</span><span class="mi">7</span><span class="p">]:</span> <span class="s1">&#39;new_old&#39;</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="24-打包">2.4 打包</h2>
<ul>
<li><code>shutil.make_archive(base_name, format, root_dir=None, base_dir=None, verbose=0, owner=None, group=None, )</code>: 打包压缩,支持&quot;zip&quot;, &ldquo;tar&rdquo;, &ldquo;gztar&rdquo;,&ldquo;bztar&rdquo;, or &ldquo;xztar&rdquo;
<ul>
<li>base_name: 打包后的包名</li>
<li>format：打包/压缩的格式，gztar就是tar.gz</li>
<li>root_dir: 要打包的目录</li>
<li>owner：包的属主</li>
<li>group：包的属组</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">In</span> <span class="p">[</span><span class="mi">14</span><span class="p">]:</span> <span class="n">shutil</span><span class="o">.</span><span class="n">make_archive</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span><span class="s1">&#39;gztar&#39;</span><span class="p">,</span><span class="n">root_dir</span><span class="o">=</span><span class="s1">&#39;new_old&#39;</span><span class="p">)</span>                                                                   
<span class="n">Out</span><span class="p">[</span><span class="mi">14</span><span class="p">]:</span> <span class="s1">&#39;/home/python/py368/abc.tar.gz&#39;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">15</span><span class="p">]:</span> <span class="n">ls</span>                                                                                                                      
<span class="mi">123</span><span class="o">/</span>  <span class="n">abc</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>  <span class="n">new_old</span><span class="o">/</span>
</code></pre></td></tr></table>
</div>
</div>
    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">daxin.li</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">
      0001-01-01
      
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">License</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>


    
    
<div class="post-reward">
  <input type="checkbox" name="reward" id="reward" hidden />
  <label class="reward-button" for="reward">赞赏支持</label>
  <div class="qr-code">
    
    
      <label class="qr-code-image" for="reward">
        <img class="image" src="/wechat-qr-code.png">
        <span>微信打赏</span>
      </label>
    
      <label class="qr-code-image" for="reward">
        <img class="image" src="/alipay-qr-code.png">
        <span>支付宝打赏</span>
      </label>
  </div>
</div>

    <footer class="post-footer">
      

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/16-%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C-stringio-bytesio/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">16-文件操作-StringIO-BytesIO</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        
          <a class="next" href="/post/18-csv%E6%96%87%E4%BB%B6-ini%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/">
            <span class="next-text nav-default">18-csv文件-ini文件处理</span>
            <span class="prev-text nav-mobile">Next</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  
  
  

  
  

  

  
  
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo= "dachenzi/dachenzi.github.io"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
      </script>
    </div>
  

  

  

  

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:dahlhin.li@gmail.com" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
    <a href="https://github.com/dachenzi" rel="me noopener" class="iconfont"
      title="github"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667 0-12.16-0.426667-44.373333-0.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333 0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333 0 0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667 0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72 0 68.522667-0.64 123.562667-0.64 140.202666 0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"></path>
</svg>

    </a>
  
    <a href="https://weibo.com/2401416804/profile?rightmod=1&amp;wvr=6&amp;mod=personinfo" rel="me noopener" class="iconfont"
      title="weibo"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M385.714286 733.714286q12-19.428571 6.285714-39.428571t-25.714286-28.571429q-19.428571-8-41.714286-0.571429t-34.285714 26.285714q-12.571429 19.428571-7.428571 39.142857t24.571429 28.857143 42.571429 1.428571 35.714286-27.142857zm53.714286-69.142857q4.571429-7.428571 2-15.142857t-10-10.571429q-8-2.857143-16.285714 2.857143t-12.285714 10.571429q-9.714286 17.714286 7.428571 25.714286 8 2.857143 16.571429 2.857143t12.571429-10.571429zm99.428571 61.142857q-25.714286 58.285714-90.285714 85.714286t-128 6.857143q-61.142857-19.428571-84.285714-72.285714t3.714286-107.142857q26.857143-53.142857 86.571429-79.428571t120.285714-10.857143q63.428571 16.571429 90.571429 68.285714t1.428571 108.857143zm178.285714-91.428571q-5.142857-54.857143-50.857143-97.142857t-119.142857-62.285714-156.857143-12q-127.428571 13.142857-211.142857 80.857143t-75.714286 151.142857q5.142857 54.857143 50.857143 97.142857t119.142857 62.285714 156.857143 12q127.428571-13.142857 211.142857-80.857143t75.714286-151.142857zm176 2.285714q0 38.857143-21.142857 79.714286t-62.285714 78.285714-96.285714 67.142857-129.142857 47.428571-154.571429 17.714286-157.142857-19.142857-137.428571-53.142857-98-86.285714-37.142857-114q0-65.714286 39.714286-140t112.857143-147.428571q96.571429-96.571429 195.142857-134.857143t140.857143 4q37.142857 36.571429 11.428571 119.428571-2.285714 8-0.571429 11.428571t5.714286 4 8.285714 2.857143 7.714286-2l3.428571-1.142857q79.428571-33.714286 140.571429-33.714286t87.428571 34.857143q25.714286 36 0 101.714286-1.142857 7.428571-2.571429 11.428571t2.571429 7.142857 6.857143 4.285714 9.714286 3.428571q32.571429 10.285714 58.857143 26.857143t45.714286 46.571429 19.428571 66.571429zm-42.285714-356.571429q24 26.857143 31.142857 62t-3.714286 67.142857q-4.571429 13.142857-16.857143 19.428571t-25.428571 2.285714q-13.142857-4.571429-19.428571-16.857143t-2.285714-25.428571q11.428571-36-13.714286-63.428571t-61.142857-20q-13.714286 2.857143-25.714286-4.571429t-14.285714-21.142857q-2.857143-13.714286 4.571429-25.428571t21.142857-14.571429q34.285714-7.428571 68 3.142857t57.714286 37.428571zm103.428571-93.142857q49.714286 54.857143 64.285714 127.142857t-7.714286 138q-5.142857 15.428571-19.428571 22.857143t-29.714286 2.285714-22.857143-19.428571-2.857143-29.714286q16-46.857143 5.714286-98.285714t-45.714286-90.285714q-35.428571-39.428571-84.571429-54.571429t-98.857143-4.857143q-16 3.428571-29.714286-5.428571t-17.142857-24.857143 5.428571-29.428571 24.857143-16.857143q70.285714-14.857143 139.428571 6.571429t118.857143 76.857143z"></path>
</svg>

    </a>
  
    <a href="https://www.zhihu.com/people/da-chen-zi-67" rel="me noopener" class="iconfont"
      title="zhihu"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M351.791182 562.469462l192.945407 0c0-45.367257-21.3871-71.939449-21.3871-71.939449L355.897709 490.530013c3.977591-82.182744 7.541767-187.659007 8.816806-226.835262l159.282726 0c0 0-0.86367-67.402109-18.578124-67.402109s-279.979646 0-279.979646 0 16.850783-88.141456 39.318494-127.053698c0 0-83.60514-4.510734-112.121614 106.962104S81.344656 355.077018 76.80834 367.390461c-4.536316 12.313443 24.62791 5.832845 36.941354 0 12.313443-5.832845 68.050885-25.924439 84.252893-103.69571l86.570681 0c1.165546 49.28652 4.596691 200.335724 3.515057 226.835262L109.86113 490.530013c-25.275663 18.147312-33.701566 71.939449-33.701566 71.939449L279.868105 562.469462c-8.497535 56.255235-23.417339 128.763642-44.275389 167.210279-33.05279 60.921511-50.55235 116.65793-169.802314 212.576513 0 0-19.442818 14.257725 40.829917 9.073656 60.273758-5.185093 117.305683-20.739347 156.840094-99.807147 20.553105-41.107233 41.805128-93.250824 58.386782-146.138358l-0.055259 0.185218 167.855986 193.263655c0 0 22.035876-51.847855 5.832845-108.880803L371.045711 650.610918l-42.1244 31.157627-0.045025 0.151449c11.69946-41.020252 20.11206-81.5749 22.726607-116.858498C351.665315 564.212152 351.72876 563.345412 351.791182 562.469462z"></path>
  <path d="M584.918753 182.033893l0 668.840094 70.318532 0 28.807093 80.512708 121.875768-80.512708 153.600307 0L959.520453 182.033893 584.918753 182.033893zM887.150192 778.934538l-79.837326 0-99.578949 65.782216-23.537066-65.782216-24.855084 0L659.341766 256.673847l227.807403 0L887.149169 778.934538z"></path>
</svg>

    </a>


<a href="https://dachenzi.github.io/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2016 -
    2020
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        daxin.li
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>












  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  















</body>
</html>
