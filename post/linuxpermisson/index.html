<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>LinuxPermisson - daxin.li&#39;s blog</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="daxin.li" />
  <meta name="description" content="1 概述 我们使用ls –il命令查看的文件列表就是我们文件的简要属性信息。 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 [root@lixin ~]# ls –li total 80 26171 -rw-r--r-- 1 root root 11 Mar 17" />

  <meta name="keywords" content="Hugo, theme, jane" />






<meta name="generator" content="Hugo 0.75.1" />


<link rel="canonical" href="https://dachenzi.github.io/post/linuxpermisson/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.b3a8813c06e6d785beba22bf8264e174fa2cb3a396b22f9ba24e2c00c18aaf7f.css" integrity="sha256-s6iBPAbm14W&#43;uiK/gmThdPoss6OWsi&#43;bok4sAMGKr38=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="LinuxPermisson" />
<meta property="og:description" content="1 概述 我们使用ls –il命令查看的文件列表就是我们文件的简要属性信息。 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 [root@lixin ~]# ls –li total 80 26171 -rw-r--r-- 1 root root 11 Mar 17" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://dachenzi.github.io/post/linuxpermisson/" />
<meta property="article:published_time" content="2018-10-16T14:48:25+00:00" />
<meta property="article:modified_time" content="2018-10-16T14:48:25+00:00" />
<meta itemprop="name" content="LinuxPermisson">
<meta itemprop="description" content="1 概述 我们使用ls –il命令查看的文件列表就是我们文件的简要属性信息。 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 [root@lixin ~]# ls –li total 80 26171 -rw-r--r-- 1 root root 11 Mar 17">
<meta itemprop="datePublished" content="2018-10-16T14:48:25+00:00" />
<meta itemprop="dateModified" content="2018-10-16T14:48:25+00:00" />
<meta itemprop="wordCount" content="17916">



<meta itemprop="keywords" content="content_a," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="LinuxPermisson"/>
<meta name="twitter:description" content="1 概述 我们使用ls –il命令查看的文件列表就是我们文件的简要属性信息。 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 [root@lixin ~]# ls –li total 80 26171 -rw-r--r-- 1 root root 11 Mar 17"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">daxin.li's blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://dachenzi.github.io/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://dachenzi.github.io/post/">文章</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://dachenzi.github.io/tags/">标签</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://dachenzi.github.io/categories/">类别</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://gohugo.io" rel="noopener" target="_blank">
              关于
              
              <i class="iconfont">
                <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M623.36 272.96 473.216 423.04C467.2 429.056 467.072 438.656 472.896 444.416c0 0-6.72-6.656 1.6 1.6C496.064 467.648 528.64 500.224 528.64 500.224 534.464 506.048 544 505.856 550.016 499.904l150.08-150.144 67.328 66.432c9.024 8.96 27.456 4.544 30.4-8.96 19.968-92.608 46.656-227.52 46.656-227.52 6.848-34.496-16.192-56.704-49.92-49.92 0 0-134.656 26.816-227.328 46.784C560.32 178.048 556.352 182.272 554.752 187.136c-3.2 6.208-3.008 14.208 3.776 20.992L623.36 272.96z"></path>
  <path d="M841.152 457.152c-30.528 0-54.784 24.512-54.784 54.656l0 274.752L237.696 786.56 237.696 237.696l206.016 0c6.656 0 10.752 0 13.248 0C487.68 237.696 512 213.184 512 182.848 512 152.32 487.36 128 456.96 128L183.04 128C153.216 128 128 152.576 128 182.848c0 3.136 0.256 6.272 0.768 9.28C128.256 195.136 128 198.272 128 201.408l0 639.488c0 0.064 0 0.192 0 0.256 0 0.128 0 0.192 0 0.32 0 30.528 24.512 54.784 54.784 54.784l646.976 0c6.592 0 9.728 0 11.712 0 28.736 0 52.928-22.976 54.464-51.968C896 843.264 896 842.304 896 841.344l0-20.352L896 561.408 896 512.128C896 481.792 871.424 457.152 841.152 457.152z"></path>
</svg>

              </i>
            </a>
          
        
      </li>
    

    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      daxin.li's blog
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://dachenzi.github.io/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://dachenzi.github.io/post/">文章</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://dachenzi.github.io/tags/">标签</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://dachenzi.github.io/categories/">类别</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://gohugo.io" rel="noopener" target="_blank">
              关于
              
              <i class="iconfont">
                <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M623.36 272.96 473.216 423.04C467.2 429.056 467.072 438.656 472.896 444.416c0 0-6.72-6.656 1.6 1.6C496.064 467.648 528.64 500.224 528.64 500.224 534.464 506.048 544 505.856 550.016 499.904l150.08-150.144 67.328 66.432c9.024 8.96 27.456 4.544 30.4-8.96 19.968-92.608 46.656-227.52 46.656-227.52 6.848-34.496-16.192-56.704-49.92-49.92 0 0-134.656 26.816-227.328 46.784C560.32 178.048 556.352 182.272 554.752 187.136c-3.2 6.208-3.008 14.208 3.776 20.992L623.36 272.96z"></path>
  <path d="M841.152 457.152c-30.528 0-54.784 24.512-54.784 54.656l0 274.752L237.696 786.56 237.696 237.696l206.016 0c6.656 0 10.752 0 13.248 0C487.68 237.696 512 213.184 512 182.848 512 152.32 487.36 128 456.96 128L183.04 128C153.216 128 128 152.576 128 182.848c0 3.136 0.256 6.272 0.768 9.28C128.256 195.136 128 198.272 128 201.408l0 639.488c0 0.064 0 0.192 0 0.256 0 0.128 0 0.192 0 0.32 0 30.528 24.512 54.784 54.784 54.784l646.976 0c6.592 0 9.728 0 11.712 0 28.736 0 52.928-22.976 54.464-51.968C896 843.264 896 842.304 896 841.344l0-20.352L896 561.408 896 512.128C896 481.792 871.424 457.152 841.152 457.152z"></path>
</svg>

              </i>
            </a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">LinuxPermisson</h1>
      
      <div class="post-meta">
        <time datetime="2018-10-16" class="post-time">
          2018-10-16
        </time>
        <div class="post-category">
            <a href="https://dachenzi.github.io/categories/content_a/"> content_a </a>
            
          </div>
        <span class="more-meta"> 约 17916 字 </span>
          <span class="more-meta"> 预计阅读 36 分钟 </span>

        
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#21-概念">2.1 概念</a></li>
    <li><a href="#22-如何查看inode">2.2 如何查看inode</a></li>
    <li><a href="#23-inode容量">2.3 Inode容量</a></li>
    <li><a href="#24-inode小结">2.4 inode小结</a></li>
    <li><a href="#25-block小结">2.5 block小结</a></li>
    <li><a href="#26-本章小结">2.6 本章小结</a></li>
  </ul>

  <ul>
    <li><a href="#31-文件类型">3.1 文件类型</a></li>
    <li><a href="#32-普通文件">3.2 普通文件</a></li>
    <li><a href="#33-链接文件">3.3 链接文件</a>
      <ul>
        <li><a href="#331-软链接">3.3.1 软链接</a></li>
        <li><a href="#332-软链接小结">3.3.2 软链接小结</a></li>
        <li><a href="#333-硬链接">3.3.3 硬链接</a></li>
        <li><a href="#334-硬链接小结">3.3.4 硬链接小结</a></li>
        <li><a href="#335-本节小结">3.3.5 本节小结</a></li>
      </ul>
    </li>
    <li><a href="#34-文件的权限信息">3.4 文件的权限信息</a>
      <ul>
        <li><a href="#341-r读权限">3.4.1 r（读）权限</a></li>
        <li><a href="#342-w写权限">3.4.2 w（写）权限</a></li>
        <li><a href="#343-x执行权限">3.4.3 x（执行）权限</a></li>
        <li><a href="#344-修改权限">3.4.4 修改权限</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#51-属主owner">5.1 属主（owner）</a>
      <ul>
        <li><a href="#511-超级用户">5.1.1 超级用户</a></li>
        <li><a href="#512-虚拟用户">5.1.2 虚拟用户</a></li>
        <li><a href="#513-普通用户">5.1.3 普通用户</a></li>
        <li><a href="#514-用户配置文件">5.1.4 用户配置文件</a></li>
      </ul>
    </li>
    <li><a href="#52-属组group">5.2 属组(group)</a></li>
    <li><a href="#53-修改归属信息">5.3 修改归属信息</a></li>
  </ul>

  <ul>
    <li><a href="#61-文件的时间">6.1 文件的时间</a></li>
  </ul>

  <ul>
    <li><a href="#mathjax-true">title: LinuxPermisson
date: 2016-10-23 21:38:54
lastmod: 2016-10-23 21:38:54
draft: false
tags: [Os,]
categories: [Os,]
author: &ldquo;daxin.li&rdquo;
comment: true
toc: true
reward: true
mathjax: true</a></li>
  </ul>

  <ul>
    <li><a href="#21-概念-1">2.1 概念</a></li>
    <li><a href="#22-如何查看inode-1">2.2 如何查看inode</a></li>
    <li><a href="#23-inode容量-1">2.3 Inode容量</a></li>
    <li><a href="#24-inode小结-1">2.4 inode小结</a></li>
    <li><a href="#25-block小结-1">2.5 block小结</a></li>
    <li><a href="#26-本章小结-1">2.6 本章小结</a></li>
  </ul>

  <ul>
    <li><a href="#31-文件类型-1">3.1 文件类型</a></li>
    <li><a href="#32-普通文件-1">3.2 普通文件</a></li>
    <li><a href="#33-链接文件-1">3.3 链接文件</a>
      <ul>
        <li><a href="#331-软链接-1">3.3.1 软链接</a></li>
        <li><a href="#332-软链接小结-1">3.3.2 软链接小结</a></li>
        <li><a href="#333-硬链接-1">3.3.3 硬链接</a></li>
        <li><a href="#334-硬链接小结-1">3.3.4 硬链接小结</a></li>
        <li><a href="#335-本节小结-1">3.3.5 本节小结</a></li>
      </ul>
    </li>
    <li><a href="#34-文件的权限信息-1">3.4 文件的权限信息</a>
      <ul>
        <li><a href="#341-r读权限-1">3.4.1 r（读）权限</a></li>
        <li><a href="#342-w写权限-1">3.4.2 w（写）权限</a></li>
        <li><a href="#343-x执行权限-1">3.4.3 x（执行）权限</a></li>
        <li><a href="#344-修改权限-1">3.4.4 修改权限</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#51-属主owner-1">5.1 属主（owner）</a>
      <ul>
        <li><a href="#511-超级用户-1">5.1.1 超级用户</a></li>
        <li><a href="#512-虚拟用户-1">5.1.2 虚拟用户</a></li>
        <li><a href="#513-普通用户-1">5.1.3 普通用户</a></li>
        <li><a href="#514-用户配置文件-1">5.1.4 用户配置文件</a></li>
      </ul>
    </li>
    <li><a href="#52-属组group-1">5.2 属组(group)</a></li>
    <li><a href="#53-修改归属信息-1">5.3 修改归属信息</a></li>
  </ul>

  <ul>
    <li><a href="#61-文件的时间-1">6.1 文件的时间</a></li>
  </ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      <h1 id="1-概述">1 概述</h1>
<p>        我们使用ls –il命令查看的文件列表就是我们文件的简要属性信息。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># ls –li       </span>
total <span class="m">80</span>
<span class="m">26171</span> -rw-r--r--  <span class="m">1</span> root root    <span class="m">11</span> Mar <span class="m">17</span> 22:24 12345.txt
<span class="m">3545</span> lrwxrwxrwx  <span class="m">1</span> root root     <span class="m">6</span> Mar <span class="m">16</span> 23:24 1234.txt -&gt; 10.txt
<span class="m">3581</span> -rw-r--r--  <span class="m">1</span> root root   <span class="m">149</span> Mar <span class="m">16</span> 23:03 123.tar.gz
<span class="m">3563</span> -rw-r--r--  <span class="m">1</span> root root   <span class="m">149</span> Mar <span class="m">17</span> 00:21 123.txt.bak
<span class="m">26197</span> -rw-r--r--  <span class="m">1</span> root root    <span class="m">11</span> Mar <span class="m">18</span> 00:01 1.txt
<span class="m">26181</span> -rw-r--r--  <span class="m">1</span> root root     <span class="m">0</span> Mar <span class="m">16</span> 19:46 2.txt
<span class="m">26182</span> -rw-r--r--  <span class="m">1</span> root root     <span class="m">0</span> Mar <span class="m">16</span> 19:46 3.txt
<span class="m">26191</span> -rw-r--r--  <span class="m">1</span> root root     <span class="m">0</span> Mar <span class="m">16</span> 19:46 7.txt
<span class="m">26192</span> -rw-r--r--  <span class="m">1</span> root root     <span class="m">0</span> Mar <span class="m">16</span> 19:46 8.txt
<span class="m">26193</span> -rw-r--r--  <span class="m">1</span> root root     <span class="m">0</span> Mar <span class="m">16</span> 19:46 9.txt
<span class="m">26195</span> lrwxrwxrwx  <span class="m">1</span> root root     <span class="m">5</span> Mar <span class="m">17</span> 22:51 abc -&gt; 1.txt
<span class="m">3559</span> -rw-r--r--  <span class="m">1</span> root root   <span class="m">226</span> Mar <span class="m">16</span> 21:24 abc.tar.gz
<span class="m">26194</span> -rw-r--r--  <span class="m">1</span> root root    <span class="m">30</span> Mar <span class="m">17</span> 17:54 abc.txt
<span class="m">25745</span> -rw-------. <span class="m">1</span> root root  <span class="m">1096</span> Mar  <span class="m">3</span> 23:30 anaconda-ks.cfg
<span class="m">26199</span> -rw-r--r--  <span class="m">1</span> root root    <span class="m">11</span> Mar <span class="m">16</span> 20:27 bcd
……
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1">#    # -l长格式显示文件信息，-i显示文件inode号</span>
</code></pre></td></tr></table>
</div>
</div><p>其中文件的属性信息被分成了10列，每列具体信息如下:</p>
<ul>
<li>第一列：表示文件的inode号码。</li>
<li>第二列：表示文件的类型和权限以及selinux。</li>
<li>第二列：表示文件或目录的硬链接数量。</li>
<li>第四列：表示文件的属主。</li>
<li>第五列：表示文件的属组。</li>
<li>第六列：表示文件的大小。</li>
<li>第七、八、九列：合起来表示文件的修改时间（mtime）。</li>
<li>第十列：表示文件的名称。</li>
</ul>
<h1 id="2-inode">2 inode</h1>
<h2 id="21-概念">2.1 概念</h2>
<p>        硬盘要存储数据（房子助人），首先要分区（隔断），然后创建文件系统（装修），最后存储数据（住人）。<br>
        inode 中文意思为索引节点（index node），在设备分区为ext4后（CentOS 6.7默认文件系统），一般生成两个部分：第一部分是inode（很多个），第二部分是block（很多个）它用来存放档案及目录的基本信息，包含时间、档名、使用者及群组等。</p>
<ul>
<li>block：是用来存储实际数据</li>
<li>inode：是用来存储数据属性的。</li>
</ul>
<p>        我们ls -l查出来的文件属性信息，存放在inode中，包涵不限于（文件大小，属主，属组，文件的权限，文件类型，修改时间），还包涵一个指针，用来指向真实的数据部分，但是inode中不包含文件名。严格来说文件的名称不属于文件的属性。<br>
        Inode除了记录文件属性的信息外，还会为每个文件进行信息索引，所以就有了inode的系统根据指令，即可通过inode的值最快的找到相应的文件实体，文件，inode,block之间的关系图下：</p>
<h2 id="22-如何查看inode">2.2 如何查看inode</h2>
<p>使用ls –i即可查看文件的inode节点号。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># ls -i</span>
<span class="m">26171</span> 12345.txt    <span class="m">26190</span> 6.txt            <span class="m">26185</span> file10.log  <span class="m">26184</span> file9.log
<span class="m">3545</span> 1234.txt     <span class="m">26191</span> 7.txt            <span class="m">25401</span> file1.log      <span class="m">15</span> install.log
<span class="m">3581</span> 123.tar.gz   <span class="m">26192</span> 8.txt            <span class="m">26172</span> file2.log      <span class="m">17</span> install.log.syslog
<span class="m">3563</span> 123.txt.bak  <span class="m">26193</span> 9.txt            <span class="m">26173</span> file3.log   <span class="m">26187</span> oldboy.txt
<span class="m">26197</span> 1.txt        <span class="m">26195</span> abc              <span class="m">26174</span> file4.log    <span class="m">3561</span> paichu.txt
<span class="m">26181</span> 2.txt         <span class="m">3559</span> abc.tar.gz       <span class="m">26176</span> file5.log    <span class="m">3535</span> test.txt
<span class="m">26182</span> 3.txt        <span class="m">26194</span> abc.txt          <span class="m">26178</span> file6.log
<span class="m">26188</span> 4.txt        <span class="m">25745</span> anaconda-ks.cfg  <span class="m">26179</span> file7.log
<span class="m">26189</span> 5.txt        <span class="m">26199</span> bcd              <span class="m">26183</span> file8.log
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1">#</span>
</code></pre></td></tr></table>
</div>
</div><p>使用stat 查看文件完整的inode信息</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># stat 1.txt </span>
File: <span class="s1">&#39;1.txt&#39;</span>
Size: <span class="m">11</span>              Blocks: <span class="m">8</span>          IO Block: <span class="m">4096</span>   regular file
Device: 803h/2051d      Inode: <span class="m">26197</span>       Links: <span class="m">1</span>
Access: <span class="o">(</span>0644/-rw-r--r--<span class="o">)</span>  Uid: <span class="o">(</span>    0/    root<span class="o">)</span>   Gid: <span class="o">(</span>    0/    root<span class="o">)</span>
Access: 2016-03-18 00:01:40.459890430 +0800
Modify: 2016-03-18 00:01:40.459890430 +0800
Change: 2016-03-18 00:01:40.459890430 +0800
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1">#</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="23-inode容量">2.3 Inode容量</h2>
<p>        inode要储存文件信息，就会有大小。CentOS 5系列 inode默认大小为128字节，CentOS 6 系列大小是256字节。inode的数量在文件系统被格式化分区之后就固定的，格式化分区之后就无法更改了。格式化之前就应该指定大小，可以通过参数来指定，一般企业工作环境没这个需求。<br>
        <strong>使用dumpe2fs查看文件系统的inode或者block信息。</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># dumpe2fs /dev/sda1 | grep -i &#34;inode count&#34; </span>
dumpe2fs 1.41.12 <span class="o">(</span>17-May-2010<span class="o">)</span>
Inode count:              <span class="m">51200</span>
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># dumpe2fs /dev/sda1 | grep -i &#34;block count&#34;</span>
dumpe2fs 1.41.12 <span class="o">(</span>17-May-2010<span class="o">)</span>
Block count:              <span class="m">204800</span>
Reserved block count:     <span class="m">10240</span>
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># dumpe2fs /dev/sda1 | grep -i &#34;block size&#34; </span>
dumpe2fs 1.41.12 <span class="o">(</span>17-May-2010<span class="o">)</span>
Block size:               <span class="m">1024</span>
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># dumpe2fs /dev/sda1 | grep -i &#34;inode size&#34;</span>
dumpe2fs 1.41.12 <span class="o">(</span>17-May-2010<span class="o">)</span>
Inode size:               <span class="m">128</span>
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1">#</span>
</code></pre></td></tr></table>
</div>
</div><p>使用df查看inode使用情况</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># df -i</span>
Filesystem     Inodes IUsed  IFree IUse% Mounted on
/dev/sda3      <span class="m">462384</span> <span class="m">69826</span> <span class="m">392558</span>   16% /
tmpfs           <span class="m">60830</span>     <span class="m">1</span>  <span class="m">60829</span>    1% /dev/shm
/dev/sda1       <span class="m">51200</span>    <span class="m">38</span>  <span class="m">51162</span>    1% /boot
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1">#</span>
</code></pre></td></tr></table>
</div>
</div><p>各字段含义如下：</p>
<ul>
<li>inode也属于磁盘的空间，inode也有满的时候。inode满了，就算block还有空间也不能存放数据了。</li>
<li>空间是否满了，是由两项参数决定的：</li>
<li>inode是否满了。</li>
<li>block是否满了。</li>
</ul>
<p><strong>磁盘满的一个特征（no space left on device )。</strong></p>
<h2 id="24-inode小结">2.4 inode小结</h2>
<ul>
<li>磁盘分区并格式化为ext4会生成一定量的inode和block</li>
<li>Inode成为索引节点，它的作用是存放文件的属性信息以及作为文件的索引，指向文件的实体（block）。</li>
<li>Ext3/ext4文件系统的block存放的是文件的实际内容</li>
<li>Inode是一块存储空间，CentOS6非启动分区inode默认大小256字节，CentOS 5是128字节。</li>
<li>Inode是一串数字，不同的文件对应的inode在同一个文件系统里是唯一的。</li>
<li>Inode相同的文件，互为硬链接文件。（可以理解为相同文件的不同入口）</li>
<li>Ext3/ext4文件系统下，一个文件被创建后至少要占用一个inode和一个block。</li>
<li>Block的大小一般有1K，2K，4K，等几种，其中引导分区等为1K，普通分区为4K(CentOS 6)</li>
<li>如果一个文件很大，可能占用多个block，如果文件很小，至少占一个block，剩下的空间，也就浪费了。</li>
<li>正常情况下一个文件占用有且只能占用1个inode（硬链接不算）。</li>
</ul>
<p>注：只能在格式化磁盘的时候指定inode的大小:
<code>mkfs.ext4 -b 2048 -l 256 /dev/sdb (-b指定了block的大小，-l可以指定inode的大小)</code></p>
<h2 id="25-block小结">2.5 block小结</h2>
<ul>
<li>磁盘读取数据是按block为单位读取的。</li>
<li>一个文件可能占用多个block。但是每读取一个block就会消耗一次磁盘I/O。</li>
<li>如果要提升磁盘IO性能，那么就要尽可能一次性读取数据尽量的多。</li>
<li>一个block只能存放一个文件的内容，无论内容有多小(如果block为4K，那么存放1K，的文件后，剩下的3K就浪费了。</li>
<li>Block并非越大越好。Block太大对于小文件存放就会浪费磁盘空间，例如1000K的文件。Block为4K，占用250个block，blcok为1K，占1000个block访问效率谁更高？ 消耗IO分别为250次和1000次。</li>
<li>根据业务需求确定默认的block大小，比如环境中大文件（大于16K）一般设置block大一点，小文件（小于1K）一般，block小一点。</li>
<li>Block太大，例如4K，文件都是0.1K，则会大量浪费磁盘空间。</li>
<li>Block太小，例如1K，文件都是1000K,则会大量耗费磁盘IO。</li>
<li>Block的设置也是在格式化分区的时候:mkfs.ext4 –b 2048 /dev/sdb。</li>
<li>文件较大时，block设置大一些会提升磁盘访问效率。</li>
<li>Ext3/ext4文件系统（CentOS5和6）一般设置为4K，CentOS 7，一般是xfs文件系统</li>
</ul>
<h2 id="26-本章小结">2.6 本章小结</h2>
<ul>
<li>Inode存放文件的属性以及指向文件实体的指针，文件名不在inode里，一般上级目录的block里。</li>
<li>访问文件，原理通过文件名inodeblock。</li>
<li>Inode一般情况下默认为256B，block大小为1K，2K，4K默认是4K，引导分区等特殊除外。</li>
<li>通过df –i查看inode的数量及使用情况，dumpe2fs /dev/sda3查看inode及block大小。</li>
<li>一个文件至少要占用一个inode以及一个block，多个文件可以占用同一个inode(硬链接)。</li>
<li>一个block只能被一个文件使用，如果文件很小block很大，剩余空间浪费，无法继续被其他文件使用。</li>
</ul>
<h1 id="3-权限信息">3 权限信息</h1>
<p>        包涵文件的类型和文件的权限。</p>
<h2 id="31-文件类型">3.1 文件类型</h2>
<p>        windows 中是以扩展名区分的，Linux中文件类型和扩展名是没有关系的，文件类型为了让我们看起来方便，我们标记了扩展名。（比如a.txt)<br>
在linux中扩展名的分类：</p>
<ul>
<li>tar、tar.gz、tgz、zip、tar.bz表示压缩文件，创建命令一般为tar,gzip,zip等</li>
<li>sh表示shell脚本文件。</li>
<li>pl表示perl语言文件。</li>
<li>py表示python语言文件。</li>
<li>html、htm、php、jsp、do表示网页语言文件。</li>
<li>conf表示系统配置文件。</li>
<li>rpm表示rpm安装包文件。</li>
</ul>
<p><strong>Linux中的文件类型主要观察第一列：</strong><br>
<img src="../photo/permission.png" alt="filetype"><br>
<strong>Linux中文件的类型有如下几种：</strong></p>
<ul>
<li>-：表示普通文件（比如/etc/profile、/bin/cp、/var/log/wtmp）</li>
<li>d：表示目录文件 (比如/etc目录)</li>
<li>l：表示软连接文件 (比如 /etc/init.d)</li>
<li>c：表示字符设备 (比如/dev/tty)</li>
<li>b：表示块设备（比如/dev/sda）</li>
<li>s：sock文件，主要用来做进程通讯。</li>
<li>p：管道文件（pipa）。</li>
</ul>
<h2 id="32-普通文件">3.2 普通文件</h2>
<p>        在linux中表示普通文件，而普通文件又分为三种。</p>
<ul>
<li>二进制文件（例如：命令，脚本）</li>
<li>数据文件（例如/var/log/wtmp、/var/log/btmp）</li>
<li>纯文本文件(例如/etc/profile)</li>
</ul>
<p>使用file命令查看文件的类型：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin dev<span class="o">]</span><span class="c1"># file /etc/profile</span>
/etc/profile: ASCII English text     <span class="c1"># 表示纯文本文件</span>
<span class="o">[</span>root@lixin dev<span class="o">]</span><span class="c1"># file /bin/cp</span>
/bin/cp: ELF 64-bit LSB executable, x86-64, version <span class="m">1</span> <span class="o">(</span>SYSV<span class="o">)</span>, dynamically linked <span class="o">(</span>uses shared libs<span class="o">)</span>, <span class="k">for</span> GNU/Linux 2.6.18, stripped    <span class="c1"># 表示二进制文件</span>
<span class="o">[</span>root@lixin dev<span class="o">]</span><span class="c1"># file /var/log/wtmp</span>
/var/log/wtmp: data          <span class="c1"># 表示数据文件</span>
<span class="o">[</span>root@lixin dev<span class="o">]</span><span class="c1">#</span>
<span class="c1"># 二进制文件：我们使用的命令就是这种格式个文件，这种格式的文件，不能通过cat、more等命令查看。</span>
<span class="c1"># 纯文本文件：程序的配置文件，文本文件等。</span>
<span class="c1"># 数据文件：这类文件属于某个命令的数据库文件，只能使用对应的命令去读取这些文件，比如：last命令的数据库文件为/var/log/wtmp。</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="33-链接文件">3.3 链接文件</h2>
<p>链接文件分为:</p>
<ul>
<li>软连接：文件的快捷方式，指向文件的实体。</li>
<li>硬链接：是指通过索引节点（inode）来进行链接。</li>
</ul>
<h3 id="331-软链接">3.3.1 软链接</h3>
<p>        一般称之为符号链接，类似与windows平台上的快捷方式。它实际上是一个特殊的文件。在符号连接中，文件实际上是一个文本文件，其中包含的有另一文件的位置信息。  软链接与源文件属于不同的文件，不共用属性、文件类别，所以inode号不同。<br>
软链接的特点有：</p>
<ul>
<li>依赖于源文件，源文件被删除，符号链接将失效。</li>
<li>可以夸分区创建软链接。</li>
</ul>
<h3 id="332-软链接小结">3.3.2 软链接小结</h3>
<ul>
<li>软链接类似windows的快捷方式（可以通过readlink来查看指向）</li>
<li>软链接类似一个文件文件，里面存放的是源文件的路径，指向源文件的位置。</li>
<li>删除源文件，软链接文件依然存在，但是无法访问源文件内容了。</li>
<li>失效的时候一般是白字红底闪烁提示。</li>
<li>执行&rsquo;ln –s  sou-file dest-file&rsquo;创建软链接文件(目标文件可以不存在)。</li>
<li>软链接和源文件是不同类型的文件，也是不同的文件，所以inode号不同。</li>
<li>可以使用rm命令直接删除软链接文件。</li>
</ul>
<h3 id="333-硬链接">3.3.3 硬链接</h3>
<p>        硬链接文件就相当于文件的另一个入口。硬链接的作用之一是允许一个文件拥有多个有效路径（多个入口），这样用户就可以建立硬链接到重要的文件，以防止“误删”源数据。<br>
        硬链接和源文件使用相同的inode，相同的文件类型及属性。<br>
        硬链接的特点：<strong>不能针对目录创建硬链接。不能跨越分区（文件系统）</strong>。</p>
<h3 id="334-硬链接小结">3.3.4 硬链接小结</h3>
<ul>
<li>具有相同inode节点号的多个文件是互为硬链接文件。</li>
<li>删除硬链接文件或删除源文件任意之一，文件实体并未被删除。</li>
<li>只有删除了源文件以及所有的硬链接文件之后，文件实体才会被删除。</li>
<li>当所有的硬链接文件及源文件被删除后，再存放新的数据才会占用这个文件的空间，或者磁盘fsck（主机重启时会也会自动执行fsck命令），删除的数据空间会被系统回收。</li>
<li>硬链接文件就是文件的另一个入口（比如超市的前面后门一样）。</li>
<li>可以通过给文件设置硬链接，来防止重要文件被误删。</li>
<li>通过执行命令“ln sou-file dst-file”，来创建硬链接文件。</li>
<li>硬链接文件可以用rm命令来删除。</li>
<li>对于静态文件(没有进程正在调用的文件)来讲，当对应硬链接数为0（i_link）,文件就会被删除。（i_link,就是ls –l结果的第三列）</li>
<li>很多软件中的快照，就是利用了硬链接的功能。</li>
</ul>
<h3 id="335-本节小结">3.3.5 本节小结</h3>
<ul>
<li>对于目录，不能创建硬链接，只能创建软链接。</li>
<li>对目录创建软链接是生产场景运维中常用的技巧。</li>
<li>目录的硬链接不能跨越文件系统</li>
<li>每个目录下面都有一个硬链接”.”，和对应上一级目录的”..”。</li>
<li>再父目录里创建一个子目录，父目录的链接数增加1（因为子目录里面的..都指向父目录）但是在父目录里面创建文件，父目录的链接数不会增加。
###　3.3.6 查找链接文件
问题1：我创建了一个硬链接文件，但是我不知道放在那里了，请问怎么办？　　
思路：　　</li>
</ul>
<ol>
<li>查找文件可以利用find命令。</li>
<li>硬链接的特性，不会跨文件系统，所以源文件在哪个文件系统中，就在那里找</li>
<li>硬链接文件和源文件具有相同的inode号，可以利用find的-inum参数和-samefile参数来查找。</li>
<li>-inum参数表示按照inode号去查找，首先要查看文件的inode号</li>
<li>-samefile参数表示查找和某个文件相同的inode的文件，不用查看文件的inode号</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin oldboy<span class="o">]</span><span class="c1"># stat oldboy.txt  #获取文件的inode号码</span>
File: <span class="sb">`</span>oldboy.txt<span class="err">&#39;</span>
Size: <span class="m">55</span>              Blocks: <span class="m">8</span>          IO Block: <span class="m">4096</span>   regular file
Device: 803h/2051d      Inode: <span class="m">148677</span>      Links: <span class="m">2</span>
Access: <span class="o">(</span>0644/-rw-r--r--<span class="o">)</span>  Uid: <span class="o">(</span>    0/    root<span class="o">)</span>   Gid: <span class="o">(</span>    0/    root<span class="o">)</span>
Access: 2016-04-17 15:32:13.861206307 +0800
Modify: 2016-04-17 14:20:13.246213893 +0800
Change: 2016-04-17 16:04:17.023206128 +0800
<span class="o">[</span>root@lixin oldboy<span class="o">]</span><span class="c1"># find / -inum 148677 2&gt;/dev/null # 根据Inode号码查找，把错误提示丢弃</span>
/usr/local/xiaoming
/data/oldboy/oldboy.txt
<span class="o">[</span>root@lixin oldboy<span class="o">]</span><span class="c1">#</span>
</code></pre></td></tr></table>
</div>
</div><p>问题2：我对文件n创建了一个软连接文件，但是我不知道放在哪里了，也不知道叫什么名字，请问怎么办？<br>
思路：</p>
<ol>
<li>软链接可以跨文件系统，并且inode、属性都和源文件的不同没有规律可以寻</li>
<li>当我们使用ls –l命令查看链接文件的时候，它都会以：filename -&gt; link filename方式显示。</li>
<li>我们寻找当前系统内所有的链接文件，然后过滤我们要找的源文件名n，就能查看有哪些文件指向了源文件。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin oldboy<span class="o">]</span><span class="c1"># find -type l -exec ls -l {} \; </span>
lrwxrwxrwx <span class="m">1</span> root root <span class="m">1</span> Apr <span class="m">17</span> 16:21 ./xiaohong -&gt; <span class="m">1</span>
lrwxrwxrwx <span class="m">1</span> root root <span class="m">10</span> Apr <span class="m">17</span> 16:16 ./oldgirl.txt -&gt; oldboy.txt
<span class="o">[</span>root@lixin oldboy<span class="o">]</span><span class="c1">#    # 找到文件后，长格式显示，然后过滤源文件名</span>
<span class="o">[</span>root@lixin oldboy<span class="o">]</span><span class="c1"># find -type l -exec ls -l {} \;| grep &#39;oldboy.txt&#39;</span>
lrwxrwxrwx <span class="m">1</span> root root <span class="m">10</span> Apr <span class="m">17</span> 16:16 ./oldgirl.txt -&gt; oldboy.txt
</code></pre></td></tr></table>
</div>
</div><h2 id="34-文件的权限信息">3.4 文件的权限信息</h2>
<p>我们使用ls –l查看的文件信息中，包涵文件的权限信息。如图<br>
<img src="../photo/permission-all.png" alt="permission"></p>
<ul>
<li>第一组（rwx）表示的是文件的属主信息</li>
<li>第二组（rwx）表示的是文件的属组信息</li>
<li>第三组（rwx）表示的是其他人对文件的权限信息</li>
</ul>
<p>其中的字母含义如下：</p>
<ul>
<li>r：read，表示的是读权限，数字方式表示为4。</li>
<li>w：write，表示的是写权限，数字方式表示为2。</li>
<li>x：execute，表示的是执行权限，数字方式表示为1。</li>
</ul>
<h3 id="341-r读权限">3.4.1 r（读）权限</h3>
<p>r权限表示文件或目录是否可读。</p>
<ul>
<li>对于文件来说，文件具有r权限，表示我们可以使用cat、more等命令查看一个文件。</li>
<li>对于目录来书，目录具有r权限，表示我们可以使用ls查看目录中的内容。</li>
</ul>
<h3 id="342-w写权限">3.4.2 w（写）权限</h3>
<p>W权限表示文件或目录是否可写。</p>
<ul>
<li>对于文件来说，文件具有w权限，表示我们可以使用vi、vim命令编辑一个文件。</li>
<li>对于目录来说，目录具有w权限，表示我们可以在目录中对目录中的文件进行创建、删除、改名等操作。</li>
</ul>
<h3 id="343-x执行权限">3.4.3 x（执行）权限</h3>
<p>X权限表示文件或目录是否可执行。</p>
<ul>
<li>对于文件来说，文件具有x权限，表示我们可以直接运行这个文件得到一定的结果。</li>
<li>对于目录来说，目录具有x权限，表示我们可以使用cd命令进入这个目录中。</li>
</ul>
<h3 id="344-修改权限">3.4.4 修改权限</h3>
<p>我们使用chmod命令对文件的权限进行修改</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin tmp<span class="o">]</span><span class="c1"># touch test.txt</span>
<span class="o">[</span>root@lixin tmp<span class="o">]</span><span class="c1"># ls</span>
test.txt
<span class="o">[</span>root@lixin tmp<span class="o">]</span><span class="c1"># ls -l</span>
total <span class="m">0</span>
-rw-r--r-- <span class="m">1</span> root root <span class="m">0</span> Mar <span class="m">19</span> 21:30 test.txt
<span class="o">[</span>root@lixin tmp<span class="o">]</span><span class="c1"># chmod 777 test.txt     # 设置test的属性为777</span>
<span class="o">[</span>root@lixin tmp<span class="o">]</span><span class="c1"># ls -l</span>
total <span class="m">0</span>
-rwxrwxrwx <span class="m">1</span> root root <span class="m">0</span> Mar <span class="m">19</span> 21:30 test.txt
<span class="o">[</span>root@lixin tmp<span class="o">]</span><span class="c1"># chmod u=rw,g=rx,o=r test.txt   # u=User，g=group，o=other，=号叫做赋值</span>
<span class="o">[</span>root@lixin tmp<span class="o">]</span><span class="c1"># ls -l</span>
total <span class="m">0</span>
-rw-r-xr-- <span class="m">1</span> root root <span class="m">0</span> Mar <span class="m">19</span> 21:30 test.txt
<span class="o">[</span>root@lixin tmp<span class="o">]</span><span class="c1"># chmod a=rw test.txt     # a=ugo，a表示all，所有权限</span>
<span class="o">[</span>root@lixin tmp<span class="o">]</span><span class="c1"># ls -l</span>
total <span class="m">0</span>
-rw-rw-rw- <span class="m">1</span> root root <span class="m">0</span> Mar <span class="m">19</span> 21:30 test.txt
<span class="o">[</span>root@lixin tmp<span class="o">]</span><span class="c1">#</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="4-linux下文件删除原理">4 Linux下文件删除原理</h1>
<p>        因为文件系统（extX）的原理是，只要文件的索引节点（Inode Index）还有一个以上的硬链接，只删除了其中一个硬链接（其实仅仅删除了该文件的链接指向）并不会影响索引节点（inode）和其他链接（因为数据实体并没有被删除）。只有当文件的最后一个硬链接被删除后，此时如果有新的数据存储到硬盘上或者系统通过类似fsck（磁盘检查，比如重启会执行）对磁盘进行检查的时候，被删除文件的数据块及目录的链接才会被释放，空间被新数据占用并覆盖。此时，数据就无法找回了。<br>
        在linux系统中，删除静态文件的条件是：</p>
<ol>
<li>该目录或文件的硬链接数为0</li>
<li>没有进程调用该文件或目录</li>
</ol>
<p>如下图所示：<br>
<img src="../photo/del-file.png" alt="delfile"><br>
<strong>注意：没有程序调用时：i_link（硬链接数量）为0，文件就被删除。</strong><br>
<strong>当有程序调用时：i_count（进程的引用计数），为0（当进程调用一个文件，那么这个文件的i_count 加1）和i_link同时为0的时候文件才会被删除。</strong></p>
<h1 id="5-文件归属信息">5 文件归属信息</h1>
<p>        在linux中根据一个文件或目录的权限归属，定义了三个类别，属主、属组、其他人。</p>
<h2 id="51-属主owner">5.1 属主（owner）</h2>
<p>        属主顾名思义，就是文件的主人。系统安装完毕后，就会存在一部分的用户，存放在/etc/passwd文件中。<br>
        用户分为三类：</p>
<ul>
<li>超级用户（root）；UID=0。</li>
<li>虚拟用户（mail、shutdown）；UID=1-499。</li>
<li>普通用户（自己创建的用户）；UID=500-65535。</li>
</ul>
<h3 id="511-超级用户">5.1.1 超级用户</h3>
<p>        在linux中有一个至高无上的用户这个用户就是root。他的UID为0，他拥有皇帝般的权限，他可以对任何文件、目录，进行操作(不用理会是否具有权限)，甚至可以自杀。所以在生产环境中，由于这个用户权利过大，一般我们是不用的，会赋予一些普通用户权限进行管理。</p>
<h3 id="512-虚拟用户">5.1.2 虚拟用户</h3>
<p>        Linux系统中一个程序的执行、运行、关闭都需要归属一个用户，这些用户不是用来登陆系统的，只是用来运行程序的，它们叫做虚拟用户。比如apache、tomcat、mysql等用户。<strong>它们的UID为1-499。</strong>
由于系统默认会创建多个虚拟用户保证一些程序的运行，如果我们不需要某些程序，我们可以把该用户取消掉（注释），提高系统的安全性。</p>
<h3 id="513-普通用户">5.1.3 普通用户</h3>
<p>        我们使用root命令创建的用户系统日常管理的用户称之为普通用户，这类用户主要对系统进行操作，比如创建文件，修改日志等等。<strong>它们的UID为500-65535。</strong></p>
<h3 id="514-用户配置文件">5.1.4 用户配置文件</h3>
<p>Root用户使用useradd可以创建普通用户：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># useradd oldgirl</span>
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># tail -1 /etc/passwd</span>
oldgirl❌503:504::/home/oldgirl:/bin/bash
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1">#</span>
<span class="c1"># 用户的配置文件存放在/etc/passwd中，由于属于纯文本文件，所以我们可以直接使用cat命令查看</span>
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># cat /etc/passwd</span>
root❌0:0:root:/root:/bin/bash
bin❌1:1:bin:/bin:/sbin/nologin
daemon❌2:2:daemon:/sbin:/sbin/nologin
adm❌3:4:adm:/var/adm:/sbin/nologin
lp❌4:7:lp:/var/spool/lpd:/sbin/nologin
sync❌5:0:sync:/sbin:/bin/sync
shutdown❌6:0:shutdown:/sbin:/sbin/shutdown
halt❌7:0:halt:/sbin:/sbin/halt
mail❌8:12:mail:/var/spool/mail:/sbin/nologin
uucp❌10:14:uucp:/var/spool/uucp:/sbin/nologin
operator❌11:0:operator:/root:/sbin/nologin
……
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1">#</span>
</code></pre></td></tr></table>
</div>
</div><p>以冒号分隔后内容被均匀的分成七列：</p>
<ul>
<li>第一列：表示用户的用户名</li>
<li>第二列：表示用户的密码（现在已经存放在shadow文件中）</li>
<li>第三列：表示用户的UID</li>
<li>第四列：表示用户的GID</li>
<li>第五列：表示用户的别名</li>
<li>第六列：表示用户的家目录</li>
<li>第七列：表示用户的shell类型</li>
</ul>
<p>小结：</p>
<ul>
<li>使用useradd创建一个用户时，默认会更改/etc/passwd、/etc/group、/etc/shadow、/etc/gshadow文件。</li>
<li>修改用户的密码会更改/etc/shadow文件。</li>
</ul>
<h2 id="52-属组group">5.2 属组(group)</h2>
<p>文件或目录所属的组别。默认情况下，我们创建一个用户，系统会同时创建一个默认的组与之匹配。组信息存放在/etc/group中:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># more /etc/group</span>
root❌0:
bin❌1:bin,daemon
daemon❌2:bin,daemon
sys❌3:bin,adm
adm❌4:adm,daemon
……
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1">#</span>
</code></pre></td></tr></table>
</div>
</div><p>以冒号为分隔符后内容被均分成4列：</p>
<ul>
<li>第一字段：用户组名称；</li>
<li>第二字段：用户组密码（以存放在/etc/gshadow中，现在以基本不用）；</li>
<li>第三字段：GID</li>
<li>第四字段：用户列表，每个用户之间用,号分割；本字段可以为空；如果字段为空表示用户组为GID的用户名；</li>
</ul>
<p>小结：<br>
        使用id命令即可查看用户的UID和GID情况。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># id</span>
<span class="nv">uid</span><span class="o">=</span>0<span class="o">(</span>root<span class="o">)</span> <span class="nv">gid</span><span class="o">=</span>0<span class="o">(</span>root<span class="o">)</span> <span class="nv">groups</span><span class="o">=</span>0<span class="o">(</span>root<span class="o">)</span>
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># id lixin1</span>
<span class="nv">uid</span><span class="o">=</span>501<span class="o">(</span>lixin1<span class="o">)</span> <span class="nv">gid</span><span class="o">=</span>501<span class="o">(</span>lixin1<span class="o">)</span> <span class="nv">groups</span><span class="o">=</span>501<span class="o">(</span>lixin1<span class="o">)</span>,502<span class="o">(</span>sysadmins<span class="o">)</span>
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1">#     # 一个用户可以属于多个组</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="53-修改归属信息">5.3 修改归属信息</h2>
<p>        我们使用chown命令更改文件或目录的权限</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin tmp<span class="o">]</span><span class="c1"># ls -l</span>
total <span class="m">0</span>
-rw-rw-rw- <span class="m">1</span> root root <span class="m">0</span> Mar <span class="m">19</span> 21:30 test.txt
<span class="o">[</span>root@lixin tmp<span class="o">]</span><span class="c1"># chown lixin1:lixin1 test.txt </span>
<span class="o">[</span>root@lixin tmp<span class="o">]</span><span class="c1"># ls -l</span>
total <span class="m">0</span>
-rw-rw-rw- <span class="m">1</span> lixin1 lixin1 <span class="m">0</span> Mar <span class="m">19</span> 21:30 test.txt
<span class="o">[</span>root@lixin tmp<span class="o">]</span><span class="c1">#   # 格式为chown  用户：组  目标文件。如果只修改组，可以把用户空着（chown  :组 目标文件）</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="6-文件大小和修改时间">6 文件大小和修改时间</h1>
<p>        文件的大小根据文件的内容来计算，而目录的大小一般为4K，因为目录的block只存放了子目录或目录下的文件名，所以并不会太大，一般为一个block的大小。使用<code>ls –l</code>可以查看，-h参数可以转换单位。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin /<span class="o">]</span><span class="c1"># ls -lh</span>
total 106K
drwxr-xr-x   <span class="m">3</span> root root 4.0K Mar <span class="m">15</span> 12:32 app
dr-xr-xr-x.  <span class="m">2</span> root root 4.0K Mar <span class="m">13</span> 01:51 bin
dr-xr-xr-x.  <span class="m">5</span> root root 1.0K Mar  <span class="m">3</span> 23:29 boot
drwxr-xr-x.  <span class="m">8</span> root root 4.0K Mar <span class="m">19</span> 20:02 home
dr-xr-xr-x. <span class="m">12</span> root root 4.0K Mar  <span class="m">4</span> 17:17 lib
dr-xr-xr-x.  <span class="m">9</span> root root  12K Mar  <span class="m">4</span> 17:17 lib64
drwx------.  <span class="m">2</span> root root  16K Mar  <span class="m">3</span> 23:08 lost+found
drwxr-xr-x.  <span class="m">2</span> root root 4.0K Sep <span class="m">23</span>  <span class="m">2011</span> media
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1">#</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="61-文件的时间">6.1 文件的时间</h2>
<p>Linux中表示文件的时间参数有三个，即atime、ctime、mtime。</p>
<ul>
<li>Access time: 当“该文件的内容被取用”时，就会更新这个读取时间(access)。举例来说，我们使用cat去读取/etc/man.config，就会更新该文件的atime了。</li>
<li>Change time: 当该文件的“状态”(status)改变时，就会更新这个时间。举例来说，像是权限与属性被更改了，都会更新这个时间。</li>
<li>Modification time: 当该文件的“内容数据”更改时，就会更新这个时间。 内容数据指的是文件的内容，而不是文件的属性或权限。
<strong>我们使用<code>stat</code>可以查看文件的三个时间：</strong></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># stat 123</span>
File: <span class="s1">&#39;123&#39;</span>
Size: <span class="m">255</span>             Blocks: <span class="m">8</span>          IO Block: <span class="m">4096</span>   regular file
Device: 803h/2051d      Inode: <span class="m">17</span>          Links: <span class="m">2</span>
Access: <span class="o">(</span>0644/-rw-r--r--<span class="o">)</span>  Uid: <span class="o">(</span>    0/    root<span class="o">)</span>   Gid: <span class="o">(</span>    0/    root<span class="o">)</span>
Access: 2016-03-18 23:02:58.692622133 +0800
Modify: 2016-03-18 23:02:55.143621010 +0800
Change: 2016-03-19 18:26:50.296049949 +0800
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1">#</span>
<span class="c1"># 我们使用ls –l查看的时间其实是mtime文件的修改时间</span>
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># ls -l</span>
total <span class="m">8</span>
-rw-r--r-- <span class="m">2</span> root root <span class="m">255</span> Mar <span class="m">18</span> 23:02 <span class="m">123</span>
-rw-r--r-- <span class="m">2</span> root root <span class="m">255</span> Mar <span class="m">18</span> 23:02 oldboy.txt
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1">#</span>
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># ls -l --time-style=iso    # iso格式显示时间</span>
total <span class="m">8</span>
-rw-r--r-- <span class="m">2</span> root root <span class="m">255</span> 03-18 23:02 <span class="m">123</span>
-rw-r--r-- <span class="m">2</span> root root <span class="m">255</span> 03-18 23:02 oldboy.txt
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1">#</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="7-文件名">7 文件名</h1>
<p>        Linux中不以后缀名来表示文件的类型，但是为了方便，我们会给文件加上后缀名，这样我们就会很容易识别文件的类型。<br>
        Linux下一般的文件和后缀名标识关系：</p>
<ul>
<li>Tar、tar.gz、tgz、zip、tar.bz表示压缩文件（tar、gz、bz命令创建）</li>
<li>.sh 表示shell脚本文件，通过shell语言开发的程序。</li>
<li>.pl 表示perl语言文件，通过perl语言开发的程序。</li>
<li>.py 表示python语言文件，通过python语言开发的程序。</li>
<li>.conf 表示系统服务的配置文件。</li>
<li>.html、htm、php、jsp、do表示网页语言的文件。</li>
</ul>
<hr>
<h2 id="mathjax-true">title: LinuxPermisson
date: 2016-10-23 21:38:54
lastmod: 2016-10-23 21:38:54
draft: false
tags: [Os,]
categories: [Os,]
author: &ldquo;daxin.li&rdquo;
comment: true
toc: true
reward: true
mathjax: true</h2>
<h1 id="1-概述-1">1 概述</h1>
<p>        我们使用ls –il命令查看的文件列表就是我们文件的简要属性信息。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># ls –li       </span>
total <span class="m">80</span>
<span class="m">26171</span> -rw-r--r--  <span class="m">1</span> root root    <span class="m">11</span> Mar <span class="m">17</span> 22:24 12345.txt
<span class="m">3545</span> lrwxrwxrwx  <span class="m">1</span> root root     <span class="m">6</span> Mar <span class="m">16</span> 23:24 1234.txt -&gt; 10.txt
<span class="m">3581</span> -rw-r--r--  <span class="m">1</span> root root   <span class="m">149</span> Mar <span class="m">16</span> 23:03 123.tar.gz
<span class="m">3563</span> -rw-r--r--  <span class="m">1</span> root root   <span class="m">149</span> Mar <span class="m">17</span> 00:21 123.txt.bak
<span class="m">26197</span> -rw-r--r--  <span class="m">1</span> root root    <span class="m">11</span> Mar <span class="m">18</span> 00:01 1.txt
<span class="m">26181</span> -rw-r--r--  <span class="m">1</span> root root     <span class="m">0</span> Mar <span class="m">16</span> 19:46 2.txt
<span class="m">26182</span> -rw-r--r--  <span class="m">1</span> root root     <span class="m">0</span> Mar <span class="m">16</span> 19:46 3.txt
<span class="m">26191</span> -rw-r--r--  <span class="m">1</span> root root     <span class="m">0</span> Mar <span class="m">16</span> 19:46 7.txt
<span class="m">26192</span> -rw-r--r--  <span class="m">1</span> root root     <span class="m">0</span> Mar <span class="m">16</span> 19:46 8.txt
<span class="m">26193</span> -rw-r--r--  <span class="m">1</span> root root     <span class="m">0</span> Mar <span class="m">16</span> 19:46 9.txt
<span class="m">26195</span> lrwxrwxrwx  <span class="m">1</span> root root     <span class="m">5</span> Mar <span class="m">17</span> 22:51 abc -&gt; 1.txt
<span class="m">3559</span> -rw-r--r--  <span class="m">1</span> root root   <span class="m">226</span> Mar <span class="m">16</span> 21:24 abc.tar.gz
<span class="m">26194</span> -rw-r--r--  <span class="m">1</span> root root    <span class="m">30</span> Mar <span class="m">17</span> 17:54 abc.txt
<span class="m">25745</span> -rw-------. <span class="m">1</span> root root  <span class="m">1096</span> Mar  <span class="m">3</span> 23:30 anaconda-ks.cfg
<span class="m">26199</span> -rw-r--r--  <span class="m">1</span> root root    <span class="m">11</span> Mar <span class="m">16</span> 20:27 bcd
……
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1">#    # -l长格式显示文件信息，-i显示文件inode号</span>
</code></pre></td></tr></table>
</div>
</div><p>其中文件的属性信息被分成了10列，每列具体信息如下:</p>
<ul>
<li>第一列：表示文件的inode号码。</li>
<li>第二列：表示文件的类型和权限以及selinux。</li>
<li>第二列：表示文件或目录的硬链接数量。</li>
<li>第四列：表示文件的属主。</li>
<li>第五列：表示文件的属组。</li>
<li>第六列：表示文件的大小。</li>
<li>第七、八、九列：合起来表示文件的修改时间（mtime）。</li>
<li>第十列：表示文件的名称。</li>
</ul>
<h1 id="2-inode-1">2 inode</h1>
<h2 id="21-概念-1">2.1 概念</h2>
<p>        硬盘要存储数据（房子助人），首先要分区（隔断），然后创建文件系统（装修），最后存储数据（住人）。<br>
        inode 中文意思为索引节点（index node），在设备分区为ext4后（CentOS 6.7默认文件系统），一般生成两个部分：第一部分是inode（很多个），第二部分是block（很多个）它用来存放档案及目录的基本信息，包含时间、档名、使用者及群组等。</p>
<ul>
<li>block：是用来存储实际数据</li>
<li>inode：是用来存储数据属性的。</li>
</ul>
<p>        我们ls -l查出来的文件属性信息，存放在inode中，包涵不限于（文件大小，属主，属组，文件的权限，文件类型，修改时间），还包涵一个指针，用来指向真实的数据部分，但是inode中不包含文件名。严格来说文件的名称不属于文件的属性。<br>
        Inode除了记录文件属性的信息外，还会为每个文件进行信息索引，所以就有了inode的系统根据指令，即可通过inode的值最快的找到相应的文件实体，文件，inode,block之间的关系图下：</p>
<h2 id="22-如何查看inode-1">2.2 如何查看inode</h2>
<p>使用ls –i即可查看文件的inode节点号。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># ls -i</span>
<span class="m">26171</span> 12345.txt    <span class="m">26190</span> 6.txt            <span class="m">26185</span> file10.log  <span class="m">26184</span> file9.log
<span class="m">3545</span> 1234.txt     <span class="m">26191</span> 7.txt            <span class="m">25401</span> file1.log      <span class="m">15</span> install.log
<span class="m">3581</span> 123.tar.gz   <span class="m">26192</span> 8.txt            <span class="m">26172</span> file2.log      <span class="m">17</span> install.log.syslog
<span class="m">3563</span> 123.txt.bak  <span class="m">26193</span> 9.txt            <span class="m">26173</span> file3.log   <span class="m">26187</span> oldboy.txt
<span class="m">26197</span> 1.txt        <span class="m">26195</span> abc              <span class="m">26174</span> file4.log    <span class="m">3561</span> paichu.txt
<span class="m">26181</span> 2.txt         <span class="m">3559</span> abc.tar.gz       <span class="m">26176</span> file5.log    <span class="m">3535</span> test.txt
<span class="m">26182</span> 3.txt        <span class="m">26194</span> abc.txt          <span class="m">26178</span> file6.log
<span class="m">26188</span> 4.txt        <span class="m">25745</span> anaconda-ks.cfg  <span class="m">26179</span> file7.log
<span class="m">26189</span> 5.txt        <span class="m">26199</span> bcd              <span class="m">26183</span> file8.log
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1">#</span>
</code></pre></td></tr></table>
</div>
</div><p>使用stat 查看文件完整的inode信息</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># stat 1.txt </span>
File: <span class="s1">&#39;1.txt&#39;</span>
Size: <span class="m">11</span>              Blocks: <span class="m">8</span>          IO Block: <span class="m">4096</span>   regular file
Device: 803h/2051d      Inode: <span class="m">26197</span>       Links: <span class="m">1</span>
Access: <span class="o">(</span>0644/-rw-r--r--<span class="o">)</span>  Uid: <span class="o">(</span>    0/    root<span class="o">)</span>   Gid: <span class="o">(</span>    0/    root<span class="o">)</span>
Access: 2016-03-18 00:01:40.459890430 +0800
Modify: 2016-03-18 00:01:40.459890430 +0800
Change: 2016-03-18 00:01:40.459890430 +0800
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1">#</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="23-inode容量-1">2.3 Inode容量</h2>
<p>        inode要储存文件信息，就会有大小。CentOS 5系列 inode默认大小为128字节，CentOS 6 系列大小是256字节。inode的数量在文件系统被格式化分区之后就固定的，格式化分区之后就无法更改了。格式化之前就应该指定大小，可以通过参数来指定，一般企业工作环境没这个需求。<br>
        <strong>使用dumpe2fs查看文件系统的inode或者block信息。</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># dumpe2fs /dev/sda1 | grep -i &#34;inode count&#34; </span>
dumpe2fs 1.41.12 <span class="o">(</span>17-May-2010<span class="o">)</span>
Inode count:              <span class="m">51200</span>
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># dumpe2fs /dev/sda1 | grep -i &#34;block count&#34;</span>
dumpe2fs 1.41.12 <span class="o">(</span>17-May-2010<span class="o">)</span>
Block count:              <span class="m">204800</span>
Reserved block count:     <span class="m">10240</span>
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># dumpe2fs /dev/sda1 | grep -i &#34;block size&#34; </span>
dumpe2fs 1.41.12 <span class="o">(</span>17-May-2010<span class="o">)</span>
Block size:               <span class="m">1024</span>
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># dumpe2fs /dev/sda1 | grep -i &#34;inode size&#34;</span>
dumpe2fs 1.41.12 <span class="o">(</span>17-May-2010<span class="o">)</span>
Inode size:               <span class="m">128</span>
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1">#</span>
</code></pre></td></tr></table>
</div>
</div><p>使用df查看inode使用情况</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># df -i</span>
Filesystem     Inodes IUsed  IFree IUse% Mounted on
/dev/sda3      <span class="m">462384</span> <span class="m">69826</span> <span class="m">392558</span>   16% /
tmpfs           <span class="m">60830</span>     <span class="m">1</span>  <span class="m">60829</span>    1% /dev/shm
/dev/sda1       <span class="m">51200</span>    <span class="m">38</span>  <span class="m">51162</span>    1% /boot
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1">#</span>
</code></pre></td></tr></table>
</div>
</div><p>各字段含义如下：</p>
<ul>
<li>inode也属于磁盘的空间，inode也有满的时候。inode满了，就算block还有空间也不能存放数据了。</li>
<li>空间是否满了，是由两项参数决定的：</li>
<li>inode是否满了。</li>
<li>block是否满了。</li>
</ul>
<p><strong>磁盘满的一个特征（no space left on device )。</strong></p>
<h2 id="24-inode小结-1">2.4 inode小结</h2>
<ul>
<li>磁盘分区并格式化为ext4会生成一定量的inode和block</li>
<li>Inode成为索引节点，它的作用是存放文件的属性信息以及作为文件的索引，指向文件的实体（block）。</li>
<li>Ext3/ext4文件系统的block存放的是文件的实际内容</li>
<li>Inode是一块存储空间，CentOS6非启动分区inode默认大小256字节，CentOS 5是128字节。</li>
<li>Inode是一串数字，不同的文件对应的inode在同一个文件系统里是唯一的。</li>
<li>Inode相同的文件，互为硬链接文件。（可以理解为相同文件的不同入口）</li>
<li>Ext3/ext4文件系统下，一个文件被创建后至少要占用一个inode和一个block。</li>
<li>Block的大小一般有1K，2K，4K，等几种，其中引导分区等为1K，普通分区为4K(CentOS 6)</li>
<li>如果一个文件很大，可能占用多个block，如果文件很小，至少占一个block，剩下的空间，也就浪费了。</li>
<li>正常情况下一个文件占用有且只能占用1个inode（硬链接不算）。</li>
</ul>
<p>注：只能在格式化磁盘的时候指定inode的大小:
<code>mkfs.ext4 -b 2048 -l 256 /dev/sdb (-b指定了block的大小，-l可以指定inode的大小)</code></p>
<h2 id="25-block小结-1">2.5 block小结</h2>
<ul>
<li>磁盘读取数据是按block为单位读取的。</li>
<li>一个文件可能占用多个block。但是每读取一个block就会消耗一次磁盘I/O。</li>
<li>如果要提升磁盘IO性能，那么就要尽可能一次性读取数据尽量的多。</li>
<li>一个block只能存放一个文件的内容，无论内容有多小(如果block为4K，那么存放1K，的文件后，剩下的3K就浪费了。</li>
<li>Block并非越大越好。Block太大对于小文件存放就会浪费磁盘空间，例如1000K的文件。Block为4K，占用250个block，blcok为1K，占1000个block访问效率谁更高？ 消耗IO分别为250次和1000次。</li>
<li>根据业务需求确定默认的block大小，比如环境中大文件（大于16K）一般设置block大一点，小文件（小于1K）一般，block小一点。</li>
<li>Block太大，例如4K，文件都是0.1K，则会大量浪费磁盘空间。</li>
<li>Block太小，例如1K，文件都是1000K,则会大量耗费磁盘IO。</li>
<li>Block的设置也是在格式化分区的时候:mkfs.ext4 –b 2048 /dev/sdb。</li>
<li>文件较大时，block设置大一些会提升磁盘访问效率。</li>
<li>Ext3/ext4文件系统（CentOS5和6）一般设置为4K，CentOS 7，一般是xfs文件系统</li>
</ul>
<h2 id="26-本章小结-1">2.6 本章小结</h2>
<ul>
<li>Inode存放文件的属性以及指向文件实体的指针，文件名不在inode里，一般上级目录的block里。</li>
<li>访问文件，原理通过文件名inodeblock。</li>
<li>Inode一般情况下默认为256B，block大小为1K，2K，4K默认是4K，引导分区等特殊除外。</li>
<li>通过df –i查看inode的数量及使用情况，dumpe2fs /dev/sda3查看inode及block大小。</li>
<li>一个文件至少要占用一个inode以及一个block，多个文件可以占用同一个inode(硬链接)。</li>
<li>一个block只能被一个文件使用，如果文件很小block很大，剩余空间浪费，无法继续被其他文件使用。</li>
</ul>
<h1 id="3-权限信息-1">3 权限信息</h1>
<p>        包涵文件的类型和文件的权限。</p>
<h2 id="31-文件类型-1">3.1 文件类型</h2>
<p>        windows 中是以扩展名区分的，Linux中文件类型和扩展名是没有关系的，文件类型为了让我们看起来方便，我们标记了扩展名。（比如a.txt)<br>
在linux中扩展名的分类：</p>
<ul>
<li>tar、tar.gz、tgz、zip、tar.bz表示压缩文件，创建命令一般为tar,gzip,zip等</li>
<li>sh表示shell脚本文件。</li>
<li>pl表示perl语言文件。</li>
<li>py表示python语言文件。</li>
<li>html、htm、php、jsp、do表示网页语言文件。</li>
<li>conf表示系统配置文件。</li>
<li>rpm表示rpm安装包文件。</li>
</ul>
<p><strong>Linux中的文件类型主要观察第一列：</strong><br>
<img src="../photo/permission.png" alt="filetype"><br>
<strong>Linux中文件的类型有如下几种：</strong></p>
<ul>
<li>-：表示普通文件（比如/etc/profile、/bin/cp、/var/log/wtmp）</li>
<li>d：表示目录文件 (比如/etc目录)</li>
<li>l：表示软连接文件 (比如 /etc/init.d)</li>
<li>c：表示字符设备 (比如/dev/tty)</li>
<li>b：表示块设备（比如/dev/sda）</li>
<li>s：sock文件，主要用来做进程通讯。</li>
<li>p：管道文件（pipa）。</li>
</ul>
<h2 id="32-普通文件-1">3.2 普通文件</h2>
<p>        在linux中表示普通文件，而普通文件又分为三种。</p>
<ul>
<li>二进制文件（例如：命令，脚本）</li>
<li>数据文件（例如/var/log/wtmp、/var/log/btmp）</li>
<li>纯文本文件(例如/etc/profile)</li>
</ul>
<p>使用file命令查看文件的类型：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin dev<span class="o">]</span><span class="c1"># file /etc/profile</span>
/etc/profile: ASCII English text     <span class="c1"># 表示纯文本文件</span>
<span class="o">[</span>root@lixin dev<span class="o">]</span><span class="c1"># file /bin/cp</span>
/bin/cp: ELF 64-bit LSB executable, x86-64, version <span class="m">1</span> <span class="o">(</span>SYSV<span class="o">)</span>, dynamically linked <span class="o">(</span>uses shared libs<span class="o">)</span>, <span class="k">for</span> GNU/Linux 2.6.18, stripped    <span class="c1"># 表示二进制文件</span>
<span class="o">[</span>root@lixin dev<span class="o">]</span><span class="c1"># file /var/log/wtmp</span>
/var/log/wtmp: data          <span class="c1"># 表示数据文件</span>
<span class="o">[</span>root@lixin dev<span class="o">]</span><span class="c1">#</span>
<span class="c1"># 二进制文件：我们使用的命令就是这种格式个文件，这种格式的文件，不能通过cat、more等命令查看。</span>
<span class="c1"># 纯文本文件：程序的配置文件，文本文件等。</span>
<span class="c1"># 数据文件：这类文件属于某个命令的数据库文件，只能使用对应的命令去读取这些文件，比如：last命令的数据库文件为/var/log/wtmp。</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="33-链接文件-1">3.3 链接文件</h2>
<p>链接文件分为:</p>
<ul>
<li>软连接：文件的快捷方式，指向文件的实体。</li>
<li>硬链接：是指通过索引节点（inode）来进行链接。</li>
</ul>
<h3 id="331-软链接-1">3.3.1 软链接</h3>
<p>        一般称之为符号链接，类似与windows平台上的快捷方式。它实际上是一个特殊的文件。在符号连接中，文件实际上是一个文本文件，其中包含的有另一文件的位置信息。  软链接与源文件属于不同的文件，不共用属性、文件类别，所以inode号不同。<br>
软链接的特点有：</p>
<ul>
<li>依赖于源文件，源文件被删除，符号链接将失效。</li>
<li>可以夸分区创建软链接。</li>
</ul>
<h3 id="332-软链接小结-1">3.3.2 软链接小结</h3>
<ul>
<li>软链接类似windows的快捷方式（可以通过readlink来查看指向）</li>
<li>软链接类似一个文件文件，里面存放的是源文件的路径，指向源文件的位置。</li>
<li>删除源文件，软链接文件依然存在，但是无法访问源文件内容了。</li>
<li>失效的时候一般是白字红底闪烁提示。</li>
<li>执行&rsquo;ln –s  sou-file dest-file&rsquo;创建软链接文件(目标文件可以不存在)。</li>
<li>软链接和源文件是不同类型的文件，也是不同的文件，所以inode号不同。</li>
<li>可以使用rm命令直接删除软链接文件。</li>
</ul>
<h3 id="333-硬链接-1">3.3.3 硬链接</h3>
<p>        硬链接文件就相当于文件的另一个入口。硬链接的作用之一是允许一个文件拥有多个有效路径（多个入口），这样用户就可以建立硬链接到重要的文件，以防止“误删”源数据。<br>
        硬链接和源文件使用相同的inode，相同的文件类型及属性。<br>
        硬链接的特点：<strong>不能针对目录创建硬链接。不能跨越分区（文件系统）</strong>。</p>
<h3 id="334-硬链接小结-1">3.3.4 硬链接小结</h3>
<ul>
<li>具有相同inode节点号的多个文件是互为硬链接文件。</li>
<li>删除硬链接文件或删除源文件任意之一，文件实体并未被删除。</li>
<li>只有删除了源文件以及所有的硬链接文件之后，文件实体才会被删除。</li>
<li>当所有的硬链接文件及源文件被删除后，再存放新的数据才会占用这个文件的空间，或者磁盘fsck（主机重启时会也会自动执行fsck命令），删除的数据空间会被系统回收。</li>
<li>硬链接文件就是文件的另一个入口（比如超市的前面后门一样）。</li>
<li>可以通过给文件设置硬链接，来防止重要文件被误删。</li>
<li>通过执行命令“ln sou-file dst-file”，来创建硬链接文件。</li>
<li>硬链接文件可以用rm命令来删除。</li>
<li>对于静态文件(没有进程正在调用的文件)来讲，当对应硬链接数为0（i_link）,文件就会被删除。（i_link,就是ls –l结果的第三列）</li>
<li>很多软件中的快照，就是利用了硬链接的功能。</li>
</ul>
<h3 id="335-本节小结-1">3.3.5 本节小结</h3>
<ul>
<li>对于目录，不能创建硬链接，只能创建软链接。</li>
<li>对目录创建软链接是生产场景运维中常用的技巧。</li>
<li>目录的硬链接不能跨越文件系统</li>
<li>每个目录下面都有一个硬链接”.”，和对应上一级目录的”..”。</li>
<li>再父目录里创建一个子目录，父目录的链接数增加1（因为子目录里面的..都指向父目录）但是在父目录里面创建文件，父目录的链接数不会增加。
###　3.3.6 查找链接文件
问题1：我创建了一个硬链接文件，但是我不知道放在那里了，请问怎么办？　　
思路：　　</li>
</ul>
<ol>
<li>查找文件可以利用find命令。</li>
<li>硬链接的特性，不会跨文件系统，所以源文件在哪个文件系统中，就在那里找</li>
<li>硬链接文件和源文件具有相同的inode号，可以利用find的-inum参数和-samefile参数来查找。</li>
<li>-inum参数表示按照inode号去查找，首先要查看文件的inode号</li>
<li>-samefile参数表示查找和某个文件相同的inode的文件，不用查看文件的inode号</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin oldboy<span class="o">]</span><span class="c1"># stat oldboy.txt  #获取文件的inode号码</span>
File: <span class="sb">`</span>oldboy.txt<span class="err">&#39;</span>
Size: <span class="m">55</span>              Blocks: <span class="m">8</span>          IO Block: <span class="m">4096</span>   regular file
Device: 803h/2051d      Inode: <span class="m">148677</span>      Links: <span class="m">2</span>
Access: <span class="o">(</span>0644/-rw-r--r--<span class="o">)</span>  Uid: <span class="o">(</span>    0/    root<span class="o">)</span>   Gid: <span class="o">(</span>    0/    root<span class="o">)</span>
Access: 2016-04-17 15:32:13.861206307 +0800
Modify: 2016-04-17 14:20:13.246213893 +0800
Change: 2016-04-17 16:04:17.023206128 +0800
<span class="o">[</span>root@lixin oldboy<span class="o">]</span><span class="c1"># find / -inum 148677 2&gt;/dev/null # 根据Inode号码查找，把错误提示丢弃</span>
/usr/local/xiaoming
/data/oldboy/oldboy.txt
<span class="o">[</span>root@lixin oldboy<span class="o">]</span><span class="c1">#</span>
</code></pre></td></tr></table>
</div>
</div><p>问题2：我对文件n创建了一个软连接文件，但是我不知道放在哪里了，也不知道叫什么名字，请问怎么办？<br>
思路：</p>
<ol>
<li>软链接可以跨文件系统，并且inode、属性都和源文件的不同没有规律可以寻</li>
<li>当我们使用ls –l命令查看链接文件的时候，它都会以：filename -&gt; link filename方式显示。</li>
<li>我们寻找当前系统内所有的链接文件，然后过滤我们要找的源文件名n，就能查看有哪些文件指向了源文件。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin oldboy<span class="o">]</span><span class="c1"># find -type l -exec ls -l {} \; </span>
lrwxrwxrwx <span class="m">1</span> root root <span class="m">1</span> Apr <span class="m">17</span> 16:21 ./xiaohong -&gt; <span class="m">1</span>
lrwxrwxrwx <span class="m">1</span> root root <span class="m">10</span> Apr <span class="m">17</span> 16:16 ./oldgirl.txt -&gt; oldboy.txt
<span class="o">[</span>root@lixin oldboy<span class="o">]</span><span class="c1">#    # 找到文件后，长格式显示，然后过滤源文件名</span>
<span class="o">[</span>root@lixin oldboy<span class="o">]</span><span class="c1"># find -type l -exec ls -l {} \;| grep &#39;oldboy.txt&#39;</span>
lrwxrwxrwx <span class="m">1</span> root root <span class="m">10</span> Apr <span class="m">17</span> 16:16 ./oldgirl.txt -&gt; oldboy.txt
</code></pre></td></tr></table>
</div>
</div><h2 id="34-文件的权限信息-1">3.4 文件的权限信息</h2>
<p>我们使用ls –l查看的文件信息中，包涵文件的权限信息。如图<br>
<img src="../photo/permission-all.png" alt="permission"></p>
<ul>
<li>第一组（rwx）表示的是文件的属主信息</li>
<li>第二组（rwx）表示的是文件的属组信息</li>
<li>第三组（rwx）表示的是其他人对文件的权限信息</li>
</ul>
<p>其中的字母含义如下：</p>
<ul>
<li>r：read，表示的是读权限，数字方式表示为4。</li>
<li>w：write，表示的是写权限，数字方式表示为2。</li>
<li>x：execute，表示的是执行权限，数字方式表示为1。</li>
</ul>
<h3 id="341-r读权限-1">3.4.1 r（读）权限</h3>
<p>r权限表示文件或目录是否可读。</p>
<ul>
<li>对于文件来说，文件具有r权限，表示我们可以使用cat、more等命令查看一个文件。</li>
<li>对于目录来书，目录具有r权限，表示我们可以使用ls查看目录中的内容。</li>
</ul>
<h3 id="342-w写权限-1">3.4.2 w（写）权限</h3>
<p>W权限表示文件或目录是否可写。</p>
<ul>
<li>对于文件来说，文件具有w权限，表示我们可以使用vi、vim命令编辑一个文件。</li>
<li>对于目录来说，目录具有w权限，表示我们可以在目录中对目录中的文件进行创建、删除、改名等操作。</li>
</ul>
<h3 id="343-x执行权限-1">3.4.3 x（执行）权限</h3>
<p>X权限表示文件或目录是否可执行。</p>
<ul>
<li>对于文件来说，文件具有x权限，表示我们可以直接运行这个文件得到一定的结果。</li>
<li>对于目录来说，目录具有x权限，表示我们可以使用cd命令进入这个目录中。</li>
</ul>
<h3 id="344-修改权限-1">3.4.4 修改权限</h3>
<p>我们使用chmod命令对文件的权限进行修改</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin tmp<span class="o">]</span><span class="c1"># touch test.txt</span>
<span class="o">[</span>root@lixin tmp<span class="o">]</span><span class="c1"># ls</span>
test.txt
<span class="o">[</span>root@lixin tmp<span class="o">]</span><span class="c1"># ls -l</span>
total <span class="m">0</span>
-rw-r--r-- <span class="m">1</span> root root <span class="m">0</span> Mar <span class="m">19</span> 21:30 test.txt
<span class="o">[</span>root@lixin tmp<span class="o">]</span><span class="c1"># chmod 777 test.txt     # 设置test的属性为777</span>
<span class="o">[</span>root@lixin tmp<span class="o">]</span><span class="c1"># ls -l</span>
total <span class="m">0</span>
-rwxrwxrwx <span class="m">1</span> root root <span class="m">0</span> Mar <span class="m">19</span> 21:30 test.txt
<span class="o">[</span>root@lixin tmp<span class="o">]</span><span class="c1"># chmod u=rw,g=rx,o=r test.txt   # u=User，g=group，o=other，=号叫做赋值</span>
<span class="o">[</span>root@lixin tmp<span class="o">]</span><span class="c1"># ls -l</span>
total <span class="m">0</span>
-rw-r-xr-- <span class="m">1</span> root root <span class="m">0</span> Mar <span class="m">19</span> 21:30 test.txt
<span class="o">[</span>root@lixin tmp<span class="o">]</span><span class="c1"># chmod a=rw test.txt     # a=ugo，a表示all，所有权限</span>
<span class="o">[</span>root@lixin tmp<span class="o">]</span><span class="c1"># ls -l</span>
total <span class="m">0</span>
-rw-rw-rw- <span class="m">1</span> root root <span class="m">0</span> Mar <span class="m">19</span> 21:30 test.txt
<span class="o">[</span>root@lixin tmp<span class="o">]</span><span class="c1">#</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="4-linux下文件删除原理-1">4 Linux下文件删除原理</h1>
<p>        因为文件系统（extX）的原理是，只要文件的索引节点（Inode Index）还有一个以上的硬链接，只删除了其中一个硬链接（其实仅仅删除了该文件的链接指向）并不会影响索引节点（inode）和其他链接（因为数据实体并没有被删除）。只有当文件的最后一个硬链接被删除后，此时如果有新的数据存储到硬盘上或者系统通过类似fsck（磁盘检查，比如重启会执行）对磁盘进行检查的时候，被删除文件的数据块及目录的链接才会被释放，空间被新数据占用并覆盖。此时，数据就无法找回了。<br>
        在linux系统中，删除静态文件的条件是：</p>
<ol>
<li>该目录或文件的硬链接数为0</li>
<li>没有进程调用该文件或目录</li>
</ol>
<p>如下图所示：<br>
<img src="../photo/del-file.png" alt="delfile"><br>
<strong>注意：没有程序调用时：i_link（硬链接数量）为0，文件就被删除。</strong><br>
<strong>当有程序调用时：i_count（进程的引用计数），为0（当进程调用一个文件，那么这个文件的i_count 加1）和i_link同时为0的时候文件才会被删除。</strong></p>
<h1 id="5-文件归属信息-1">5 文件归属信息</h1>
<p>        在linux中根据一个文件或目录的权限归属，定义了三个类别，属主、属组、其他人。</p>
<h2 id="51-属主owner-1">5.1 属主（owner）</h2>
<p>        属主顾名思义，就是文件的主人。系统安装完毕后，就会存在一部分的用户，存放在/etc/passwd文件中。<br>
        用户分为三类：</p>
<ul>
<li>超级用户（root）；UID=0。</li>
<li>虚拟用户（mail、shutdown）；UID=1-499。</li>
<li>普通用户（自己创建的用户）；UID=500-65535。</li>
</ul>
<h3 id="511-超级用户-1">5.1.1 超级用户</h3>
<p>        在linux中有一个至高无上的用户这个用户就是root。他的UID为0，他拥有皇帝般的权限，他可以对任何文件、目录，进行操作(不用理会是否具有权限)，甚至可以自杀。所以在生产环境中，由于这个用户权利过大，一般我们是不用的，会赋予一些普通用户权限进行管理。</p>
<h3 id="512-虚拟用户-1">5.1.2 虚拟用户</h3>
<p>        Linux系统中一个程序的执行、运行、关闭都需要归属一个用户，这些用户不是用来登陆系统的，只是用来运行程序的，它们叫做虚拟用户。比如apache、tomcat、mysql等用户。<strong>它们的UID为1-499。</strong>
由于系统默认会创建多个虚拟用户保证一些程序的运行，如果我们不需要某些程序，我们可以把该用户取消掉（注释），提高系统的安全性。</p>
<h3 id="513-普通用户-1">5.1.3 普通用户</h3>
<p>        我们使用root命令创建的用户系统日常管理的用户称之为普通用户，这类用户主要对系统进行操作，比如创建文件，修改日志等等。<strong>它们的UID为500-65535。</strong></p>
<h3 id="514-用户配置文件-1">5.1.4 用户配置文件</h3>
<p>Root用户使用useradd可以创建普通用户：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># useradd oldgirl</span>
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># tail -1 /etc/passwd</span>
oldgirl❌503:504::/home/oldgirl:/bin/bash
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1">#</span>
<span class="c1"># 用户的配置文件存放在/etc/passwd中，由于属于纯文本文件，所以我们可以直接使用cat命令查看</span>
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># cat /etc/passwd</span>
root❌0:0:root:/root:/bin/bash
bin❌1:1:bin:/bin:/sbin/nologin
daemon❌2:2:daemon:/sbin:/sbin/nologin
adm❌3:4:adm:/var/adm:/sbin/nologin
lp❌4:7:lp:/var/spool/lpd:/sbin/nologin
sync❌5:0:sync:/sbin:/bin/sync
shutdown❌6:0:shutdown:/sbin:/sbin/shutdown
halt❌7:0:halt:/sbin:/sbin/halt
mail❌8:12:mail:/var/spool/mail:/sbin/nologin
uucp❌10:14:uucp:/var/spool/uucp:/sbin/nologin
operator❌11:0:operator:/root:/sbin/nologin
……
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1">#</span>
</code></pre></td></tr></table>
</div>
</div><p>以冒号分隔后内容被均匀的分成七列：</p>
<ul>
<li>第一列：表示用户的用户名</li>
<li>第二列：表示用户的密码（现在已经存放在shadow文件中）</li>
<li>第三列：表示用户的UID</li>
<li>第四列：表示用户的GID</li>
<li>第五列：表示用户的别名</li>
<li>第六列：表示用户的家目录</li>
<li>第七列：表示用户的shell类型</li>
</ul>
<p>小结：</p>
<ul>
<li>使用useradd创建一个用户时，默认会更改/etc/passwd、/etc/group、/etc/shadow、/etc/gshadow文件。</li>
<li>修改用户的密码会更改/etc/shadow文件。</li>
</ul>
<h2 id="52-属组group-1">5.2 属组(group)</h2>
<p>文件或目录所属的组别。默认情况下，我们创建一个用户，系统会同时创建一个默认的组与之匹配。组信息存放在/etc/group中:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># more /etc/group</span>
root❌0:
bin❌1:bin,daemon
daemon❌2:bin,daemon
sys❌3:bin,adm
adm❌4:adm,daemon
……
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1">#</span>
</code></pre></td></tr></table>
</div>
</div><p>以冒号为分隔符后内容被均分成4列：</p>
<ul>
<li>第一字段：用户组名称；</li>
<li>第二字段：用户组密码（以存放在/etc/gshadow中，现在以基本不用）；</li>
<li>第三字段：GID</li>
<li>第四字段：用户列表，每个用户之间用,号分割；本字段可以为空；如果字段为空表示用户组为GID的用户名；</li>
</ul>
<p>小结：<br>
        使用id命令即可查看用户的UID和GID情况。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># id</span>
<span class="nv">uid</span><span class="o">=</span>0<span class="o">(</span>root<span class="o">)</span> <span class="nv">gid</span><span class="o">=</span>0<span class="o">(</span>root<span class="o">)</span> <span class="nv">groups</span><span class="o">=</span>0<span class="o">(</span>root<span class="o">)</span>
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># id lixin1</span>
<span class="nv">uid</span><span class="o">=</span>501<span class="o">(</span>lixin1<span class="o">)</span> <span class="nv">gid</span><span class="o">=</span>501<span class="o">(</span>lixin1<span class="o">)</span> <span class="nv">groups</span><span class="o">=</span>501<span class="o">(</span>lixin1<span class="o">)</span>,502<span class="o">(</span>sysadmins<span class="o">)</span>
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1">#     # 一个用户可以属于多个组</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="53-修改归属信息-1">5.3 修改归属信息</h2>
<p>        我们使用chown命令更改文件或目录的权限</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin tmp<span class="o">]</span><span class="c1"># ls -l</span>
total <span class="m">0</span>
-rw-rw-rw- <span class="m">1</span> root root <span class="m">0</span> Mar <span class="m">19</span> 21:30 test.txt
<span class="o">[</span>root@lixin tmp<span class="o">]</span><span class="c1"># chown lixin1:lixin1 test.txt </span>
<span class="o">[</span>root@lixin tmp<span class="o">]</span><span class="c1"># ls -l</span>
total <span class="m">0</span>
-rw-rw-rw- <span class="m">1</span> lixin1 lixin1 <span class="m">0</span> Mar <span class="m">19</span> 21:30 test.txt
<span class="o">[</span>root@lixin tmp<span class="o">]</span><span class="c1">#   # 格式为chown  用户：组  目标文件。如果只修改组，可以把用户空着（chown  :组 目标文件）</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="6-文件大小和修改时间-1">6 文件大小和修改时间</h1>
<p>        文件的大小根据文件的内容来计算，而目录的大小一般为4K，因为目录的block只存放了子目录或目录下的文件名，所以并不会太大，一般为一个block的大小。使用<code>ls –l</code>可以查看，-h参数可以转换单位。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin /<span class="o">]</span><span class="c1"># ls -lh</span>
total 106K
drwxr-xr-x   <span class="m">3</span> root root 4.0K Mar <span class="m">15</span> 12:32 app
dr-xr-xr-x.  <span class="m">2</span> root root 4.0K Mar <span class="m">13</span> 01:51 bin
dr-xr-xr-x.  <span class="m">5</span> root root 1.0K Mar  <span class="m">3</span> 23:29 boot
drwxr-xr-x.  <span class="m">8</span> root root 4.0K Mar <span class="m">19</span> 20:02 home
dr-xr-xr-x. <span class="m">12</span> root root 4.0K Mar  <span class="m">4</span> 17:17 lib
dr-xr-xr-x.  <span class="m">9</span> root root  12K Mar  <span class="m">4</span> 17:17 lib64
drwx------.  <span class="m">2</span> root root  16K Mar  <span class="m">3</span> 23:08 lost+found
drwxr-xr-x.  <span class="m">2</span> root root 4.0K Sep <span class="m">23</span>  <span class="m">2011</span> media
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1">#</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="61-文件的时间-1">6.1 文件的时间</h2>
<p>Linux中表示文件的时间参数有三个，即atime、ctime、mtime。</p>
<ul>
<li>Access time: 当“该文件的内容被取用”时，就会更新这个读取时间(access)。举例来说，我们使用cat去读取/etc/man.config，就会更新该文件的atime了。</li>
<li>Change time: 当该文件的“状态”(status)改变时，就会更新这个时间。举例来说，像是权限与属性被更改了，都会更新这个时间。</li>
<li>Modification time: 当该文件的“内容数据”更改时，就会更新这个时间。 内容数据指的是文件的内容，而不是文件的属性或权限。
<strong>我们使用<code>stat</code>可以查看文件的三个时间：</strong></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># stat 123</span>
File: <span class="s1">&#39;123&#39;</span>
Size: <span class="m">255</span>             Blocks: <span class="m">8</span>          IO Block: <span class="m">4096</span>   regular file
Device: 803h/2051d      Inode: <span class="m">17</span>          Links: <span class="m">2</span>
Access: <span class="o">(</span>0644/-rw-r--r--<span class="o">)</span>  Uid: <span class="o">(</span>    0/    root<span class="o">)</span>   Gid: <span class="o">(</span>    0/    root<span class="o">)</span>
Access: 2016-03-18 23:02:58.692622133 +0800
Modify: 2016-03-18 23:02:55.143621010 +0800
Change: 2016-03-19 18:26:50.296049949 +0800
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1">#</span>
<span class="c1"># 我们使用ls –l查看的时间其实是mtime文件的修改时间</span>
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># ls -l</span>
total <span class="m">8</span>
-rw-r--r-- <span class="m">2</span> root root <span class="m">255</span> Mar <span class="m">18</span> 23:02 <span class="m">123</span>
-rw-r--r-- <span class="m">2</span> root root <span class="m">255</span> Mar <span class="m">18</span> 23:02 oldboy.txt
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1">#</span>
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1"># ls -l --time-style=iso    # iso格式显示时间</span>
total <span class="m">8</span>
-rw-r--r-- <span class="m">2</span> root root <span class="m">255</span> 03-18 23:02 <span class="m">123</span>
-rw-r--r-- <span class="m">2</span> root root <span class="m">255</span> 03-18 23:02 oldboy.txt
<span class="o">[</span>root@lixin ~<span class="o">]</span><span class="c1">#</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="7-文件名-1">7 文件名</h1>
<p>        Linux中不以后缀名来表示文件的类型，但是为了方便，我们会给文件加上后缀名，这样我们就会很容易识别文件的类型。<br>
        Linux下一般的文件和后缀名标识关系：</p>
<ul>
<li>Tar、tar.gz、tgz、zip、tar.bz表示压缩文件（tar、gz、bz命令创建）</li>
<li>.sh 表示shell脚本文件，通过shell语言开发的程序。</li>
<li>.pl 表示perl语言文件，通过perl语言开发的程序。</li>
<li>.py 表示python语言文件，通过python语言开发的程序。</li>
<li>.conf 表示系统服务的配置文件。</li>
<li>.html、htm、php、jsp、do表示网页语言的文件。</li>
</ul>

    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">daxin.li</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
      2018-10-16
      
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content">原创文章，如需转载请注明文章作者和出处。谢谢！</span>
  </p>
</div>


    
    
<div class="post-reward">
  <input type="checkbox" name="reward" id="reward" hidden />
  <label class="reward-button" for="reward">赞赏支持</label>
  <div class="qr-code">
    
    
      <label class="qr-code-image" for="reward">
        <img class="image" src="/static/wechat-qr-code.png">
        <span>微信打赏</span>
      </label>
    
      <label class="qr-code-image" for="reward">
        <img class="image" src="/static/alipay-qr-code.png">
        <span>支付宝打赏</span>
      </label>
  </div>
</div>

    <footer class="post-footer">
      <div class="post-tags">
          <a href="https://dachenzi.github.io/tags/content_a/">content_a</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/6-subprocess%E6%A8%A1%E5%9D%97-tempfile%E6%A8%A1%E5%9D%97/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">6-subprocess模块-tempfile模块</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        
          <a class="next" href="/post/1-random%E6%A8%A1%E5%9D%97/">
            <span class="next-text nav-default">1-random模块</span>
            <span class="prev-text nav-mobile">下一篇</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  
  
  

  
  

  

  
  
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo= "dachenzi/dachenzi.github.io"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
      </script>
    </div>
  

  

  

  

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:dahlhin.li@gmail.com" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
    <a href="https://github.com/dachenzi" rel="me noopener" class="iconfont"
      title="github"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667 0-12.16-0.426667-44.373333-0.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333 0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333 0 0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667 0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72 0 68.522667-0.64 123.562667-0.64 140.202666 0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"></path>
</svg>

    </a>
  
    <a href="https://weibo.com/2401416804/profile?rightmod=1&amp;wvr=6&amp;mod=personinfo" rel="me noopener" class="iconfont"
      title="weibo"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M385.714286 733.714286q12-19.428571 6.285714-39.428571t-25.714286-28.571429q-19.428571-8-41.714286-0.571429t-34.285714 26.285714q-12.571429 19.428571-7.428571 39.142857t24.571429 28.857143 42.571429 1.428571 35.714286-27.142857zm53.714286-69.142857q4.571429-7.428571 2-15.142857t-10-10.571429q-8-2.857143-16.285714 2.857143t-12.285714 10.571429q-9.714286 17.714286 7.428571 25.714286 8 2.857143 16.571429 2.857143t12.571429-10.571429zm99.428571 61.142857q-25.714286 58.285714-90.285714 85.714286t-128 6.857143q-61.142857-19.428571-84.285714-72.285714t3.714286-107.142857q26.857143-53.142857 86.571429-79.428571t120.285714-10.857143q63.428571 16.571429 90.571429 68.285714t1.428571 108.857143zm178.285714-91.428571q-5.142857-54.857143-50.857143-97.142857t-119.142857-62.285714-156.857143-12q-127.428571 13.142857-211.142857 80.857143t-75.714286 151.142857q5.142857 54.857143 50.857143 97.142857t119.142857 62.285714 156.857143 12q127.428571-13.142857 211.142857-80.857143t75.714286-151.142857zm176 2.285714q0 38.857143-21.142857 79.714286t-62.285714 78.285714-96.285714 67.142857-129.142857 47.428571-154.571429 17.714286-157.142857-19.142857-137.428571-53.142857-98-86.285714-37.142857-114q0-65.714286 39.714286-140t112.857143-147.428571q96.571429-96.571429 195.142857-134.857143t140.857143 4q37.142857 36.571429 11.428571 119.428571-2.285714 8-0.571429 11.428571t5.714286 4 8.285714 2.857143 7.714286-2l3.428571-1.142857q79.428571-33.714286 140.571429-33.714286t87.428571 34.857143q25.714286 36 0 101.714286-1.142857 7.428571-2.571429 11.428571t2.571429 7.142857 6.857143 4.285714 9.714286 3.428571q32.571429 10.285714 58.857143 26.857143t45.714286 46.571429 19.428571 66.571429zm-42.285714-356.571429q24 26.857143 31.142857 62t-3.714286 67.142857q-4.571429 13.142857-16.857143 19.428571t-25.428571 2.285714q-13.142857-4.571429-19.428571-16.857143t-2.285714-25.428571q11.428571-36-13.714286-63.428571t-61.142857-20q-13.714286 2.857143-25.714286-4.571429t-14.285714-21.142857q-2.857143-13.714286 4.571429-25.428571t21.142857-14.571429q34.285714-7.428571 68 3.142857t57.714286 37.428571zm103.428571-93.142857q49.714286 54.857143 64.285714 127.142857t-7.714286 138q-5.142857 15.428571-19.428571 22.857143t-29.714286 2.285714-22.857143-19.428571-2.857143-29.714286q16-46.857143 5.714286-98.285714t-45.714286-90.285714q-35.428571-39.428571-84.571429-54.571429t-98.857143-4.857143q-16 3.428571-29.714286-5.428571t-17.142857-24.857143 5.428571-29.428571 24.857143-16.857143q70.285714-14.857143 139.428571 6.571429t118.857143 76.857143z"></path>
</svg>

    </a>
  
    <a href="https://www.zhihu.com/people/da-chen-zi-67" rel="me noopener" class="iconfont"
      title="zhihu"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M351.791182 562.469462l192.945407 0c0-45.367257-21.3871-71.939449-21.3871-71.939449L355.897709 490.530013c3.977591-82.182744 7.541767-187.659007 8.816806-226.835262l159.282726 0c0 0-0.86367-67.402109-18.578124-67.402109s-279.979646 0-279.979646 0 16.850783-88.141456 39.318494-127.053698c0 0-83.60514-4.510734-112.121614 106.962104S81.344656 355.077018 76.80834 367.390461c-4.536316 12.313443 24.62791 5.832845 36.941354 0 12.313443-5.832845 68.050885-25.924439 84.252893-103.69571l86.570681 0c1.165546 49.28652 4.596691 200.335724 3.515057 226.835262L109.86113 490.530013c-25.275663 18.147312-33.701566 71.939449-33.701566 71.939449L279.868105 562.469462c-8.497535 56.255235-23.417339 128.763642-44.275389 167.210279-33.05279 60.921511-50.55235 116.65793-169.802314 212.576513 0 0-19.442818 14.257725 40.829917 9.073656 60.273758-5.185093 117.305683-20.739347 156.840094-99.807147 20.553105-41.107233 41.805128-93.250824 58.386782-146.138358l-0.055259 0.185218 167.855986 193.263655c0 0 22.035876-51.847855 5.832845-108.880803L371.045711 650.610918l-42.1244 31.157627-0.045025 0.151449c11.69946-41.020252 20.11206-81.5749 22.726607-116.858498C351.665315 564.212152 351.72876 563.345412 351.791182 562.469462z"></path>
  <path d="M584.918753 182.033893l0 668.840094 70.318532 0 28.807093 80.512708 121.875768-80.512708 153.600307 0L959.520453 182.033893 584.918753 182.033893zM887.150192 778.934538l-79.837326 0-99.578949 65.782216-23.537066-65.782216-24.855084 0L659.341766 256.673847l227.807403 0L887.149169 778.934538z"></path>
</svg>

    </a>


<a href="https://dachenzi.github.io/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2016 -
    2020
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        daxin.li
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>



  <script type="text/javascript">
    window.MathJax = {
      showProcessingMessages: false,
      messageStyle: 'none'
    };
  </script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML' async></script>









  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  















</body>
</html>
